<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Project Report</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="report_files/libs/clipboard/clipboard.min.js"></script>
<script src="report_files/libs/quarto-html/quarto.js"></script>
<script src="report_files/libs/quarto-html/popper.min.js"></script>
<script src="report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="report_files/libs/quarto-html/anchor.min.js"></script>
<link href="report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project Report</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="report" class="level1">
<h1>Report</h1>
<section id="introduction-and-data" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-data">Introduction and data</h2>
</section>
<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>The project idea is based on a CNN news article regarding working hours in South Korea (https://edition.cnn.com/2018/07/02/health/south-korea-work-hours/index.html). It sais that South Korea cutted its work limit from 68 hours a week to 52. A comparison of “Average annual hours actually worked per worker” by country (https://stats.oecd.org/Index.aspx?DataSetCode=ANHRS#) shows that in 2021 South Korea had the 4th highest amount of hours of 35 countries tracked by OECD. The average was 1.915 hours where Germany worked the least with 1.349 hours.</p>
<p>South Korea and Germany are both known for strong economies but obviously behave different regarding working hours. Due to this fact the project group (herein, “we”) decided to investigate the subject of <strong>labor productivity</strong>. <strong>Productivity</strong> is commonly defined as a ratio between the volume of output and the volume of inputs. In other words, it measures how efficiently production inputs, such as <strong>labour</strong>, is used in an economy to produce a given level of output. Hence it is a key source for economic growth and affects our future worklife.</p>
</section>
<section id="research-questions" class="level2">
<h2 class="anchored" data-anchor-id="research-questions">Research Questions</h2>
<ol type="1">
<li>Does the longer average annual working hours increase labor productivity?</li>
<li>What is the most related factor in improving labor productivity?</li>
</ol>
<ul>
<li>Annual working hours per worker</li>
<li>GDP of the country</li>
<li>Gini coefficient of country</li>
<li>Life satisfaction level of worker</li>
<li>Amount of health expenditure of worker</li>
</ul>
<p>Please find the literature, our research question is motivated by, in the sources.</p>
</section>
<section id="hypotheses" class="level2">
<h2 class="anchored" data-anchor-id="hypotheses">Hypotheses</h2>
<ol type="1">
<li>There is no correlation between working hours and labor productivity. (= Null hypothesis of our first research question)</li>
<li>Life satisfaction level of country is the most related factor (regarding factors listed above) in improving labor productivity.</li>
</ol>
</section>
<section id="data-description" class="level2">
<h2 class="anchored" data-anchor-id="data-description">Data description</h2>
<p>The initial data set consinst of 3.471 observations with a time range from 1950 to 2017. Due to fact that time series analysis is not the goal of this project, the data set was flagged on the latest observations of 2017. The adjusted data set consinst of 66 observations, 11 columns.</p>
<section id="variables-description" class="level3">
<h3 class="anchored" data-anchor-id="variables-description">Variables description</h3>
<p>First four columns include four spatial and temporal dimensions: - Continent: Continent name - Country: Country name - Country Code: Country codes by alpha-3 - Year: Calendar Year - Only 2017 data was considered in this analysis to satisfy the independence condition</p>
<p>At least six columns have useful and unique numeric predictors, and each column contains different numeric informations that could be independent variable. There is one variable that can be defined as a dependent variable to perform an analysis based on the research problem described below. - Resonable dependent variable: Labor productivity: Productivity is measured as gross domestic product (GDP) per hour of work. This data is adjusted for inflation and for differences in the cost of living between countries. - Independent variable - Average annual working hours per worker: Working hours are the annual average per worker - Gross domestic product (GDP) per capita: GDP per capita by country - Population: Population by country - Gini coefficient: Determinates the level of income inequality (0 = perfect equality / 1 = maximal inequality) - Life safisfaction: The level of life satisfaction for each country has been measured by survey: “Please imagine a ladder, with steps numbered from 0 at the bottom to 10 at the top. The top of the ladder represents the best possible life for you and the bottom of the ladder represents the worst possible life for you. On which step of the ladder would you say you personally feel you stand at this time?” - Current health expenditure per capita: Healthcare expenditure per capita is measured in current international-$, which adjusts for price differences between countries.</p>
<p>Please find the source description in the Appendix.</p>
</section>
<section id="limitations" class="level3">
<h3 class="anchored" data-anchor-id="limitations">Limitations</h3>
<ul>
<li>The amount of observations is very small. The sample size could undermine the validity of the model results.</li>
<li>As Labor productivity is a figure calculated from Average annual working hours per worker and GDP it could cause multicollinearity.</li>
</ul>
<p>The following table (Table 1) shows the first 10 observations of the data set consolidated from the exports:</p>
<div class="cell" data-execution_count="86">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Setup</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> joblib</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> cross_val_score</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.neighbors <span class="im">import</span> KNeighborsRegressor</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> r2_score</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_absolute_error</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> Lasso</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns <span class="co"># Python data visualization library based on matplotlib. Used pairplot function in data exploration and heatmap function for visualization of multicollinearity check</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># statmodels - supports specifying models using R-style formulas and pandas DataFrames</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.outliers_influence <span class="im">import</span> variance_inflation_factor <span class="co"># Measure for the increase of the variance of the parameter estimates if an additional variable, given by the design matrix is added to the linear regression. It is a measure for multicollinearity of the design matrix</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.tools.tools <span class="im">import</span> add_constant <span class="co"># Add a column to an array</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.formula.api <span class="im">import</span> ols <span class="co"># API that focuses on models and the most frequently used statistical test, and tools for Ordinary Least Squares regression</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="table-1-overview-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="table-1-overview-dataframe">Table 1: Overview Dataframe</h3>
<div class="cell" data-execution_count="87">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import data and first view on dataframe</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/jh294/project/main/data/raw/Labor_Productivity_Analysis_final.csv'</span>,sep<span class="op">=</span><span class="st">';'</span>,decimal<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.rename(columns <span class="op">=</span> {<span class="st">'gini_coefficient'</span>:<span class="st">'Gini coefficient'</span>})</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="87">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Continent</th>
      <th>Country</th>
      <th>Code</th>
      <th>Year</th>
      <th>Average annual working hours per worker</th>
      <th>GDP per capita</th>
      <th>Population</th>
      <th>Gini coefficient</th>
      <th>Life satisfaction</th>
      <th>Productivity</th>
      <th>Current health expenditure per capita</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Americas</td>
      <td>Argentina</td>
      <td>ARG</td>
      <td>2017</td>
      <td>1691.5363</td>
      <td>23272.18</td>
      <td>44054616</td>
      <td>NaN</td>
      <td>6.085561</td>
      <td>30.955460</td>
      <td>2470.11</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Oceania</td>
      <td>Australia</td>
      <td>AUS</td>
      <td>2017</td>
      <td>1731.4943</td>
      <td>52536.19</td>
      <td>24590336</td>
      <td>NaN</td>
      <td>7.233995</td>
      <td>60.341679</td>
      <td>4715.83</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Europe</td>
      <td>Austria</td>
      <td>AUT</td>
      <td>2017</td>
      <td>1613.0519</td>
      <td>51954.28</td>
      <td>8797497</td>
      <td>0.297376</td>
      <td>7.195361</td>
      <td>64.780170</td>
      <td>5641.18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Asia</td>
      <td>Bangladesh</td>
      <td>BGD</td>
      <td>2017</td>
      <td>2232.3542</td>
      <td>4112.70</td>
      <td>161793968</td>
      <td>NaN</td>
      <td>5.114217</td>
      <td>4.307637</td>
      <td>101.18</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Europe</td>
      <td>Belgium</td>
      <td>BEL</td>
      <td>2017</td>
      <td>1544.2690</td>
      <td>45150.20</td>
      <td>11384491</td>
      <td>0.273880</td>
      <td>6.772138</td>
      <td>68.516521</td>
      <td>5450.48</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Americas</td>
      <td>Brazil</td>
      <td>BRA</td>
      <td>2017</td>
      <td>1709.4856</td>
      <td>14284.61</td>
      <td>208504960</td>
      <td>0.533340</td>
      <td>6.451149</td>
      <td>19.188294</td>
      <td>1375.66</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Europe</td>
      <td>Bulgaria</td>
      <td>BGR</td>
      <td>2017</td>
      <td>1643.5475</td>
      <td>19579.83</td>
      <td>7182430</td>
      <td>0.403790</td>
      <td>5.108438</td>
      <td>25.392122</td>
      <td>1607.71</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Asia</td>
      <td>Cambodia</td>
      <td>KHM</td>
      <td>2017</td>
      <td>2455.5508</td>
      <td>3950.93</td>
      <td>15830694</td>
      <td>NaN</td>
      <td>4.998285</td>
      <td>3.022650</td>
      <td>224.81</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Americas</td>
      <td>Canada</td>
      <td>CAN</td>
      <td>2017</td>
      <td>1696.4624</td>
      <td>48902.64</td>
      <td>36554344</td>
      <td>0.333082</td>
      <td>7.109076</td>
      <td>56.255718</td>
      <td>5208.72</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Americas</td>
      <td>Chile</td>
      <td>CHL</td>
      <td>2017</td>
      <td>1974.0000</td>
      <td>22864.05</td>
      <td>18368582</td>
      <td>0.444410</td>
      <td>5.942250</td>
      <td>27.260791</td>
      <td>2219.14</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>As explained in the variables description above, we set different variables as independent variables. In setting variables, we collected and selected factors that might be related to labor productivity, and by doing so we attempted to identify which independent variables were most closely related to labor productivity, our response variable. For example, GDP is widely believed to be closely related to labor productivity, but it is difficult to answer the question of whether this factor has the greatest influence among the productivity-related variables. Therefore, further analysis can identify the relationship between this variable and the response variable.</p>
</section>
<section id="table-2-data-information" class="level3">
<h3 class="anchored" data-anchor-id="table-2-data-information">Table 2: Data information</h3>
<div class="cell" data-execution_count="88">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 66 entries, 0 to 65
Data columns (total 11 columns):
 #   Column                                   Non-Null Count  Dtype  
---  ------                                   --------------  -----  
 0   Continent                                66 non-null     object 
 1   Country                                  66 non-null     object 
 2   Code                                     66 non-null     object 
 3   Year                                     66 non-null     int64  
 4   Average annual working hours per worker  66 non-null     float64
 5   GDP per capita                           66 non-null     float64
 6   Population                               66 non-null     int64  
 7   Gini coefficient                         48 non-null     float64
 8   Life satisfaction                        65 non-null     float64
 9   Productivity                             65 non-null     float64
 10  Current health expenditure per capita    64 non-null     float64
dtypes: float64(6), int64(2), object(3)
memory usage: 5.8+ KB</code></pre>
</div>
</div>
</section>
</section>
<section id="data-corrections" class="level2">
<h2 class="anchored" data-anchor-id="data-corrections">Data corrections</h2>
<p>As we can already investigate null values in table 1 and table 2, first of all we check the dataframe for these cases.</p>
<section id="table-3-null-values" class="level3">
<h3 class="anchored" data-anchor-id="table-3-null-values">Table 3: Null values</h3>
<div class="cell" data-execution_count="89">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for missing values for each variable.</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Continent                                   0
Country                                     0
Code                                        0
Year                                        0
Average annual working hours per worker     0
GDP per capita                              0
Population                                  0
Gini coefficient                           18
Life satisfaction                           1
Productivity                                1
Current health expenditure per capita       2
dtype: int64</code></pre>
</div>
</div>
<p>This information reflects that our data set contains some null values we need to handle with. As a rule of thumb a linear regression with one dependent and one independent variable requires at least 30 observations. Hence it can be assumed that the number of observations is sufficient for a simple linear regression model. Regarding a multiple linear regression model for each additional indipendent variable added to the equation an additional 10 observations are required (https://home.csulb.edu/<sub>msaintg/ppa696/696regmx.htm#:</sub>:text=Regression%20with%20only%20one%20dependent,variable%20added%20to%20the%20equation). In our case, a dataset of at least 80 observations would be required to take every independent variable into account. For this reason we cannot afford to eliminate the observations with missing values. Alternativley we will appropriately replace the missing values with mean or median. Despite the data correction we furthermore need to think about eleminating isolated variables of our multiple linear regression model.</p>
<p>Additionally we were thinking about a method called oversampling to add artificial samples. However, research on this subject revealed, that this method only works for categorical variables to adjust the class distribution of a data set. Hence it is not practicable for this project.</p>
<p>To deal with existing missing values we had to figure out what is a better measure of the central tendency of data and use that value to appropriately replace missing values. We generated distribution plots to decide which techniques to use. - Outliers data points will have a significant impact on the mean and hence, in such cases, it is not recommended to use the mean for replacing the missing values. - For symmetric data distribution, one can use the mean value for imputing missing values.</p>
<p>Please find the additional boxplot visualization in the Appendix.</p>
</section>
<section id="chart-1-distribution-splot" class="level3">
<h3 class="anchored" data-anchor-id="chart-1-distribution-splot">Chart 1: Distribution Splot</h3>
<div class="cell" data-execution_count="90">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>alt.Chart(df).mark_bar().encode(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    alt.X(alt.repeat(<span class="st">"column"</span>), <span class="bu">type</span><span class="op">=</span><span class="st">"quantitative"</span>, <span class="bu">bin</span><span class="op">=</span><span class="va">True</span>),</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'count()'</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">150</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">150</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>).repeat(</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    column<span class="op">=</span>[<span class="st">'Productivity'</span>, <span class="st">'Average annual working hours per worker'</span>, <span class="st">'GDP per capita'</span>, <span class="st">'Population'</span>,<span class="st">'Gini coefficient'</span>,<span class="st">'Life satisfaction'</span>,<span class="st">'Current health expenditure per capita'</span>]</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\ji_so\anaconda3\envs\stats\lib\site-packages\altair\utils\core.py:317: FutureWarning: iteritems is deprecated and will be removed in a future version. Use .items instead.
  for col_name, dtype in df.dtypes.iteritems():</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="90">

<div id="altair-viz-d3f93e11a0394592aaa338052f76b9eb"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-d3f93e11a0394592aaa338052f76b9eb") {
      outputDiv = document.getElementById("altair-viz-d3f93e11a0394592aaa338052f76b9eb");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "repeat": {"column": ["Productivity", "Average annual working hours per worker", "GDP per capita", "Population", "Gini coefficient", "Life satisfaction", "Current health expenditure per capita"]}, "spec": {"data": {"name": "data-64b3dbd993b3a62a294dc9fa5c672e71"}, "mark": "bar", "encoding": {"x": {"bin": true, "field": {"repeat": "column"}, "type": "quantitative"}, "y": {"aggregate": "count", "type": "quantitative"}}, "height": 150, "width": 150}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-64b3dbd993b3a62a294dc9fa5c672e71": [{"Continent": "Americas", "Country": "Argentina", "Code": "ARG", "Year": 2017, "Average annual working hours per worker": 1691.5363, "GDP per capita": 23272.18, "Population": 44054616, "Gini coefficient": null, "Life satisfaction": 6.085560799, "Productivity": 30.95546039, "Current health expenditure per capita": 2470.11}, {"Continent": "Oceania", "Country": "Australia", "Code": "AUS", "Year": 2017, "Average annual working hours per worker": 1731.4943, "GDP per capita": 52536.19, "Population": 24590336, "Gini coefficient": null, "Life satisfaction": 7.233994961, "Productivity": 60.3416786, "Current health expenditure per capita": 4715.83}, {"Continent": "Europe", "Country": "Austria", "Code": "AUT", "Year": 2017, "Average annual working hours per worker": 1613.0519, "GDP per capita": 51954.28, "Population": 8797497, "Gini coefficient": 0.29737585, "Life satisfaction": 7.195361137, "Productivity": 64.7801697, "Current health expenditure per capita": 5641.18}, {"Continent": "Asia", "Country": "Bangladesh", "Code": "BGD", "Year": 2017, "Average annual working hours per worker": 2232.3542, "GDP per capita": 4112.7, "Population": 161793968, "Gini coefficient": null, "Life satisfaction": 5.114216805, "Productivity": 4.307636988, "Current health expenditure per capita": 101.18}, {"Continent": "Europe", "Country": "Belgium", "Code": "BEL", "Year": 2017, "Average annual working hours per worker": 1544.269, "GDP per capita": 45150.2, "Population": 11384491, "Gini coefficient": 0.273879678, "Life satisfaction": 6.772138119, "Productivity": 68.51652068, "Current health expenditure per capita": 5450.48}, {"Continent": "Americas", "Country": "Brazil", "Code": "BRA", "Year": 2017, "Average annual working hours per worker": 1709.4856, "GDP per capita": 14284.61, "Population": 208504960, "Gini coefficient": 0.5333405, "Life satisfaction": 6.451148987, "Productivity": 19.18829359, "Current health expenditure per capita": 1375.66}, {"Continent": "Europe", "Country": "Bulgaria", "Code": "BGR", "Year": 2017, "Average annual working hours per worker": 1643.5475, "GDP per capita": 19579.83, "Population": 7182430, "Gini coefficient": 0.403790468, "Life satisfaction": 5.108438015, "Productivity": 25.39212178, "Current health expenditure per capita": 1607.71}, {"Continent": "Asia", "Country": "Cambodia", "Code": "KHM", "Year": 2017, "Average annual working hours per worker": 2455.5508, "GDP per capita": 3950.93, "Population": 15830694, "Gini coefficient": null, "Life satisfaction": 4.998284817, "Productivity": 3.022649989, "Current health expenditure per capita": 224.81}, {"Continent": "Americas", "Country": "Canada", "Code": "CAN", "Year": 2017, "Average annual working hours per worker": 1696.4624, "GDP per capita": 48902.64, "Population": 36554344, "Gini coefficient": 0.333082063, "Life satisfaction": 7.1090765, "Productivity": 56.25571848, "Current health expenditure per capita": 5208.72}, {"Continent": "Americas", "Country": "Chile", "Code": "CHL", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 22864.05, "Population": 18368582, "Gini coefficient": 0.444410284, "Life satisfaction": 5.942250252, "Productivity": 27.26079146, "Current health expenditure per capita": 2219.14}, {"Continent": "Asia", "Country": "China", "Code": "CHN", "Year": 2017, "Average annual working hours per worker": 2174.3501, "GDP per capita": 13854.23, "Population": 1410275968, "Gini coefficient": 0.390757759, "Life satisfaction": 5.144120216, "Productivity": 11.35773921, "Current health expenditure per capita": 706.37}, {"Continent": "Americas", "Country": "Colombia", "Code": "COL", "Year": 2017, "Average annual working hours per worker": 1997.748, "GDP per capita": 13426.76, "Population": 48351668, "Gini coefficient": 0.497154848, "Life satisfaction": 6.350297928, "Productivity": 15.63291474, "Current health expenditure per capita": 1088.17}, {"Continent": "Americas", "Country": "Costa Rica", "Code": "CRI", "Year": 2017, "Average annual working hours per worker": 2212.3835, "GDP per capita": 18127.81, "Population": 4993849, "Gini coefficient": 0.483465406, "Life satisfaction": 6.997618675, "Productivity": 18.72804079, "Current health expenditure per capita": 1439.77}, {"Continent": "Europe", "Country": "Croatia", "Code": "HRV", "Year": 2017, "Average annual working hours per worker": 1834.9327, "GDP per capita": 25359.7, "Population": 4192468, "Gini coefficient": 0.303545759, "Life satisfaction": 5.625743866, "Productivity": 33.15712673, "Current health expenditure per capita": 1804.07}, {"Continent": "Asia", "Country": "Cyprus", "Code": "CYP", "Year": 2017, "Average annual working hours per worker": 1783.5206, "GDP per capita": 31253.99, "Population": 1208527, "Gini coefficient": 0.31416234, "Life satisfaction": 6.136832714, "Productivity": 42.59221773, "Current health expenditure per capita": 2532.87}, {"Continent": "Europe", "Country": "Czechia", "Code": "CZE", "Year": 2017, "Average annual working hours per worker": 1776.162, "GDP per capita": 35579.26, "Population": 10531315, "Gini coefficient": 0.248522097, "Life satisfaction": null, "Productivity": 39.42304869, "Current health expenditure per capita": 2785.65}, {"Continent": "Europe", "Country": "Denmark", "Code": "DNK", "Year": 2017, "Average annual working hours per worker": 1400.3815, "GDP per capita": 51671.6, "Population": 5737286, "Gini coefficient": 0.287466614, "Life satisfaction": 7.693003178, "Productivity": 72.54114087, "Current health expenditure per capita": 5573.28}, {"Continent": "Americas", "Country": "Ecuador", "Code": "ECU", "Year": 2017, "Average annual working hours per worker": 1701.3558, "GDP per capita": 11413.08, "Population": 16696947, "Gini coefficient": 0.446730295, "Life satisfaction": 5.809131145, "Productivity": 15.32391947, "Current health expenditure per capita": 863.05}, {"Continent": "Europe", "Country": "Estonia", "Code": "EST", "Year": 2017, "Average annual working hours per worker": 1856.6827, "GDP per capita": 30981.6, "Population": 1317550, "Gini coefficient": 0.303550262, "Life satisfaction": 6.034641266, "Productivity": 33.48799406, "Current health expenditure per capita": 2241.85}, {"Continent": "Europe", "Country": "Finland", "Code": "FIN", "Year": 2017, "Average annual working hours per worker": 1659.2806, "GDP per capita": 43827.15, "Population": 5508146, "Gini coefficient": 0.273830854, "Life satisfaction": 7.780347824, "Productivity": 58.88463786, "Current health expenditure per capita": 4339.1}, {"Continent": "Europe", "Country": "France", "Code": "FRA", "Year": 2017, "Average annual working hours per worker": 1514.1371, "GDP per capita": 42818.76, "Population": 64144092, "Gini coefficient": 0.316320654, "Life satisfaction": 6.689644337, "Productivity": 68.37434064, "Current health expenditure per capita": 5059.99}, {"Continent": "Europe", "Country": "Germany", "Code": "DEU", "Year": 2017, "Average annual working hours per worker": 1353.8868, "GDP per capita": 51253.33, "Population": 82624368, "Gini coefficient": 0.312019051, "Life satisfaction": 7.035472393, "Productivity": 69.84848268, "Current health expenditure per capita": 6028.25}, {"Continent": "Europe", "Country": "Greece", "Code": "GRC", "Year": 2017, "Average annual working hours per worker": 2016.8954, "GDP per capita": 26477.58, "Population": 10692230, "Gini coefficient": 0.343520211, "Life satisfaction": 5.952157497, "Productivity": 33.35995335, "Current health expenditure per capita": 2325.62}, {"Continent": "Asia", "Country": "Hong Kong", "Code": "HKG", "Year": 2017, "Average annual working hours per worker": 2185.5789, "GDP per capita": 49927.07, "Population": 7461508, "Gini coefficient": null, "Life satisfaction": 5.659317017, "Productivity": 44.37298407, "Current health expenditure per capita": null}, {"Continent": "Europe", "Country": "Hungary", "Code": "HUN", "Year": 2017, "Average annual working hours per worker": 1937.3325, "GDP per capita": 26908.97, "Population": 9788940, "Gini coefficient": 0.305841235, "Life satisfaction": 6.000259876, "Productivity": 33.0558028, "Current health expenditure per capita": 1988.7}, {"Continent": "Europe", "Country": "Iceland", "Code": "ISL", "Year": 2017, "Average annual working hours per worker": 1493.3651, "GDP per capita": 49844.32, "Population": 343641, "Gini coefficient": 0.261315802, "Life satisfaction": 7.532504559, "Productivity": 59.12501586, "Current health expenditure per capita": 4762.73}, {"Continent": "Asia", "Country": "India", "Code": "IND", "Year": 2017, "Average annual working hours per worker": 2117.0117, "GDP per capita": 6188.46, "Population": 1354195712, "Gini coefficient": 0.359430473, "Life satisfaction": 3.24876976, "Productivity": 8.009787126, "Current health expenditure per capita": 181.53}, {"Continent": "Asia", "Country": "Indonesia", "Code": "IDN", "Year": 2017, "Average annual working hours per worker": 2024.287, "GDP per capita": 10640.7, "Population": 264498848, "Gini coefficient": 0.38785263, "Life satisfaction": 5.346512794, "Productivity": 11.35478727, "Current health expenditure per capita": 317.59}, {"Continent": "Europe", "Country": "Ireland", "Code": "IRL", "Year": 2017, "Average annual working hours per worker": 1745.6843, "GDP per capita": 86808.65, "Population": 4771860, "Gini coefficient": 0.313598037, "Life satisfaction": 7.254841328, "Productivity": 109.488306, "Current health expenditure per capita": 5582.93}, {"Continent": "Asia", "Country": "Israel", "Code": "ISR", "Year": 2017, "Average annual working hours per worker": 1920.6106, "GDP per capita": 38979.03, "Population": 8309256, "Gini coefficient": 0.382020644, "Life satisfaction": 7.331779957, "Productivity": 41.0201119, "Current health expenditure per capita": 2992.02}, {"Continent": "Europe", "Country": "Italy", "Code": "ITA", "Year": 2017, "Average annual working hours per worker": 1722.6113, "GDP per capita": 40155.51, "Population": 60004024, "Gini coefficient": 0.359280009, "Life satisfaction": 6.445416927, "Productivity": 56.27207136, "Current health expenditure per capita": 3616.67}, {"Continent": "Asia", "Country": "Japan", "Code": "JPN", "Year": 2017, "Average annual working hours per worker": 1738.3633, "GDP per capita": 39598.29, "Population": 126662464, "Gini coefficient": null, "Life satisfaction": 5.908039093, "Productivity": 42.4229346, "Current health expenditure per capita": 4398.02}, {"Continent": "Europe", "Country": "Latvia", "Code": "LVA", "Year": 2017, "Average annual working hours per worker": 1874.5979, "GDP per capita": 27162.37, "Population": 1954861, "Gini coefficient": 0.355719346, "Life satisfaction": 5.969753742, "Productivity": 31.56864146, "Current health expenditure per capita": 1703.6}, {"Continent": "Europe", "Country": "Lithuania", "Code": "LTU", "Year": 2017, "Average annual working hours per worker": 1844.0171, "GDP per capita": 29832.8, "Population": 2904452, "Gini coefficient": 0.372896992, "Life satisfaction": 6.064097881, "Productivity": 32.99194736, "Current health expenditure per capita": 2178.09}, {"Continent": "Europe", "Country": "Luxembourg", "Code": "LUX", "Year": 2017, "Average annual working hours per worker": 1518.8575, "GDP per capita": 90597.55, "Population": 596290, "Gini coefficient": 0.345157399, "Life satisfaction": 7.404015541, "Productivity": 83.16536059, "Current health expenditure per capita": 5980.64}, {"Continent": "Asia", "Country": "Malaysia", "Code": "MYS", "Year": 2017, "Average annual working hours per worker": 2238.2729, "GDP per capita": 24159.17, "Population": 31975812, "Gini coefficient": null, "Life satisfaction": 5.427954197, "Productivity": 23.65407513, "Current health expenditure per capita": 987.58}, {"Continent": "Europe", "Country": "Malta", "Code": "MLT", "Year": 2017, "Average annual working hours per worker": 2040.0317, "GDP per capita": 35154.08, "Population": 479507, "Gini coefficient": 0.292322386, "Life satisfaction": 6.73297739, "Productivity": 39.21617358, "Current health expenditure per capita": 3873.25}, {"Continent": "Americas", "Country": "Mexico", "Code": "MEX", "Year": 2017, "Average annual working hours per worker": 2255.0, "GDP per capita": 18939.9, "Population": 122839256, "Gini coefficient": null, "Life satisfaction": 6.431945324, "Productivity": 21.02031412, "Current health expenditure per capita": 1076.31}, {"Continent": "Asia", "Country": "Myanmar", "Code": "MMR", "Year": 2017, "Average annual working hours per worker": 2437.8633, "GDP per capita": 4762.93, "Population": 52288344, "Gini coefficient": 0.306968695, "Life satisfaction": 4.43423748, "Productivity": 4.735483675, "Current health expenditure per capita": 214.63}, {"Continent": "Europe", "Country": "Netherlands", "Code": "NLD", "Year": 2017, "Average annual working hours per worker": 1430.0229, "GDP per capita": 54233.45, "Population": 17207204, "Gini coefficient": 0.285358194, "Life satisfaction": 7.42526865, "Productivity": 70.61846134, "Current health expenditure per capita": 5602.59}, {"Continent": "Oceania", "Country": "New Zealand", "Code": "NZL", "Year": 2017, "Average annual working hours per worker": 1752.0, "GDP per capita": 39728.86, "Population": 4746253, "Gini coefficient": null, "Life satisfaction": 7.205174446, "Productivity": 42.73759913, "Current health expenditure per capita": 3875.54}, {"Continent": "Africa", "Country": "Nigeria", "Code": "NGA", "Year": 2017, "Average annual working hours per worker": 1827.2401, "GDP per capita": 5060.98, "Population": 193495904, "Gini coefficient": null, "Life satisfaction": 4.356419086, "Productivity": null, "Current health expenditure per capita": 194.81}, {"Continent": "Europe", "Country": "Norway", "Code": "NOR", "Year": 2017, "Average annual working hours per worker": 1417.4723, "GDP per capita": 69604.79, "Population": 5277396, "Gini coefficient": 0.269873302, "Life satisfaction": 7.442139626, "Productivity": 96.84903378, "Current health expenditure per capita": 6630.84}, {"Continent": "Asia", "Country": "Pakistan", "Code": "PAK", "Year": 2017, "Average annual working hours per worker": 2096.1443, "GDP per capita": 4743.69, "Population": 216379648, "Gini coefficient": null, "Life satisfaction": 4.442717552, "Productivity": 8.322207396, "Current health expenditure per capita": 132.67}, {"Continent": "Americas", "Country": "Peru", "Code": "PER", "Year": 2017, "Average annual working hours per worker": 1932.4581, "GDP per capita": 11956.63, "Population": 31605488, "Gini coefficient": 0.4329279, "Life satisfaction": 5.999381542, "Productivity": 10.7489986, "Current health expenditure per capita": 624.02}, {"Continent": "Asia", "Country": "Philippines", "Code": "PHL", "Year": 2017, "Average annual working hours per worker": 2148.5645, "GDP per capita": 7858.48, "Population": 106738496, "Gini coefficient": null, "Life satisfaction": 6.267745018, "Productivity": 9.450449282, "Current health expenditure per capita": 321.62}, {"Continent": "Europe", "Country": "Poland", "Code": "POL", "Year": 2017, "Average annual working hours per worker": 2028.4952, "GDP per capita": 29047.82, "Population": 38532816, "Gini coefficient": 0.302965813, "Life satisfaction": 6.24209404, "Productivity": 33.66429154, "Current health expenditure per capita": 1972.37}, {"Continent": "Europe", "Country": "Portugal", "Code": "PRT", "Year": 2017, "Average annual working hours per worker": 1863.1744, "GDP per capita": 30430.03, "Population": 10307528, "Gini coefficient": 0.338038412, "Life satisfaction": 6.095473289, "Productivity": 34.62209549, "Current health expenditure per capita": 3072.32}, {"Continent": "Europe", "Country": "Romania", "Code": "ROU", "Year": 2017, "Average annual working hours per worker": 1805.9998, "GDP per capita": 25424.06, "Population": 19698852, "Gini coefficient": 0.360168279, "Life satisfaction": 6.129942417, "Productivity": 32.2711146, "Current health expenditure per capita": 1398.55}, {"Continent": "Europe", "Country": "Russia", "Code": "RUS", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 26797.82, "Population": 145452544, "Gini coefficient": 0.37239071, "Life satisfaction": 5.440523624, "Productivity": 27.44623652, "Current health expenditure per capita": 1406.2}, {"Continent": "Asia", "Country": "Singapore", "Code": "SGP", "Year": 2017, "Average annual working hours per worker": 2237.7263, "GDP per capita": 81444.79, "Population": 5764489, "Gini coefficient": null, "Life satisfaction": 6.378359795, "Productivity": 54.29877798, "Current health expenditure per capita": 4091.44}, {"Continent": "Europe", "Country": "Slovakia", "Code": "SVK", "Year": 2017, "Average annual working hours per worker": 1745.2307, "GDP per capita": 26467.1, "Population": 5439418, "Gini coefficient": 0.23237751, "Life satisfaction": 6.243428707, "Productivity": 35.16566573, "Current health expenditure per capita": 2038.16}, {"Continent": "Europe", "Country": "Slovenia", "Code": "SVN", "Year": 2017, "Average annual working hours per worker": 1655.089, "GDP per capita": 31594.71, "Population": 2098396, "Gini coefficient": 0.242193073, "Life satisfaction": 6.665273666, "Productivity": 40.55475278, "Current health expenditure per capita": 2998.32}, {"Continent": "Africa", "Country": "South Africa", "Code": "ZAF", "Year": 2017, "Average annual working hours per worker": 2209.0916, "GDP per capita": 12735.03, "Population": 56641208, "Gini coefficient": null, "Life satisfaction": 5.034863472, "Productivity": 18.05485455, "Current health expenditure per capita": 1107.89}, {"Continent": "Asia", "Country": "South Korea", "Code": "KOR", "Year": 2017, "Average annual working hours per worker": 2063.3315, "GDP per capita": 40875.21, "Population": 51511640, "Gini coefficient": null, "Life satisfaction": 5.902816772, "Productivity": 39.08392755, "Current health expenditure per capita": 2925.95}, {"Continent": "Europe", "Country": "Spain", "Code": "ESP", "Year": 2017, "Average annual working hours per worker": 1686.4973, "GDP per capita": 38928.51, "Population": 46584168, "Gini coefficient": 0.346545469, "Life satisfaction": 6.457449436, "Productivity": 56.06301345, "Current health expenditure per capita": 3556.87}, {"Continent": "Asia", "Country": "Sri Lanka", "Code": "LKA", "Year": 2017, "Average annual working hours per worker": 1923.9354, "GDP per capita": 12733.1, "Population": 21506816, "Gini coefficient": null, "Life satisfaction": 4.213299274, "Productivity": 17.04851325, "Current health expenditure per capita": 459.25}, {"Continent": "Europe", "Country": "Sweden", "Code": "SWE", "Year": 2017, "Average annual working hours per worker": 1609.2896, "GDP per capita": 52032.67, "Population": 10058191, "Gini coefficient": 0.287746034, "Life satisfaction": 7.398092747, "Productivity": 64.3374695, "Current health expenditure per capita": 5655.7}, {"Continent": "Europe", "Country": "Switzerland", "Code": "CHE", "Year": 2017, "Average annual working hours per worker": 1589.6758, "GDP per capita": 73624.98, "Population": 8451688, "Gini coefficient": 0.32676334, "Life satisfaction": 7.69422102, "Productivity": 80.58822762, "Current health expenditure per capita": 7989.64}, {"Continent": "Asia", "Country": "Taiwan", "Code": "TWN", "Year": 2017, "Average annual working hours per worker": 1990.3212, "GDP per capita": 45375.41, "Population": 23665028, "Gini coefficient": null, "Life satisfaction": 6.537089825, "Productivity": 44.99929907, "Current health expenditure per capita": null}, {"Continent": "Asia", "Country": "Thailand", "Code": "THA", "Year": 2017, "Average annual working hours per worker": 2185.4456, "GDP per capita": 16665.38, "Population": 70898208, "Gini coefficient": 0.36528755, "Life satisfaction": 6.02215147, "Productivity": 14.74583813, "Current health expenditure per capita": 669.58}, {"Continent": "Asia", "Country": "Turkey", "Code": "TUR", "Year": 2017, "Average annual working hours per worker": 1832.0, "GDP per capita": 26611.18, "Population": 82089824, "Gini coefficient": 0.414056667, "Life satisfaction": 4.87207365, "Productivity": 41.79920311, "Current health expenditure per capita": 1166.73}, {"Continent": "Europe", "Country": "United Kingdom", "Code": "GBR", "Year": 2017, "Average annual working hours per worker": 1670.2728, "GDP per capita": 44093.93, "Population": 66064808, "Gini coefficient": 0.351488307, "Life satisfaction": 7.157151222, "Productivity": 54.67692069, "Current health expenditure per capita": 4515.59}, {"Continent": "Americas", "Country": "United States", "Code": "USA", "Year": 2017, "Average annual working hours per worker": 1757.2255, "GDP per capita": 60116.57, "Population": 329791232, "Gini coefficient": 0.411805587, "Life satisfaction": 6.943701267, "Productivity": 71.63857051, "Current health expenditure per capita": 10103.09}, {"Continent": "Americas", "Country": "Uruguay", "Code": "URY", "Year": 2017, "Average annual working hours per worker": 1552.347, "GDP per capita": 20615.56, "Population": 3422205, "Gini coefficient": 0.394645312, "Life satisfaction": 6.600337029, "Productivity": 28.29584596, "Current health expenditure per capita": 2029.89}, {"Continent": "Asia", "Country": "Vietnam", "Code": "VNM", "Year": 2017, "Average annual working hours per worker": 2169.5916, "GDP per capita": 6841.65, "Population": 94033048, "Gini coefficient": null, "Life satisfaction": 5.467451096, "Productivity": 5.652919029, "Current health expenditure per capita": 423.98}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<p>Exploration of data distribution with histograms shows that all variables are unimodel. Productivity, GDP per capita and Current health expenditure per capita are right skrewed variables whereas the other variables ara symmetry.</p>
<p>Gini coefficient, Life satisfaction, Productivity and Current health expenditure per capita have no symmetric data distribution. Hence we replace the missing values with median.</p>
<div class="cell" data-execution_count="91">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Gini coefficient'</span>] <span class="op">=</span> df[<span class="st">'Gini coefficient'</span>].fillna(df[<span class="st">'Gini coefficient'</span>].median())</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Life satisfaction'</span>] <span class="op">=</span> df[<span class="st">'Life satisfaction'</span>].fillna(df[<span class="st">'Life satisfaction'</span>].median())</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Productivity'</span>] <span class="op">=</span> df[<span class="st">'Productivity'</span>].fillna(df[<span class="st">'Productivity'</span>].median())</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Current health expenditure per capita'</span>] <span class="op">=</span> df[<span class="st">'Current health expenditure per capita'</span>].fillna(df[<span class="st">'Current health expenditure per capita'</span>].median())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As we adjusted all variables with null values, we make a final check.</p>
</section>
<section id="table-4-check-adjusted-null-values" class="level3">
<h3 class="anchored" data-anchor-id="table-4-check-adjusted-null-values">Table 4: Check adjusted null values</h3>
<div class="cell" data-execution_count="92">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Continent                                  0
Country                                    0
Code                                       0
Year                                       0
Average annual working hours per worker    0
GDP per capita                             0
Population                                 0
Gini coefficient                           0
Life satisfaction                          0
Productivity                               0
Current health expenditure per capita      0
dtype: int64</code></pre>
</div>
</div>
<p>There is no missing value anymore in our data, but we need an additional final step in our data correction. As we want to undergo a lasso regression model we need at least one categorical variable. Hence we change the type of continent from object to category. Table 5 gives information of the adjusted dataset after data corrections.</p>
<div class="cell" data-execution_count="93">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variable Continent is categorical</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Continent'</span>] <span class="op">=</span> df[<span class="st">'Continent'</span>].astype(<span class="st">'category'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="94">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 66 entries, 0 to 65
Data columns (total 11 columns):
 #   Column                                   Non-Null Count  Dtype   
---  ------                                   --------------  -----   
 0   Continent                                66 non-null     category
 1   Country                                  66 non-null     object  
 2   Code                                     66 non-null     object  
 3   Year                                     66 non-null     int64   
 4   Average annual working hours per worker  66 non-null     float64 
 5   GDP per capita                           66 non-null     float64 
 6   Population                               66 non-null     int64   
 7   Gini coefficient                         66 non-null     float64 
 8   Life satisfaction                        66 non-null     float64 
 9   Productivity                             66 non-null     float64 
 10  Current health expenditure per capita    66 non-null     float64 
dtypes: category(1), float64(6), int64(2), object(2)
memory usage: 5.6+ KB</code></pre>
</div>
</div>
</section>
<section id="exploratory-data-analysis" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory data analysis</h3>
<div class="cell" data-execution_count="95">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>summary_statistics <span class="op">=</span> pd.DataFrame(df[<span class="st">'Productivity'</span>].describe())</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>summary_statistics</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="95">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Productivity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>66.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>39.129739</td>
    </tr>
    <tr>
      <th>std</th>
      <td>23.782922</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.022650</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>19.646299</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>34.622095</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>56.207542</td>
    </tr>
    <tr>
      <th>max</th>
      <td>109.488306</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="96">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>alt.Chart(df).mark_bar().encode(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.X(<span class="st">'Continent'</span>, </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>           sort<span class="op">=</span><span class="st">'-x'</span>), <span class="co"># sort</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.Y(<span class="st">'Productivity'</span>),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.Color(<span class="st">'Continent'</span>, legend<span class="op">=</span>alt.Legend(title<span class="op">=</span><span class="st">"Continent by color"</span>))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\ji_so\anaconda3\envs\stats\lib\site-packages\altair\utils\core.py:317: FutureWarning: iteritems is deprecated and will be removed in a future version. Use .items instead.
  for col_name, dtype in df.dtypes.iteritems():</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="96">

<div id="altair-viz-c448be0d615346dda55c9ec3945ad96f"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c448be0d615346dda55c9ec3945ad96f") {
      outputDiv = document.getElementById("altair-viz-c448be0d615346dda55c9ec3945ad96f");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-559bd8043fdc435d5639f35caac91e34"}, "mark": "bar", "encoding": {"color": {"field": "Continent", "legend": {"title": "Continent by color"}, "type": "nominal"}, "x": {"field": "Productivity", "type": "quantitative"}, "y": {"field": "Continent", "sort": "-x", "type": "nominal"}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-559bd8043fdc435d5639f35caac91e34": [{"Continent": "Americas", "Country": "Argentina", "Code": "ARG", "Year": 2017, "Average annual working hours per worker": 1691.5363, "GDP per capita": 23272.18, "Population": 44054616, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.085560799, "Productivity": 30.95546039, "Current health expenditure per capita": 2470.11}, {"Continent": "Oceania", "Country": "Australia", "Code": "AUS", "Year": 2017, "Average annual working hours per worker": 1731.4943, "GDP per capita": 52536.19, "Population": 24590336, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.233994961, "Productivity": 60.3416786, "Current health expenditure per capita": 4715.83}, {"Continent": "Europe", "Country": "Austria", "Code": "AUT", "Year": 2017, "Average annual working hours per worker": 1613.0519, "GDP per capita": 51954.28, "Population": 8797497, "Gini coefficient": 0.29737585, "Life satisfaction": 7.195361137, "Productivity": 64.7801697, "Current health expenditure per capita": 5641.18}, {"Continent": "Asia", "Country": "Bangladesh", "Code": "BGD", "Year": 2017, "Average annual working hours per worker": 2232.3542, "GDP per capita": 4112.7, "Population": 161793968, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.114216805, "Productivity": 4.307636988, "Current health expenditure per capita": 101.18}, {"Continent": "Europe", "Country": "Belgium", "Code": "BEL", "Year": 2017, "Average annual working hours per worker": 1544.269, "GDP per capita": 45150.2, "Population": 11384491, "Gini coefficient": 0.273879678, "Life satisfaction": 6.772138119, "Productivity": 68.51652068, "Current health expenditure per capita": 5450.48}, {"Continent": "Americas", "Country": "Brazil", "Code": "BRA", "Year": 2017, "Average annual working hours per worker": 1709.4856, "GDP per capita": 14284.61, "Population": 208504960, "Gini coefficient": 0.5333405, "Life satisfaction": 6.451148987, "Productivity": 19.18829359, "Current health expenditure per capita": 1375.66}, {"Continent": "Europe", "Country": "Bulgaria", "Code": "BGR", "Year": 2017, "Average annual working hours per worker": 1643.5475, "GDP per capita": 19579.83, "Population": 7182430, "Gini coefficient": 0.403790468, "Life satisfaction": 5.108438015, "Productivity": 25.39212178, "Current health expenditure per capita": 1607.71}, {"Continent": "Asia", "Country": "Cambodia", "Code": "KHM", "Year": 2017, "Average annual working hours per worker": 2455.5508, "GDP per capita": 3950.93, "Population": 15830694, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.998284817, "Productivity": 3.022649989, "Current health expenditure per capita": 224.81}, {"Continent": "Americas", "Country": "Canada", "Code": "CAN", "Year": 2017, "Average annual working hours per worker": 1696.4624, "GDP per capita": 48902.64, "Population": 36554344, "Gini coefficient": 0.333082063, "Life satisfaction": 7.1090765, "Productivity": 56.25571848, "Current health expenditure per capita": 5208.72}, {"Continent": "Americas", "Country": "Chile", "Code": "CHL", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 22864.05, "Population": 18368582, "Gini coefficient": 0.444410284, "Life satisfaction": 5.942250252, "Productivity": 27.26079146, "Current health expenditure per capita": 2219.14}, {"Continent": "Asia", "Country": "China", "Code": "CHN", "Year": 2017, "Average annual working hours per worker": 2174.3501, "GDP per capita": 13854.23, "Population": 1410275968, "Gini coefficient": 0.390757759, "Life satisfaction": 5.144120216, "Productivity": 11.35773921, "Current health expenditure per capita": 706.37}, {"Continent": "Americas", "Country": "Colombia", "Code": "COL", "Year": 2017, "Average annual working hours per worker": 1997.748, "GDP per capita": 13426.76, "Population": 48351668, "Gini coefficient": 0.497154848, "Life satisfaction": 6.350297928, "Productivity": 15.63291474, "Current health expenditure per capita": 1088.17}, {"Continent": "Americas", "Country": "Costa Rica", "Code": "CRI", "Year": 2017, "Average annual working hours per worker": 2212.3835, "GDP per capita": 18127.81, "Population": 4993849, "Gini coefficient": 0.483465406, "Life satisfaction": 6.997618675, "Productivity": 18.72804079, "Current health expenditure per capita": 1439.77}, {"Continent": "Europe", "Country": "Croatia", "Code": "HRV", "Year": 2017, "Average annual working hours per worker": 1834.9327, "GDP per capita": 25359.7, "Population": 4192468, "Gini coefficient": 0.303545759, "Life satisfaction": 5.625743866, "Productivity": 33.15712673, "Current health expenditure per capita": 1804.07}, {"Continent": "Asia", "Country": "Cyprus", "Code": "CYP", "Year": 2017, "Average annual working hours per worker": 1783.5206, "GDP per capita": 31253.99, "Population": 1208527, "Gini coefficient": 0.31416234, "Life satisfaction": 6.136832714, "Productivity": 42.59221773, "Current health expenditure per capita": 2532.87}, {"Continent": "Europe", "Country": "Czechia", "Code": "CZE", "Year": 2017, "Average annual working hours per worker": 1776.162, "GDP per capita": 35579.26, "Population": 10531315, "Gini coefficient": 0.248522097, "Life satisfaction": 6.24209404, "Productivity": 39.42304869, "Current health expenditure per capita": 2785.65}, {"Continent": "Europe", "Country": "Denmark", "Code": "DNK", "Year": 2017, "Average annual working hours per worker": 1400.3815, "GDP per capita": 51671.6, "Population": 5737286, "Gini coefficient": 0.287466614, "Life satisfaction": 7.693003178, "Productivity": 72.54114087, "Current health expenditure per capita": 5573.28}, {"Continent": "Americas", "Country": "Ecuador", "Code": "ECU", "Year": 2017, "Average annual working hours per worker": 1701.3558, "GDP per capita": 11413.08, "Population": 16696947, "Gini coefficient": 0.446730295, "Life satisfaction": 5.809131145, "Productivity": 15.32391947, "Current health expenditure per capita": 863.05}, {"Continent": "Europe", "Country": "Estonia", "Code": "EST", "Year": 2017, "Average annual working hours per worker": 1856.6827, "GDP per capita": 30981.6, "Population": 1317550, "Gini coefficient": 0.303550262, "Life satisfaction": 6.034641266, "Productivity": 33.48799406, "Current health expenditure per capita": 2241.85}, {"Continent": "Europe", "Country": "Finland", "Code": "FIN", "Year": 2017, "Average annual working hours per worker": 1659.2806, "GDP per capita": 43827.15, "Population": 5508146, "Gini coefficient": 0.273830854, "Life satisfaction": 7.780347824, "Productivity": 58.88463786, "Current health expenditure per capita": 4339.1}, {"Continent": "Europe", "Country": "France", "Code": "FRA", "Year": 2017, "Average annual working hours per worker": 1514.1371, "GDP per capita": 42818.76, "Population": 64144092, "Gini coefficient": 0.316320654, "Life satisfaction": 6.689644337, "Productivity": 68.37434064, "Current health expenditure per capita": 5059.99}, {"Continent": "Europe", "Country": "Germany", "Code": "DEU", "Year": 2017, "Average annual working hours per worker": 1353.8868, "GDP per capita": 51253.33, "Population": 82624368, "Gini coefficient": 0.312019051, "Life satisfaction": 7.035472393, "Productivity": 69.84848268, "Current health expenditure per capita": 6028.25}, {"Continent": "Europe", "Country": "Greece", "Code": "GRC", "Year": 2017, "Average annual working hours per worker": 2016.8954, "GDP per capita": 26477.58, "Population": 10692230, "Gini coefficient": 0.343520211, "Life satisfaction": 5.952157497, "Productivity": 33.35995335, "Current health expenditure per capita": 2325.62}, {"Continent": "Asia", "Country": "Hong Kong", "Code": "HKG", "Year": 2017, "Average annual working hours per worker": 2185.5789, "GDP per capita": 49927.07, "Population": 7461508, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.659317017, "Productivity": 44.37298407, "Current health expenditure per capita": 2230.495}, {"Continent": "Europe", "Country": "Hungary", "Code": "HUN", "Year": 2017, "Average annual working hours per worker": 1937.3325, "GDP per capita": 26908.97, "Population": 9788940, "Gini coefficient": 0.305841235, "Life satisfaction": 6.000259876, "Productivity": 33.0558028, "Current health expenditure per capita": 1988.7}, {"Continent": "Europe", "Country": "Iceland", "Code": "ISL", "Year": 2017, "Average annual working hours per worker": 1493.3651, "GDP per capita": 49844.32, "Population": 343641, "Gini coefficient": 0.261315802, "Life satisfaction": 7.532504559, "Productivity": 59.12501586, "Current health expenditure per capita": 4762.73}, {"Continent": "Asia", "Country": "India", "Code": "IND", "Year": 2017, "Average annual working hours per worker": 2117.0117, "GDP per capita": 6188.46, "Population": 1354195712, "Gini coefficient": 0.359430473, "Life satisfaction": 3.24876976, "Productivity": 8.009787126, "Current health expenditure per capita": 181.53}, {"Continent": "Asia", "Country": "Indonesia", "Code": "IDN", "Year": 2017, "Average annual working hours per worker": 2024.287, "GDP per capita": 10640.7, "Population": 264498848, "Gini coefficient": 0.38785263, "Life satisfaction": 5.346512794, "Productivity": 11.35478727, "Current health expenditure per capita": 317.59}, {"Continent": "Europe", "Country": "Ireland", "Code": "IRL", "Year": 2017, "Average annual working hours per worker": 1745.6843, "GDP per capita": 86808.65, "Population": 4771860, "Gini coefficient": 0.313598037, "Life satisfaction": 7.254841328, "Productivity": 109.488306, "Current health expenditure per capita": 5582.93}, {"Continent": "Asia", "Country": "Israel", "Code": "ISR", "Year": 2017, "Average annual working hours per worker": 1920.6106, "GDP per capita": 38979.03, "Population": 8309256, "Gini coefficient": 0.382020644, "Life satisfaction": 7.331779957, "Productivity": 41.0201119, "Current health expenditure per capita": 2992.02}, {"Continent": "Europe", "Country": "Italy", "Code": "ITA", "Year": 2017, "Average annual working hours per worker": 1722.6113, "GDP per capita": 40155.51, "Population": 60004024, "Gini coefficient": 0.359280009, "Life satisfaction": 6.445416927, "Productivity": 56.27207136, "Current health expenditure per capita": 3616.67}, {"Continent": "Asia", "Country": "Japan", "Code": "JPN", "Year": 2017, "Average annual working hours per worker": 1738.3633, "GDP per capita": 39598.29, "Population": 126662464, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.908039093, "Productivity": 42.4229346, "Current health expenditure per capita": 4398.02}, {"Continent": "Europe", "Country": "Latvia", "Code": "LVA", "Year": 2017, "Average annual working hours per worker": 1874.5979, "GDP per capita": 27162.37, "Population": 1954861, "Gini coefficient": 0.355719346, "Life satisfaction": 5.969753742, "Productivity": 31.56864146, "Current health expenditure per capita": 1703.6}, {"Continent": "Europe", "Country": "Lithuania", "Code": "LTU", "Year": 2017, "Average annual working hours per worker": 1844.0171, "GDP per capita": 29832.8, "Population": 2904452, "Gini coefficient": 0.372896992, "Life satisfaction": 6.064097881, "Productivity": 32.99194736, "Current health expenditure per capita": 2178.09}, {"Continent": "Europe", "Country": "Luxembourg", "Code": "LUX", "Year": 2017, "Average annual working hours per worker": 1518.8575, "GDP per capita": 90597.55, "Population": 596290, "Gini coefficient": 0.345157399, "Life satisfaction": 7.404015541, "Productivity": 83.16536059, "Current health expenditure per capita": 5980.64}, {"Continent": "Asia", "Country": "Malaysia", "Code": "MYS", "Year": 2017, "Average annual working hours per worker": 2238.2729, "GDP per capita": 24159.17, "Population": 31975812, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.427954197, "Productivity": 23.65407513, "Current health expenditure per capita": 987.58}, {"Continent": "Europe", "Country": "Malta", "Code": "MLT", "Year": 2017, "Average annual working hours per worker": 2040.0317, "GDP per capita": 35154.08, "Population": 479507, "Gini coefficient": 0.292322386, "Life satisfaction": 6.73297739, "Productivity": 39.21617358, "Current health expenditure per capita": 3873.25}, {"Continent": "Americas", "Country": "Mexico", "Code": "MEX", "Year": 2017, "Average annual working hours per worker": 2255.0, "GDP per capita": 18939.9, "Population": 122839256, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.431945324, "Productivity": 21.02031412, "Current health expenditure per capita": 1076.31}, {"Continent": "Asia", "Country": "Myanmar", "Code": "MMR", "Year": 2017, "Average annual working hours per worker": 2437.8633, "GDP per capita": 4762.93, "Population": 52288344, "Gini coefficient": 0.306968695, "Life satisfaction": 4.43423748, "Productivity": 4.735483675, "Current health expenditure per capita": 214.63}, {"Continent": "Europe", "Country": "Netherlands", "Code": "NLD", "Year": 2017, "Average annual working hours per worker": 1430.0229, "GDP per capita": 54233.45, "Population": 17207204, "Gini coefficient": 0.285358194, "Life satisfaction": 7.42526865, "Productivity": 70.61846134, "Current health expenditure per capita": 5602.59}, {"Continent": "Oceania", "Country": "New Zealand", "Code": "NZL", "Year": 2017, "Average annual working hours per worker": 1752.0, "GDP per capita": 39728.86, "Population": 4746253, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.205174446, "Productivity": 42.73759913, "Current health expenditure per capita": 3875.54}, {"Continent": "Africa", "Country": "Nigeria", "Code": "NGA", "Year": 2017, "Average annual working hours per worker": 1827.2401, "GDP per capita": 5060.98, "Population": 193495904, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.356419086, "Productivity": 34.62209549, "Current health expenditure per capita": 194.81}, {"Continent": "Europe", "Country": "Norway", "Code": "NOR", "Year": 2017, "Average annual working hours per worker": 1417.4723, "GDP per capita": 69604.79, "Population": 5277396, "Gini coefficient": 0.269873302, "Life satisfaction": 7.442139626, "Productivity": 96.84903378, "Current health expenditure per capita": 6630.84}, {"Continent": "Asia", "Country": "Pakistan", "Code": "PAK", "Year": 2017, "Average annual working hours per worker": 2096.1443, "GDP per capita": 4743.69, "Population": 216379648, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.442717552, "Productivity": 8.322207396, "Current health expenditure per capita": 132.67}, {"Continent": "Americas", "Country": "Peru", "Code": "PER", "Year": 2017, "Average annual working hours per worker": 1932.4581, "GDP per capita": 11956.63, "Population": 31605488, "Gini coefficient": 0.4329279, "Life satisfaction": 5.999381542, "Productivity": 10.7489986, "Current health expenditure per capita": 624.02}, {"Continent": "Asia", "Country": "Philippines", "Code": "PHL", "Year": 2017, "Average annual working hours per worker": 2148.5645, "GDP per capita": 7858.48, "Population": 106738496, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.267745018, "Productivity": 9.450449282, "Current health expenditure per capita": 321.62}, {"Continent": "Europe", "Country": "Poland", "Code": "POL", "Year": 2017, "Average annual working hours per worker": 2028.4952, "GDP per capita": 29047.82, "Population": 38532816, "Gini coefficient": 0.302965813, "Life satisfaction": 6.24209404, "Productivity": 33.66429154, "Current health expenditure per capita": 1972.37}, {"Continent": "Europe", "Country": "Portugal", "Code": "PRT", "Year": 2017, "Average annual working hours per worker": 1863.1744, "GDP per capita": 30430.03, "Population": 10307528, "Gini coefficient": 0.338038412, "Life satisfaction": 6.095473289, "Productivity": 34.62209549, "Current health expenditure per capita": 3072.32}, {"Continent": "Europe", "Country": "Romania", "Code": "ROU", "Year": 2017, "Average annual working hours per worker": 1805.9998, "GDP per capita": 25424.06, "Population": 19698852, "Gini coefficient": 0.360168279, "Life satisfaction": 6.129942417, "Productivity": 32.2711146, "Current health expenditure per capita": 1398.55}, {"Continent": "Europe", "Country": "Russia", "Code": "RUS", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 26797.82, "Population": 145452544, "Gini coefficient": 0.37239071, "Life satisfaction": 5.440523624, "Productivity": 27.44623652, "Current health expenditure per capita": 1406.2}, {"Continent": "Asia", "Country": "Singapore", "Code": "SGP", "Year": 2017, "Average annual working hours per worker": 2237.7263, "GDP per capita": 81444.79, "Population": 5764489, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.378359795, "Productivity": 54.29877798, "Current health expenditure per capita": 4091.44}, {"Continent": "Europe", "Country": "Slovakia", "Code": "SVK", "Year": 2017, "Average annual working hours per worker": 1745.2307, "GDP per capita": 26467.1, "Population": 5439418, "Gini coefficient": 0.23237751, "Life satisfaction": 6.243428707, "Productivity": 35.16566573, "Current health expenditure per capita": 2038.16}, {"Continent": "Europe", "Country": "Slovenia", "Code": "SVN", "Year": 2017, "Average annual working hours per worker": 1655.089, "GDP per capita": 31594.71, "Population": 2098396, "Gini coefficient": 0.242193073, "Life satisfaction": 6.665273666, "Productivity": 40.55475278, "Current health expenditure per capita": 2998.32}, {"Continent": "Africa", "Country": "South Africa", "Code": "ZAF", "Year": 2017, "Average annual working hours per worker": 2209.0916, "GDP per capita": 12735.03, "Population": 56641208, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.034863472, "Productivity": 18.05485455, "Current health expenditure per capita": 1107.89}, {"Continent": "Asia", "Country": "South Korea", "Code": "KOR", "Year": 2017, "Average annual working hours per worker": 2063.3315, "GDP per capita": 40875.21, "Population": 51511640, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.902816772, "Productivity": 39.08392755, "Current health expenditure per capita": 2925.95}, {"Continent": "Europe", "Country": "Spain", "Code": "ESP", "Year": 2017, "Average annual working hours per worker": 1686.4973, "GDP per capita": 38928.51, "Population": 46584168, "Gini coefficient": 0.346545469, "Life satisfaction": 6.457449436, "Productivity": 56.06301345, "Current health expenditure per capita": 3556.87}, {"Continent": "Asia", "Country": "Sri Lanka", "Code": "LKA", "Year": 2017, "Average annual working hours per worker": 1923.9354, "GDP per capita": 12733.1, "Population": 21506816, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.213299274, "Productivity": 17.04851325, "Current health expenditure per capita": 459.25}, {"Continent": "Europe", "Country": "Sweden", "Code": "SWE", "Year": 2017, "Average annual working hours per worker": 1609.2896, "GDP per capita": 52032.67, "Population": 10058191, "Gini coefficient": 0.287746034, "Life satisfaction": 7.398092747, "Productivity": 64.3374695, "Current health expenditure per capita": 5655.7}, {"Continent": "Europe", "Country": "Switzerland", "Code": "CHE", "Year": 2017, "Average annual working hours per worker": 1589.6758, "GDP per capita": 73624.98, "Population": 8451688, "Gini coefficient": 0.32676334, "Life satisfaction": 7.69422102, "Productivity": 80.58822762, "Current health expenditure per capita": 7989.64}, {"Continent": "Asia", "Country": "Taiwan", "Code": "TWN", "Year": 2017, "Average annual working hours per worker": 1990.3212, "GDP per capita": 45375.41, "Population": 23665028, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.537089825, "Productivity": 44.99929907, "Current health expenditure per capita": 2230.495}, {"Continent": "Asia", "Country": "Thailand", "Code": "THA", "Year": 2017, "Average annual working hours per worker": 2185.4456, "GDP per capita": 16665.38, "Population": 70898208, "Gini coefficient": 0.36528755, "Life satisfaction": 6.02215147, "Productivity": 14.74583813, "Current health expenditure per capita": 669.58}, {"Continent": "Asia", "Country": "Turkey", "Code": "TUR", "Year": 2017, "Average annual working hours per worker": 1832.0, "GDP per capita": 26611.18, "Population": 82089824, "Gini coefficient": 0.414056667, "Life satisfaction": 4.87207365, "Productivity": 41.79920311, "Current health expenditure per capita": 1166.73}, {"Continent": "Europe", "Country": "United Kingdom", "Code": "GBR", "Year": 2017, "Average annual working hours per worker": 1670.2728, "GDP per capita": 44093.93, "Population": 66064808, "Gini coefficient": 0.351488307, "Life satisfaction": 7.157151222, "Productivity": 54.67692069, "Current health expenditure per capita": 4515.59}, {"Continent": "Americas", "Country": "United States", "Code": "USA", "Year": 2017, "Average annual working hours per worker": 1757.2255, "GDP per capita": 60116.57, "Population": 329791232, "Gini coefficient": 0.411805587, "Life satisfaction": 6.943701267, "Productivity": 71.63857051, "Current health expenditure per capita": 10103.09}, {"Continent": "Americas", "Country": "Uruguay", "Code": "URY", "Year": 2017, "Average annual working hours per worker": 1552.347, "GDP per capita": 20615.56, "Population": 3422205, "Gini coefficient": 0.394645312, "Life satisfaction": 6.600337029, "Productivity": 28.29584596, "Current health expenditure per capita": 2029.89}, {"Continent": "Asia", "Country": "Vietnam", "Code": "VNM", "Year": 2017, "Average annual working hours per worker": 2169.5916, "GDP per capita": 6841.65, "Population": 94033048, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.467451096, "Productivity": 5.652919029, "Current health expenditure per capita": 423.98}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<div class="cell" data-execution_count="97">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>alt.Chart(df).mark_bar().encode(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.X(<span class="st">'Country'</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>            sort<span class="op">=</span><span class="st">'-x'</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>            axis<span class="op">=</span>alt.Axis(title<span class="op">=</span><span class="st">"Country"</span>, </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>                          labelAngle<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                          titleAnchor<span class="op">=</span><span class="st">"start"</span>)),</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.Y(<span class="st">'Productivity'</span>, </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>            axis<span class="op">=</span>alt.Axis(title <span class="op">=</span> <span class="st">"Productivity"</span>,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                          titleAnchor<span class="op">=</span><span class="st">"end"</span>)),</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>                          color<span class="op">=</span>alt.Color(<span class="st">'Continent'</span>, legend<span class="op">=</span>alt.Legend(title<span class="op">=</span><span class="st">"Continent by color"</span>))</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="97">

<div id="altair-viz-8edb0ab4827f439ebf0ad828ea2a3798"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-8edb0ab4827f439ebf0ad828ea2a3798") {
      outputDiv = document.getElementById("altair-viz-8edb0ab4827f439ebf0ad828ea2a3798");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-559bd8043fdc435d5639f35caac91e34"}, "mark": "bar", "encoding": {"color": {"field": "Continent", "legend": {"title": "Continent by color"}, "type": "nominal"}, "x": {"axis": {"title": "Productivity", "titleAnchor": "end"}, "field": "Productivity", "type": "quantitative"}, "y": {"axis": {"labelAngle": 0, "title": "Country", "titleAnchor": "start"}, "field": "Country", "sort": "-x", "type": "nominal"}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-559bd8043fdc435d5639f35caac91e34": [{"Continent": "Americas", "Country": "Argentina", "Code": "ARG", "Year": 2017, "Average annual working hours per worker": 1691.5363, "GDP per capita": 23272.18, "Population": 44054616, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.085560799, "Productivity": 30.95546039, "Current health expenditure per capita": 2470.11}, {"Continent": "Oceania", "Country": "Australia", "Code": "AUS", "Year": 2017, "Average annual working hours per worker": 1731.4943, "GDP per capita": 52536.19, "Population": 24590336, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.233994961, "Productivity": 60.3416786, "Current health expenditure per capita": 4715.83}, {"Continent": "Europe", "Country": "Austria", "Code": "AUT", "Year": 2017, "Average annual working hours per worker": 1613.0519, "GDP per capita": 51954.28, "Population": 8797497, "Gini coefficient": 0.29737585, "Life satisfaction": 7.195361137, "Productivity": 64.7801697, "Current health expenditure per capita": 5641.18}, {"Continent": "Asia", "Country": "Bangladesh", "Code": "BGD", "Year": 2017, "Average annual working hours per worker": 2232.3542, "GDP per capita": 4112.7, "Population": 161793968, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.114216805, "Productivity": 4.307636988, "Current health expenditure per capita": 101.18}, {"Continent": "Europe", "Country": "Belgium", "Code": "BEL", "Year": 2017, "Average annual working hours per worker": 1544.269, "GDP per capita": 45150.2, "Population": 11384491, "Gini coefficient": 0.273879678, "Life satisfaction": 6.772138119, "Productivity": 68.51652068, "Current health expenditure per capita": 5450.48}, {"Continent": "Americas", "Country": "Brazil", "Code": "BRA", "Year": 2017, "Average annual working hours per worker": 1709.4856, "GDP per capita": 14284.61, "Population": 208504960, "Gini coefficient": 0.5333405, "Life satisfaction": 6.451148987, "Productivity": 19.18829359, "Current health expenditure per capita": 1375.66}, {"Continent": "Europe", "Country": "Bulgaria", "Code": "BGR", "Year": 2017, "Average annual working hours per worker": 1643.5475, "GDP per capita": 19579.83, "Population": 7182430, "Gini coefficient": 0.403790468, "Life satisfaction": 5.108438015, "Productivity": 25.39212178, "Current health expenditure per capita": 1607.71}, {"Continent": "Asia", "Country": "Cambodia", "Code": "KHM", "Year": 2017, "Average annual working hours per worker": 2455.5508, "GDP per capita": 3950.93, "Population": 15830694, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.998284817, "Productivity": 3.022649989, "Current health expenditure per capita": 224.81}, {"Continent": "Americas", "Country": "Canada", "Code": "CAN", "Year": 2017, "Average annual working hours per worker": 1696.4624, "GDP per capita": 48902.64, "Population": 36554344, "Gini coefficient": 0.333082063, "Life satisfaction": 7.1090765, "Productivity": 56.25571848, "Current health expenditure per capita": 5208.72}, {"Continent": "Americas", "Country": "Chile", "Code": "CHL", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 22864.05, "Population": 18368582, "Gini coefficient": 0.444410284, "Life satisfaction": 5.942250252, "Productivity": 27.26079146, "Current health expenditure per capita": 2219.14}, {"Continent": "Asia", "Country": "China", "Code": "CHN", "Year": 2017, "Average annual working hours per worker": 2174.3501, "GDP per capita": 13854.23, "Population": 1410275968, "Gini coefficient": 0.390757759, "Life satisfaction": 5.144120216, "Productivity": 11.35773921, "Current health expenditure per capita": 706.37}, {"Continent": "Americas", "Country": "Colombia", "Code": "COL", "Year": 2017, "Average annual working hours per worker": 1997.748, "GDP per capita": 13426.76, "Population": 48351668, "Gini coefficient": 0.497154848, "Life satisfaction": 6.350297928, "Productivity": 15.63291474, "Current health expenditure per capita": 1088.17}, {"Continent": "Americas", "Country": "Costa Rica", "Code": "CRI", "Year": 2017, "Average annual working hours per worker": 2212.3835, "GDP per capita": 18127.81, "Population": 4993849, "Gini coefficient": 0.483465406, "Life satisfaction": 6.997618675, "Productivity": 18.72804079, "Current health expenditure per capita": 1439.77}, {"Continent": "Europe", "Country": "Croatia", "Code": "HRV", "Year": 2017, "Average annual working hours per worker": 1834.9327, "GDP per capita": 25359.7, "Population": 4192468, "Gini coefficient": 0.303545759, "Life satisfaction": 5.625743866, "Productivity": 33.15712673, "Current health expenditure per capita": 1804.07}, {"Continent": "Asia", "Country": "Cyprus", "Code": "CYP", "Year": 2017, "Average annual working hours per worker": 1783.5206, "GDP per capita": 31253.99, "Population": 1208527, "Gini coefficient": 0.31416234, "Life satisfaction": 6.136832714, "Productivity": 42.59221773, "Current health expenditure per capita": 2532.87}, {"Continent": "Europe", "Country": "Czechia", "Code": "CZE", "Year": 2017, "Average annual working hours per worker": 1776.162, "GDP per capita": 35579.26, "Population": 10531315, "Gini coefficient": 0.248522097, "Life satisfaction": 6.24209404, "Productivity": 39.42304869, "Current health expenditure per capita": 2785.65}, {"Continent": "Europe", "Country": "Denmark", "Code": "DNK", "Year": 2017, "Average annual working hours per worker": 1400.3815, "GDP per capita": 51671.6, "Population": 5737286, "Gini coefficient": 0.287466614, "Life satisfaction": 7.693003178, "Productivity": 72.54114087, "Current health expenditure per capita": 5573.28}, {"Continent": "Americas", "Country": "Ecuador", "Code": "ECU", "Year": 2017, "Average annual working hours per worker": 1701.3558, "GDP per capita": 11413.08, "Population": 16696947, "Gini coefficient": 0.446730295, "Life satisfaction": 5.809131145, "Productivity": 15.32391947, "Current health expenditure per capita": 863.05}, {"Continent": "Europe", "Country": "Estonia", "Code": "EST", "Year": 2017, "Average annual working hours per worker": 1856.6827, "GDP per capita": 30981.6, "Population": 1317550, "Gini coefficient": 0.303550262, "Life satisfaction": 6.034641266, "Productivity": 33.48799406, "Current health expenditure per capita": 2241.85}, {"Continent": "Europe", "Country": "Finland", "Code": "FIN", "Year": 2017, "Average annual working hours per worker": 1659.2806, "GDP per capita": 43827.15, "Population": 5508146, "Gini coefficient": 0.273830854, "Life satisfaction": 7.780347824, "Productivity": 58.88463786, "Current health expenditure per capita": 4339.1}, {"Continent": "Europe", "Country": "France", "Code": "FRA", "Year": 2017, "Average annual working hours per worker": 1514.1371, "GDP per capita": 42818.76, "Population": 64144092, "Gini coefficient": 0.316320654, "Life satisfaction": 6.689644337, "Productivity": 68.37434064, "Current health expenditure per capita": 5059.99}, {"Continent": "Europe", "Country": "Germany", "Code": "DEU", "Year": 2017, "Average annual working hours per worker": 1353.8868, "GDP per capita": 51253.33, "Population": 82624368, "Gini coefficient": 0.312019051, "Life satisfaction": 7.035472393, "Productivity": 69.84848268, "Current health expenditure per capita": 6028.25}, {"Continent": "Europe", "Country": "Greece", "Code": "GRC", "Year": 2017, "Average annual working hours per worker": 2016.8954, "GDP per capita": 26477.58, "Population": 10692230, "Gini coefficient": 0.343520211, "Life satisfaction": 5.952157497, "Productivity": 33.35995335, "Current health expenditure per capita": 2325.62}, {"Continent": "Asia", "Country": "Hong Kong", "Code": "HKG", "Year": 2017, "Average annual working hours per worker": 2185.5789, "GDP per capita": 49927.07, "Population": 7461508, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.659317017, "Productivity": 44.37298407, "Current health expenditure per capita": 2230.495}, {"Continent": "Europe", "Country": "Hungary", "Code": "HUN", "Year": 2017, "Average annual working hours per worker": 1937.3325, "GDP per capita": 26908.97, "Population": 9788940, "Gini coefficient": 0.305841235, "Life satisfaction": 6.000259876, "Productivity": 33.0558028, "Current health expenditure per capita": 1988.7}, {"Continent": "Europe", "Country": "Iceland", "Code": "ISL", "Year": 2017, "Average annual working hours per worker": 1493.3651, "GDP per capita": 49844.32, "Population": 343641, "Gini coefficient": 0.261315802, "Life satisfaction": 7.532504559, "Productivity": 59.12501586, "Current health expenditure per capita": 4762.73}, {"Continent": "Asia", "Country": "India", "Code": "IND", "Year": 2017, "Average annual working hours per worker": 2117.0117, "GDP per capita": 6188.46, "Population": 1354195712, "Gini coefficient": 0.359430473, "Life satisfaction": 3.24876976, "Productivity": 8.009787126, "Current health expenditure per capita": 181.53}, {"Continent": "Asia", "Country": "Indonesia", "Code": "IDN", "Year": 2017, "Average annual working hours per worker": 2024.287, "GDP per capita": 10640.7, "Population": 264498848, "Gini coefficient": 0.38785263, "Life satisfaction": 5.346512794, "Productivity": 11.35478727, "Current health expenditure per capita": 317.59}, {"Continent": "Europe", "Country": "Ireland", "Code": "IRL", "Year": 2017, "Average annual working hours per worker": 1745.6843, "GDP per capita": 86808.65, "Population": 4771860, "Gini coefficient": 0.313598037, "Life satisfaction": 7.254841328, "Productivity": 109.488306, "Current health expenditure per capita": 5582.93}, {"Continent": "Asia", "Country": "Israel", "Code": "ISR", "Year": 2017, "Average annual working hours per worker": 1920.6106, "GDP per capita": 38979.03, "Population": 8309256, "Gini coefficient": 0.382020644, "Life satisfaction": 7.331779957, "Productivity": 41.0201119, "Current health expenditure per capita": 2992.02}, {"Continent": "Europe", "Country": "Italy", "Code": "ITA", "Year": 2017, "Average annual working hours per worker": 1722.6113, "GDP per capita": 40155.51, "Population": 60004024, "Gini coefficient": 0.359280009, "Life satisfaction": 6.445416927, "Productivity": 56.27207136, "Current health expenditure per capita": 3616.67}, {"Continent": "Asia", "Country": "Japan", "Code": "JPN", "Year": 2017, "Average annual working hours per worker": 1738.3633, "GDP per capita": 39598.29, "Population": 126662464, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.908039093, "Productivity": 42.4229346, "Current health expenditure per capita": 4398.02}, {"Continent": "Europe", "Country": "Latvia", "Code": "LVA", "Year": 2017, "Average annual working hours per worker": 1874.5979, "GDP per capita": 27162.37, "Population": 1954861, "Gini coefficient": 0.355719346, "Life satisfaction": 5.969753742, "Productivity": 31.56864146, "Current health expenditure per capita": 1703.6}, {"Continent": "Europe", "Country": "Lithuania", "Code": "LTU", "Year": 2017, "Average annual working hours per worker": 1844.0171, "GDP per capita": 29832.8, "Population": 2904452, "Gini coefficient": 0.372896992, "Life satisfaction": 6.064097881, "Productivity": 32.99194736, "Current health expenditure per capita": 2178.09}, {"Continent": "Europe", "Country": "Luxembourg", "Code": "LUX", "Year": 2017, "Average annual working hours per worker": 1518.8575, "GDP per capita": 90597.55, "Population": 596290, "Gini coefficient": 0.345157399, "Life satisfaction": 7.404015541, "Productivity": 83.16536059, "Current health expenditure per capita": 5980.64}, {"Continent": "Asia", "Country": "Malaysia", "Code": "MYS", "Year": 2017, "Average annual working hours per worker": 2238.2729, "GDP per capita": 24159.17, "Population": 31975812, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.427954197, "Productivity": 23.65407513, "Current health expenditure per capita": 987.58}, {"Continent": "Europe", "Country": "Malta", "Code": "MLT", "Year": 2017, "Average annual working hours per worker": 2040.0317, "GDP per capita": 35154.08, "Population": 479507, "Gini coefficient": 0.292322386, "Life satisfaction": 6.73297739, "Productivity": 39.21617358, "Current health expenditure per capita": 3873.25}, {"Continent": "Americas", "Country": "Mexico", "Code": "MEX", "Year": 2017, "Average annual working hours per worker": 2255.0, "GDP per capita": 18939.9, "Population": 122839256, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.431945324, "Productivity": 21.02031412, "Current health expenditure per capita": 1076.31}, {"Continent": "Asia", "Country": "Myanmar", "Code": "MMR", "Year": 2017, "Average annual working hours per worker": 2437.8633, "GDP per capita": 4762.93, "Population": 52288344, "Gini coefficient": 0.306968695, "Life satisfaction": 4.43423748, "Productivity": 4.735483675, "Current health expenditure per capita": 214.63}, {"Continent": "Europe", "Country": "Netherlands", "Code": "NLD", "Year": 2017, "Average annual working hours per worker": 1430.0229, "GDP per capita": 54233.45, "Population": 17207204, "Gini coefficient": 0.285358194, "Life satisfaction": 7.42526865, "Productivity": 70.61846134, "Current health expenditure per capita": 5602.59}, {"Continent": "Oceania", "Country": "New Zealand", "Code": "NZL", "Year": 2017, "Average annual working hours per worker": 1752.0, "GDP per capita": 39728.86, "Population": 4746253, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.205174446, "Productivity": 42.73759913, "Current health expenditure per capita": 3875.54}, {"Continent": "Africa", "Country": "Nigeria", "Code": "NGA", "Year": 2017, "Average annual working hours per worker": 1827.2401, "GDP per capita": 5060.98, "Population": 193495904, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.356419086, "Productivity": 34.62209549, "Current health expenditure per capita": 194.81}, {"Continent": "Europe", "Country": "Norway", "Code": "NOR", "Year": 2017, "Average annual working hours per worker": 1417.4723, "GDP per capita": 69604.79, "Population": 5277396, "Gini coefficient": 0.269873302, "Life satisfaction": 7.442139626, "Productivity": 96.84903378, "Current health expenditure per capita": 6630.84}, {"Continent": "Asia", "Country": "Pakistan", "Code": "PAK", "Year": 2017, "Average annual working hours per worker": 2096.1443, "GDP per capita": 4743.69, "Population": 216379648, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.442717552, "Productivity": 8.322207396, "Current health expenditure per capita": 132.67}, {"Continent": "Americas", "Country": "Peru", "Code": "PER", "Year": 2017, "Average annual working hours per worker": 1932.4581, "GDP per capita": 11956.63, "Population": 31605488, "Gini coefficient": 0.4329279, "Life satisfaction": 5.999381542, "Productivity": 10.7489986, "Current health expenditure per capita": 624.02}, {"Continent": "Asia", "Country": "Philippines", "Code": "PHL", "Year": 2017, "Average annual working hours per worker": 2148.5645, "GDP per capita": 7858.48, "Population": 106738496, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.267745018, "Productivity": 9.450449282, "Current health expenditure per capita": 321.62}, {"Continent": "Europe", "Country": "Poland", "Code": "POL", "Year": 2017, "Average annual working hours per worker": 2028.4952, "GDP per capita": 29047.82, "Population": 38532816, "Gini coefficient": 0.302965813, "Life satisfaction": 6.24209404, "Productivity": 33.66429154, "Current health expenditure per capita": 1972.37}, {"Continent": "Europe", "Country": "Portugal", "Code": "PRT", "Year": 2017, "Average annual working hours per worker": 1863.1744, "GDP per capita": 30430.03, "Population": 10307528, "Gini coefficient": 0.338038412, "Life satisfaction": 6.095473289, "Productivity": 34.62209549, "Current health expenditure per capita": 3072.32}, {"Continent": "Europe", "Country": "Romania", "Code": "ROU", "Year": 2017, "Average annual working hours per worker": 1805.9998, "GDP per capita": 25424.06, "Population": 19698852, "Gini coefficient": 0.360168279, "Life satisfaction": 6.129942417, "Productivity": 32.2711146, "Current health expenditure per capita": 1398.55}, {"Continent": "Europe", "Country": "Russia", "Code": "RUS", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 26797.82, "Population": 145452544, "Gini coefficient": 0.37239071, "Life satisfaction": 5.440523624, "Productivity": 27.44623652, "Current health expenditure per capita": 1406.2}, {"Continent": "Asia", "Country": "Singapore", "Code": "SGP", "Year": 2017, "Average annual working hours per worker": 2237.7263, "GDP per capita": 81444.79, "Population": 5764489, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.378359795, "Productivity": 54.29877798, "Current health expenditure per capita": 4091.44}, {"Continent": "Europe", "Country": "Slovakia", "Code": "SVK", "Year": 2017, "Average annual working hours per worker": 1745.2307, "GDP per capita": 26467.1, "Population": 5439418, "Gini coefficient": 0.23237751, "Life satisfaction": 6.243428707, "Productivity": 35.16566573, "Current health expenditure per capita": 2038.16}, {"Continent": "Europe", "Country": "Slovenia", "Code": "SVN", "Year": 2017, "Average annual working hours per worker": 1655.089, "GDP per capita": 31594.71, "Population": 2098396, "Gini coefficient": 0.242193073, "Life satisfaction": 6.665273666, "Productivity": 40.55475278, "Current health expenditure per capita": 2998.32}, {"Continent": "Africa", "Country": "South Africa", "Code": "ZAF", "Year": 2017, "Average annual working hours per worker": 2209.0916, "GDP per capita": 12735.03, "Population": 56641208, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.034863472, "Productivity": 18.05485455, "Current health expenditure per capita": 1107.89}, {"Continent": "Asia", "Country": "South Korea", "Code": "KOR", "Year": 2017, "Average annual working hours per worker": 2063.3315, "GDP per capita": 40875.21, "Population": 51511640, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.902816772, "Productivity": 39.08392755, "Current health expenditure per capita": 2925.95}, {"Continent": "Europe", "Country": "Spain", "Code": "ESP", "Year": 2017, "Average annual working hours per worker": 1686.4973, "GDP per capita": 38928.51, "Population": 46584168, "Gini coefficient": 0.346545469, "Life satisfaction": 6.457449436, "Productivity": 56.06301345, "Current health expenditure per capita": 3556.87}, {"Continent": "Asia", "Country": "Sri Lanka", "Code": "LKA", "Year": 2017, "Average annual working hours per worker": 1923.9354, "GDP per capita": 12733.1, "Population": 21506816, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.213299274, "Productivity": 17.04851325, "Current health expenditure per capita": 459.25}, {"Continent": "Europe", "Country": "Sweden", "Code": "SWE", "Year": 2017, "Average annual working hours per worker": 1609.2896, "GDP per capita": 52032.67, "Population": 10058191, "Gini coefficient": 0.287746034, "Life satisfaction": 7.398092747, "Productivity": 64.3374695, "Current health expenditure per capita": 5655.7}, {"Continent": "Europe", "Country": "Switzerland", "Code": "CHE", "Year": 2017, "Average annual working hours per worker": 1589.6758, "GDP per capita": 73624.98, "Population": 8451688, "Gini coefficient": 0.32676334, "Life satisfaction": 7.69422102, "Productivity": 80.58822762, "Current health expenditure per capita": 7989.64}, {"Continent": "Asia", "Country": "Taiwan", "Code": "TWN", "Year": 2017, "Average annual working hours per worker": 1990.3212, "GDP per capita": 45375.41, "Population": 23665028, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.537089825, "Productivity": 44.99929907, "Current health expenditure per capita": 2230.495}, {"Continent": "Asia", "Country": "Thailand", "Code": "THA", "Year": 2017, "Average annual working hours per worker": 2185.4456, "GDP per capita": 16665.38, "Population": 70898208, "Gini coefficient": 0.36528755, "Life satisfaction": 6.02215147, "Productivity": 14.74583813, "Current health expenditure per capita": 669.58}, {"Continent": "Asia", "Country": "Turkey", "Code": "TUR", "Year": 2017, "Average annual working hours per worker": 1832.0, "GDP per capita": 26611.18, "Population": 82089824, "Gini coefficient": 0.414056667, "Life satisfaction": 4.87207365, "Productivity": 41.79920311, "Current health expenditure per capita": 1166.73}, {"Continent": "Europe", "Country": "United Kingdom", "Code": "GBR", "Year": 2017, "Average annual working hours per worker": 1670.2728, "GDP per capita": 44093.93, "Population": 66064808, "Gini coefficient": 0.351488307, "Life satisfaction": 7.157151222, "Productivity": 54.67692069, "Current health expenditure per capita": 4515.59}, {"Continent": "Americas", "Country": "United States", "Code": "USA", "Year": 2017, "Average annual working hours per worker": 1757.2255, "GDP per capita": 60116.57, "Population": 329791232, "Gini coefficient": 0.411805587, "Life satisfaction": 6.943701267, "Productivity": 71.63857051, "Current health expenditure per capita": 10103.09}, {"Continent": "Americas", "Country": "Uruguay", "Code": "URY", "Year": 2017, "Average annual working hours per worker": 1552.347, "GDP per capita": 20615.56, "Population": 3422205, "Gini coefficient": 0.394645312, "Life satisfaction": 6.600337029, "Productivity": 28.29584596, "Current health expenditure per capita": 2029.89}, {"Continent": "Asia", "Country": "Vietnam", "Code": "VNM", "Year": 2017, "Average annual working hours per worker": 2169.5916, "GDP per capita": 6841.65, "Population": 94033048, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.467451096, "Productivity": 5.652919029, "Current health expenditure per capita": 423.98}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<div class="cell" data-execution_count="98">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#case by case view</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>alt.Chart(df).mark_circle(size<span class="op">=</span><span class="dv">100</span>).encode(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'Average annual working hours per worker:Q'</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'Productivity:Q'</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.Color(<span class="st">'Continent'</span>, legend<span class="op">=</span>alt.Legend(title<span class="op">=</span><span class="st">"Continent by color"</span>))</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>).interactive()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="98">

<div id="altair-viz-5fed4cd317d3492e85928b10b12cbd5b"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-5fed4cd317d3492e85928b10b12cbd5b") {
      outputDiv = document.getElementById("altair-viz-5fed4cd317d3492e85928b10b12cbd5b");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-559bd8043fdc435d5639f35caac91e34"}, "mark": {"type": "circle", "size": 100}, "encoding": {"color": {"field": "Continent", "legend": {"title": "Continent by color"}, "type": "nominal"}, "x": {"field": "Average annual working hours per worker", "type": "quantitative"}, "y": {"field": "Productivity", "type": "quantitative"}}, "selection": {"selector002": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-559bd8043fdc435d5639f35caac91e34": [{"Continent": "Americas", "Country": "Argentina", "Code": "ARG", "Year": 2017, "Average annual working hours per worker": 1691.5363, "GDP per capita": 23272.18, "Population": 44054616, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.085560799, "Productivity": 30.95546039, "Current health expenditure per capita": 2470.11}, {"Continent": "Oceania", "Country": "Australia", "Code": "AUS", "Year": 2017, "Average annual working hours per worker": 1731.4943, "GDP per capita": 52536.19, "Population": 24590336, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.233994961, "Productivity": 60.3416786, "Current health expenditure per capita": 4715.83}, {"Continent": "Europe", "Country": "Austria", "Code": "AUT", "Year": 2017, "Average annual working hours per worker": 1613.0519, "GDP per capita": 51954.28, "Population": 8797497, "Gini coefficient": 0.29737585, "Life satisfaction": 7.195361137, "Productivity": 64.7801697, "Current health expenditure per capita": 5641.18}, {"Continent": "Asia", "Country": "Bangladesh", "Code": "BGD", "Year": 2017, "Average annual working hours per worker": 2232.3542, "GDP per capita": 4112.7, "Population": 161793968, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.114216805, "Productivity": 4.307636988, "Current health expenditure per capita": 101.18}, {"Continent": "Europe", "Country": "Belgium", "Code": "BEL", "Year": 2017, "Average annual working hours per worker": 1544.269, "GDP per capita": 45150.2, "Population": 11384491, "Gini coefficient": 0.273879678, "Life satisfaction": 6.772138119, "Productivity": 68.51652068, "Current health expenditure per capita": 5450.48}, {"Continent": "Americas", "Country": "Brazil", "Code": "BRA", "Year": 2017, "Average annual working hours per worker": 1709.4856, "GDP per capita": 14284.61, "Population": 208504960, "Gini coefficient": 0.5333405, "Life satisfaction": 6.451148987, "Productivity": 19.18829359, "Current health expenditure per capita": 1375.66}, {"Continent": "Europe", "Country": "Bulgaria", "Code": "BGR", "Year": 2017, "Average annual working hours per worker": 1643.5475, "GDP per capita": 19579.83, "Population": 7182430, "Gini coefficient": 0.403790468, "Life satisfaction": 5.108438015, "Productivity": 25.39212178, "Current health expenditure per capita": 1607.71}, {"Continent": "Asia", "Country": "Cambodia", "Code": "KHM", "Year": 2017, "Average annual working hours per worker": 2455.5508, "GDP per capita": 3950.93, "Population": 15830694, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.998284817, "Productivity": 3.022649989, "Current health expenditure per capita": 224.81}, {"Continent": "Americas", "Country": "Canada", "Code": "CAN", "Year": 2017, "Average annual working hours per worker": 1696.4624, "GDP per capita": 48902.64, "Population": 36554344, "Gini coefficient": 0.333082063, "Life satisfaction": 7.1090765, "Productivity": 56.25571848, "Current health expenditure per capita": 5208.72}, {"Continent": "Americas", "Country": "Chile", "Code": "CHL", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 22864.05, "Population": 18368582, "Gini coefficient": 0.444410284, "Life satisfaction": 5.942250252, "Productivity": 27.26079146, "Current health expenditure per capita": 2219.14}, {"Continent": "Asia", "Country": "China", "Code": "CHN", "Year": 2017, "Average annual working hours per worker": 2174.3501, "GDP per capita": 13854.23, "Population": 1410275968, "Gini coefficient": 0.390757759, "Life satisfaction": 5.144120216, "Productivity": 11.35773921, "Current health expenditure per capita": 706.37}, {"Continent": "Americas", "Country": "Colombia", "Code": "COL", "Year": 2017, "Average annual working hours per worker": 1997.748, "GDP per capita": 13426.76, "Population": 48351668, "Gini coefficient": 0.497154848, "Life satisfaction": 6.350297928, "Productivity": 15.63291474, "Current health expenditure per capita": 1088.17}, {"Continent": "Americas", "Country": "Costa Rica", "Code": "CRI", "Year": 2017, "Average annual working hours per worker": 2212.3835, "GDP per capita": 18127.81, "Population": 4993849, "Gini coefficient": 0.483465406, "Life satisfaction": 6.997618675, "Productivity": 18.72804079, "Current health expenditure per capita": 1439.77}, {"Continent": "Europe", "Country": "Croatia", "Code": "HRV", "Year": 2017, "Average annual working hours per worker": 1834.9327, "GDP per capita": 25359.7, "Population": 4192468, "Gini coefficient": 0.303545759, "Life satisfaction": 5.625743866, "Productivity": 33.15712673, "Current health expenditure per capita": 1804.07}, {"Continent": "Asia", "Country": "Cyprus", "Code": "CYP", "Year": 2017, "Average annual working hours per worker": 1783.5206, "GDP per capita": 31253.99, "Population": 1208527, "Gini coefficient": 0.31416234, "Life satisfaction": 6.136832714, "Productivity": 42.59221773, "Current health expenditure per capita": 2532.87}, {"Continent": "Europe", "Country": "Czechia", "Code": "CZE", "Year": 2017, "Average annual working hours per worker": 1776.162, "GDP per capita": 35579.26, "Population": 10531315, "Gini coefficient": 0.248522097, "Life satisfaction": 6.24209404, "Productivity": 39.42304869, "Current health expenditure per capita": 2785.65}, {"Continent": "Europe", "Country": "Denmark", "Code": "DNK", "Year": 2017, "Average annual working hours per worker": 1400.3815, "GDP per capita": 51671.6, "Population": 5737286, "Gini coefficient": 0.287466614, "Life satisfaction": 7.693003178, "Productivity": 72.54114087, "Current health expenditure per capita": 5573.28}, {"Continent": "Americas", "Country": "Ecuador", "Code": "ECU", "Year": 2017, "Average annual working hours per worker": 1701.3558, "GDP per capita": 11413.08, "Population": 16696947, "Gini coefficient": 0.446730295, "Life satisfaction": 5.809131145, "Productivity": 15.32391947, "Current health expenditure per capita": 863.05}, {"Continent": "Europe", "Country": "Estonia", "Code": "EST", "Year": 2017, "Average annual working hours per worker": 1856.6827, "GDP per capita": 30981.6, "Population": 1317550, "Gini coefficient": 0.303550262, "Life satisfaction": 6.034641266, "Productivity": 33.48799406, "Current health expenditure per capita": 2241.85}, {"Continent": "Europe", "Country": "Finland", "Code": "FIN", "Year": 2017, "Average annual working hours per worker": 1659.2806, "GDP per capita": 43827.15, "Population": 5508146, "Gini coefficient": 0.273830854, "Life satisfaction": 7.780347824, "Productivity": 58.88463786, "Current health expenditure per capita": 4339.1}, {"Continent": "Europe", "Country": "France", "Code": "FRA", "Year": 2017, "Average annual working hours per worker": 1514.1371, "GDP per capita": 42818.76, "Population": 64144092, "Gini coefficient": 0.316320654, "Life satisfaction": 6.689644337, "Productivity": 68.37434064, "Current health expenditure per capita": 5059.99}, {"Continent": "Europe", "Country": "Germany", "Code": "DEU", "Year": 2017, "Average annual working hours per worker": 1353.8868, "GDP per capita": 51253.33, "Population": 82624368, "Gini coefficient": 0.312019051, "Life satisfaction": 7.035472393, "Productivity": 69.84848268, "Current health expenditure per capita": 6028.25}, {"Continent": "Europe", "Country": "Greece", "Code": "GRC", "Year": 2017, "Average annual working hours per worker": 2016.8954, "GDP per capita": 26477.58, "Population": 10692230, "Gini coefficient": 0.343520211, "Life satisfaction": 5.952157497, "Productivity": 33.35995335, "Current health expenditure per capita": 2325.62}, {"Continent": "Asia", "Country": "Hong Kong", "Code": "HKG", "Year": 2017, "Average annual working hours per worker": 2185.5789, "GDP per capita": 49927.07, "Population": 7461508, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.659317017, "Productivity": 44.37298407, "Current health expenditure per capita": 2230.495}, {"Continent": "Europe", "Country": "Hungary", "Code": "HUN", "Year": 2017, "Average annual working hours per worker": 1937.3325, "GDP per capita": 26908.97, "Population": 9788940, "Gini coefficient": 0.305841235, "Life satisfaction": 6.000259876, "Productivity": 33.0558028, "Current health expenditure per capita": 1988.7}, {"Continent": "Europe", "Country": "Iceland", "Code": "ISL", "Year": 2017, "Average annual working hours per worker": 1493.3651, "GDP per capita": 49844.32, "Population": 343641, "Gini coefficient": 0.261315802, "Life satisfaction": 7.532504559, "Productivity": 59.12501586, "Current health expenditure per capita": 4762.73}, {"Continent": "Asia", "Country": "India", "Code": "IND", "Year": 2017, "Average annual working hours per worker": 2117.0117, "GDP per capita": 6188.46, "Population": 1354195712, "Gini coefficient": 0.359430473, "Life satisfaction": 3.24876976, "Productivity": 8.009787126, "Current health expenditure per capita": 181.53}, {"Continent": "Asia", "Country": "Indonesia", "Code": "IDN", "Year": 2017, "Average annual working hours per worker": 2024.287, "GDP per capita": 10640.7, "Population": 264498848, "Gini coefficient": 0.38785263, "Life satisfaction": 5.346512794, "Productivity": 11.35478727, "Current health expenditure per capita": 317.59}, {"Continent": "Europe", "Country": "Ireland", "Code": "IRL", "Year": 2017, "Average annual working hours per worker": 1745.6843, "GDP per capita": 86808.65, "Population": 4771860, "Gini coefficient": 0.313598037, "Life satisfaction": 7.254841328, "Productivity": 109.488306, "Current health expenditure per capita": 5582.93}, {"Continent": "Asia", "Country": "Israel", "Code": "ISR", "Year": 2017, "Average annual working hours per worker": 1920.6106, "GDP per capita": 38979.03, "Population": 8309256, "Gini coefficient": 0.382020644, "Life satisfaction": 7.331779957, "Productivity": 41.0201119, "Current health expenditure per capita": 2992.02}, {"Continent": "Europe", "Country": "Italy", "Code": "ITA", "Year": 2017, "Average annual working hours per worker": 1722.6113, "GDP per capita": 40155.51, "Population": 60004024, "Gini coefficient": 0.359280009, "Life satisfaction": 6.445416927, "Productivity": 56.27207136, "Current health expenditure per capita": 3616.67}, {"Continent": "Asia", "Country": "Japan", "Code": "JPN", "Year": 2017, "Average annual working hours per worker": 1738.3633, "GDP per capita": 39598.29, "Population": 126662464, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.908039093, "Productivity": 42.4229346, "Current health expenditure per capita": 4398.02}, {"Continent": "Europe", "Country": "Latvia", "Code": "LVA", "Year": 2017, "Average annual working hours per worker": 1874.5979, "GDP per capita": 27162.37, "Population": 1954861, "Gini coefficient": 0.355719346, "Life satisfaction": 5.969753742, "Productivity": 31.56864146, "Current health expenditure per capita": 1703.6}, {"Continent": "Europe", "Country": "Lithuania", "Code": "LTU", "Year": 2017, "Average annual working hours per worker": 1844.0171, "GDP per capita": 29832.8, "Population": 2904452, "Gini coefficient": 0.372896992, "Life satisfaction": 6.064097881, "Productivity": 32.99194736, "Current health expenditure per capita": 2178.09}, {"Continent": "Europe", "Country": "Luxembourg", "Code": "LUX", "Year": 2017, "Average annual working hours per worker": 1518.8575, "GDP per capita": 90597.55, "Population": 596290, "Gini coefficient": 0.345157399, "Life satisfaction": 7.404015541, "Productivity": 83.16536059, "Current health expenditure per capita": 5980.64}, {"Continent": "Asia", "Country": "Malaysia", "Code": "MYS", "Year": 2017, "Average annual working hours per worker": 2238.2729, "GDP per capita": 24159.17, "Population": 31975812, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.427954197, "Productivity": 23.65407513, "Current health expenditure per capita": 987.58}, {"Continent": "Europe", "Country": "Malta", "Code": "MLT", "Year": 2017, "Average annual working hours per worker": 2040.0317, "GDP per capita": 35154.08, "Population": 479507, "Gini coefficient": 0.292322386, "Life satisfaction": 6.73297739, "Productivity": 39.21617358, "Current health expenditure per capita": 3873.25}, {"Continent": "Americas", "Country": "Mexico", "Code": "MEX", "Year": 2017, "Average annual working hours per worker": 2255.0, "GDP per capita": 18939.9, "Population": 122839256, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.431945324, "Productivity": 21.02031412, "Current health expenditure per capita": 1076.31}, {"Continent": "Asia", "Country": "Myanmar", "Code": "MMR", "Year": 2017, "Average annual working hours per worker": 2437.8633, "GDP per capita": 4762.93, "Population": 52288344, "Gini coefficient": 0.306968695, "Life satisfaction": 4.43423748, "Productivity": 4.735483675, "Current health expenditure per capita": 214.63}, {"Continent": "Europe", "Country": "Netherlands", "Code": "NLD", "Year": 2017, "Average annual working hours per worker": 1430.0229, "GDP per capita": 54233.45, "Population": 17207204, "Gini coefficient": 0.285358194, "Life satisfaction": 7.42526865, "Productivity": 70.61846134, "Current health expenditure per capita": 5602.59}, {"Continent": "Oceania", "Country": "New Zealand", "Code": "NZL", "Year": 2017, "Average annual working hours per worker": 1752.0, "GDP per capita": 39728.86, "Population": 4746253, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.205174446, "Productivity": 42.73759913, "Current health expenditure per capita": 3875.54}, {"Continent": "Africa", "Country": "Nigeria", "Code": "NGA", "Year": 2017, "Average annual working hours per worker": 1827.2401, "GDP per capita": 5060.98, "Population": 193495904, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.356419086, "Productivity": 34.62209549, "Current health expenditure per capita": 194.81}, {"Continent": "Europe", "Country": "Norway", "Code": "NOR", "Year": 2017, "Average annual working hours per worker": 1417.4723, "GDP per capita": 69604.79, "Population": 5277396, "Gini coefficient": 0.269873302, "Life satisfaction": 7.442139626, "Productivity": 96.84903378, "Current health expenditure per capita": 6630.84}, {"Continent": "Asia", "Country": "Pakistan", "Code": "PAK", "Year": 2017, "Average annual working hours per worker": 2096.1443, "GDP per capita": 4743.69, "Population": 216379648, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.442717552, "Productivity": 8.322207396, "Current health expenditure per capita": 132.67}, {"Continent": "Americas", "Country": "Peru", "Code": "PER", "Year": 2017, "Average annual working hours per worker": 1932.4581, "GDP per capita": 11956.63, "Population": 31605488, "Gini coefficient": 0.4329279, "Life satisfaction": 5.999381542, "Productivity": 10.7489986, "Current health expenditure per capita": 624.02}, {"Continent": "Asia", "Country": "Philippines", "Code": "PHL", "Year": 2017, "Average annual working hours per worker": 2148.5645, "GDP per capita": 7858.48, "Population": 106738496, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.267745018, "Productivity": 9.450449282, "Current health expenditure per capita": 321.62}, {"Continent": "Europe", "Country": "Poland", "Code": "POL", "Year": 2017, "Average annual working hours per worker": 2028.4952, "GDP per capita": 29047.82, "Population": 38532816, "Gini coefficient": 0.302965813, "Life satisfaction": 6.24209404, "Productivity": 33.66429154, "Current health expenditure per capita": 1972.37}, {"Continent": "Europe", "Country": "Portugal", "Code": "PRT", "Year": 2017, "Average annual working hours per worker": 1863.1744, "GDP per capita": 30430.03, "Population": 10307528, "Gini coefficient": 0.338038412, "Life satisfaction": 6.095473289, "Productivity": 34.62209549, "Current health expenditure per capita": 3072.32}, {"Continent": "Europe", "Country": "Romania", "Code": "ROU", "Year": 2017, "Average annual working hours per worker": 1805.9998, "GDP per capita": 25424.06, "Population": 19698852, "Gini coefficient": 0.360168279, "Life satisfaction": 6.129942417, "Productivity": 32.2711146, "Current health expenditure per capita": 1398.55}, {"Continent": "Europe", "Country": "Russia", "Code": "RUS", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 26797.82, "Population": 145452544, "Gini coefficient": 0.37239071, "Life satisfaction": 5.440523624, "Productivity": 27.44623652, "Current health expenditure per capita": 1406.2}, {"Continent": "Asia", "Country": "Singapore", "Code": "SGP", "Year": 2017, "Average annual working hours per worker": 2237.7263, "GDP per capita": 81444.79, "Population": 5764489, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.378359795, "Productivity": 54.29877798, "Current health expenditure per capita": 4091.44}, {"Continent": "Europe", "Country": "Slovakia", "Code": "SVK", "Year": 2017, "Average annual working hours per worker": 1745.2307, "GDP per capita": 26467.1, "Population": 5439418, "Gini coefficient": 0.23237751, "Life satisfaction": 6.243428707, "Productivity": 35.16566573, "Current health expenditure per capita": 2038.16}, {"Continent": "Europe", "Country": "Slovenia", "Code": "SVN", "Year": 2017, "Average annual working hours per worker": 1655.089, "GDP per capita": 31594.71, "Population": 2098396, "Gini coefficient": 0.242193073, "Life satisfaction": 6.665273666, "Productivity": 40.55475278, "Current health expenditure per capita": 2998.32}, {"Continent": "Africa", "Country": "South Africa", "Code": "ZAF", "Year": 2017, "Average annual working hours per worker": 2209.0916, "GDP per capita": 12735.03, "Population": 56641208, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.034863472, "Productivity": 18.05485455, "Current health expenditure per capita": 1107.89}, {"Continent": "Asia", "Country": "South Korea", "Code": "KOR", "Year": 2017, "Average annual working hours per worker": 2063.3315, "GDP per capita": 40875.21, "Population": 51511640, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.902816772, "Productivity": 39.08392755, "Current health expenditure per capita": 2925.95}, {"Continent": "Europe", "Country": "Spain", "Code": "ESP", "Year": 2017, "Average annual working hours per worker": 1686.4973, "GDP per capita": 38928.51, "Population": 46584168, "Gini coefficient": 0.346545469, "Life satisfaction": 6.457449436, "Productivity": 56.06301345, "Current health expenditure per capita": 3556.87}, {"Continent": "Asia", "Country": "Sri Lanka", "Code": "LKA", "Year": 2017, "Average annual working hours per worker": 1923.9354, "GDP per capita": 12733.1, "Population": 21506816, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.213299274, "Productivity": 17.04851325, "Current health expenditure per capita": 459.25}, {"Continent": "Europe", "Country": "Sweden", "Code": "SWE", "Year": 2017, "Average annual working hours per worker": 1609.2896, "GDP per capita": 52032.67, "Population": 10058191, "Gini coefficient": 0.287746034, "Life satisfaction": 7.398092747, "Productivity": 64.3374695, "Current health expenditure per capita": 5655.7}, {"Continent": "Europe", "Country": "Switzerland", "Code": "CHE", "Year": 2017, "Average annual working hours per worker": 1589.6758, "GDP per capita": 73624.98, "Population": 8451688, "Gini coefficient": 0.32676334, "Life satisfaction": 7.69422102, "Productivity": 80.58822762, "Current health expenditure per capita": 7989.64}, {"Continent": "Asia", "Country": "Taiwan", "Code": "TWN", "Year": 2017, "Average annual working hours per worker": 1990.3212, "GDP per capita": 45375.41, "Population": 23665028, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.537089825, "Productivity": 44.99929907, "Current health expenditure per capita": 2230.495}, {"Continent": "Asia", "Country": "Thailand", "Code": "THA", "Year": 2017, "Average annual working hours per worker": 2185.4456, "GDP per capita": 16665.38, "Population": 70898208, "Gini coefficient": 0.36528755, "Life satisfaction": 6.02215147, "Productivity": 14.74583813, "Current health expenditure per capita": 669.58}, {"Continent": "Asia", "Country": "Turkey", "Code": "TUR", "Year": 2017, "Average annual working hours per worker": 1832.0, "GDP per capita": 26611.18, "Population": 82089824, "Gini coefficient": 0.414056667, "Life satisfaction": 4.87207365, "Productivity": 41.79920311, "Current health expenditure per capita": 1166.73}, {"Continent": "Europe", "Country": "United Kingdom", "Code": "GBR", "Year": 2017, "Average annual working hours per worker": 1670.2728, "GDP per capita": 44093.93, "Population": 66064808, "Gini coefficient": 0.351488307, "Life satisfaction": 7.157151222, "Productivity": 54.67692069, "Current health expenditure per capita": 4515.59}, {"Continent": "Americas", "Country": "United States", "Code": "USA", "Year": 2017, "Average annual working hours per worker": 1757.2255, "GDP per capita": 60116.57, "Population": 329791232, "Gini coefficient": 0.411805587, "Life satisfaction": 6.943701267, "Productivity": 71.63857051, "Current health expenditure per capita": 10103.09}, {"Continent": "Americas", "Country": "Uruguay", "Code": "URY", "Year": 2017, "Average annual working hours per worker": 1552.347, "GDP per capita": 20615.56, "Population": 3422205, "Gini coefficient": 0.394645312, "Life satisfaction": 6.600337029, "Productivity": 28.29584596, "Current health expenditure per capita": 2029.89}, {"Continent": "Asia", "Country": "Vietnam", "Code": "VNM", "Year": 2017, "Average annual working hours per worker": 2169.5916, "GDP per capita": 6841.65, "Population": 94033048, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.467451096, "Productivity": 5.652919029, "Current health expenditure per capita": 423.98}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<p>As we can see in our scatterplot, we can assume that there is a negative, linear association between these two variables.</p>
</section>
</section>
<section id="research-questions-1" class="level2">
<h2 class="anchored" data-anchor-id="research-questions-1">Research Questions</h2>
<ol type="1">
<li>Does the longer average annual working hours increase labor productivity?</li>
<li>What is the most related factor in improving labor productivity?</li>
</ol>
<ul>
<li>Annual working hours per worker</li>
<li>GDP of the country</li>
<li>Gini coefficient of country</li>
<li>Life satisfaction level of worker</li>
<li>Amount of health expenditure of worker</li>
</ul>
<p>Please find the literature, our research question is motivated by, in the sources.</p>
</section>
<section id="hypotheses-1" class="level2">
<h2 class="anchored" data-anchor-id="hypotheses-1">Hypotheses</h2>
<ol type="1">
<li>There is no correlation between working hours and labor productivity. (= Null hypothesis of our first research question)</li>
<li>Life satisfaction level of country is the most related factor (regarding factors listed above) in improving labor productivity.</li>
</ol>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">Methodology</h2>
</section>
<section id="evaluation-of-our-first-hypothesis" class="level2">
<h2 class="anchored" data-anchor-id="evaluation-of-our-first-hypothesis">Evaluation of our first hypothesis</h2>
<p><strong>Null hypothesis</strong>: There is no correlation between working hours and labor productivity.</p>
<p><strong>Alternative hypothesis</strong>: There is a correlation between working hours and labor productivity.</p>
<p>For our first hypothesis we only have to take the variables Labor productivity and average annual working hours into account. Form the EDA we assumed a linear relationship of these two variables. Hence we use a single linear regression model for evaluation. With this simple method, we can first exclude all unnecessary variables so that we can look at how our independent variable (Average annual working hours) affects the dependent variable (Labor productivity).</p>
<section id="single-linear-regression-model" class="level3">
<h3 class="anchored" data-anchor-id="single-linear-regression-model"><strong>Single linear regression model</strong></h3>
<p>Define X and y variable for later use</p>
<div class="cell" data-execution_count="99">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define outcome variable as y_label</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>y_label_H1 <span class="op">=</span> <span class="st">'Productivity'</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># select features</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>X_H1 <span class="op">=</span> df[[<span class="st">"Average annual working hours per worker"</span>]]</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># create response</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>y_H1 <span class="op">=</span> df[y_label_H1]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-splitting" class="level3">
<h3 class="anchored" data-anchor-id="data-splitting">Data Splitting</h3>
<p>Splitting into train and test data and investigating</p>
<div class="cell" data-execution_count="100">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>X_train_H1, X_test_H1, y_train_H1, y_test_H1 <span class="op">=</span> train_test_split(X_H1, y_H1, </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                                                    test_size<span class="op">=</span><span class="fl">0.2</span>, </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                                                    shuffle<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                                                    random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>X_train_H1.shape, y_train_H1.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="100">
<pre><code>((52, 1), (52,))</code></pre>
</div>
</div>
<div class="cell" data-execution_count="101">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>X_train_H1.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="101">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Average annual working hours per worker</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>34</th>
      <td>1518.8575</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1493.3651</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="102">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>X_test_H1.shape, y_test_H1.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="102">
<pre><code>((14, 1), (14,))</code></pre>
</div>
</div>
<p>We make a copy of the training data since we don’t want to alter our data during data exploration. We will use this data for our exploratory data analysis.</p>
<div class="cell" data-execution_count="103">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df_train_H1 <span class="op">=</span> pd.DataFrame(X_train_H1.copy())</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>df_train_H1 <span class="op">=</span> df_train_H1.join(pd.DataFrame(y_train_H1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="104">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df_train_H1.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="104">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Average annual working hours per worker</th>
      <th>Productivity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>34</th>
      <td>1518.8575</td>
      <td>83.165361</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1493.3651</td>
      <td>59.125016</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="analysis" class="level3">
<h3 class="anchored" data-anchor-id="analysis">Analysis</h3>
</section>
<section id="descriptive-statistics" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics">Descriptive statistics</h3>
<div class="cell" data-execution_count="105">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df_train_H1.describe().T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="105">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Average annual working hours per worker</th>
      <td>52.0</td>
      <td>1861.423508</td>
      <td>269.327956</td>
      <td>1353.88680</td>
      <td>1658.232700</td>
      <td>1844.34135</td>
      <td>2031.379325</td>
      <td>2455.550800</td>
    </tr>
    <tr>
      <th>Productivity</th>
      <td>52.0</td>
      <td>39.929674</td>
      <td>24.617458</td>
      <td>3.02265</td>
      <td>20.278949</td>
      <td>37.19092</td>
      <td>56.912948</td>
      <td>109.488306</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="simple-regression-model" class="level3">
<h3 class="anchored" data-anchor-id="simple-regression-model">Simple regression model</h3>
<p>Introduction simple linear regression</p>
<div class="cell" data-execution_count="106">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>reg_H1 <span class="op">=</span> LinearRegression()</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>reg2_H1 <span class="op">=</span> KNeighborsRegressor(n_neighbors<span class="op">=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="training-validation" class="level3">
<h3 class="anchored" data-anchor-id="training-validation">Training &amp; Validation</h3>
<p>We cannot ensure how well our model will perform. Therefore, as a better option, we will split our data into two sets: the training set and the test set, and then perform k-fold cross-validation. In k-fold cross-validation, the data set is split into k (here k = 5) iterations into training and test data sets. From each training and testing set we can get the error rate, so with this value we can observe how well our model performs on instances it has never seen before. If the training error is small (i.e.&nbsp;our model makes few errors in the training set) but the generalization error is high, this means that our model is overfitting the training data.</p>
<div class="cell" data-execution_count="107">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cross-validation with 5 folds</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>scores_H1 <span class="op">=</span> cross_val_score(reg_H1, X_train_H1, y_train_H1, cv<span class="op">=</span><span class="dv">5</span>, scoring<span class="op">=</span><span class="st">'neg_mean_squared_error'</span>) <span class="op">*-</span><span class="dv">1</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>scores2_H1 <span class="op">=</span> cross_val_score(reg2_H1, X_train_H1, y_train_H1, cv<span class="op">=</span><span class="dv">5</span>, scoring<span class="op">=</span><span class="st">'neg_mean_squared_error'</span>) <span class="op">*-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="108">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># store cross-validation scores</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>df_scores_H1 <span class="op">=</span> pd.DataFrame({<span class="st">"lr"</span>: scores_H1, </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"knn"</span>: scores2_H1})</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># reset index to match the number of folds</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>df_scores_H1.index <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co"># print dataframe</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>df_scores_H1.style.background_gradient(cmap<span class="op">=</span><span class="st">'Blues'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="108">

<style type="text/css">
#T_bb2e7_row0_col0, #T_bb2e7_row0_col1 {
  background-color: #08306b;
  color: #f1f1f1;
}
#T_bb2e7_row1_col0 {
  background-color: #3080bd;
  color: #f1f1f1;
}
#T_bb2e7_row1_col1 {
  background-color: #1967ad;
  color: #f1f1f1;
}
#T_bb2e7_row2_col0, #T_bb2e7_row3_col1 {
  background-color: #f7fbff;
  color: #000000;
}
#T_bb2e7_row2_col1 {
  background-color: #edf4fc;
  color: #000000;
}
#T_bb2e7_row3_col0 {
  background-color: #e2edf8;
  color: #000000;
}
#T_bb2e7_row4_col0 {
  background-color: #e6f0f9;
  color: #000000;
}
#T_bb2e7_row4_col1 {
  background-color: #77b5d9;
  color: #000000;
}
</style>
<table id="T_bb2e7">
  <thead>
    <tr>
      <th class="blank level0">&nbsp;</th>
      <th id="T_bb2e7_level0_col0" class="col_heading level0 col0">lr</th>
      <th id="T_bb2e7_level0_col1" class="col_heading level0 col1">knn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_bb2e7_level0_row0" class="row_heading level0 row0">1</th>
      <td id="T_bb2e7_row0_col0" class="data row0 col0">624.227040</td>
      <td id="T_bb2e7_row0_col1" class="data row0 col1">734.592660</td>
    </tr>
    <tr>
      <th id="T_bb2e7_level0_row1" class="row_heading level0 row1">2</th>
      <td id="T_bb2e7_row1_col0" class="data row1 col0">456.552360</td>
      <td id="T_bb2e7_row1_col1" class="data row1 col1">593.315306</td>
    </tr>
    <tr>
      <th id="T_bb2e7_level0_row2" class="row_heading level0 row2">3</th>
      <td id="T_bb2e7_row2_col0" class="data row2 col0">77.597734</td>
      <td id="T_bb2e7_row2_col1" class="data row2 col1">111.456937</td>
    </tr>
    <tr>
      <th id="T_bb2e7_level0_row3" class="row_heading level0 row3">4</th>
      <td id="T_bb2e7_row3_col0" class="data row3 col0">136.651296</td>
      <td id="T_bb2e7_row3_col1" class="data row3 col1">75.916928</td>
    </tr>
    <tr>
      <th id="T_bb2e7_level0_row4" class="row_heading level0 row4">5</th>
      <td id="T_bb2e7_row4_col0" class="data row4 col0">126.544454</td>
      <td id="T_bb2e7_row4_col1" class="data row4 col1">385.322855</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="109">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>alt.Chart(df_scores_H1.reset_index()).mark_line(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>     point<span class="op">=</span>alt.OverlayMarkDef()</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>).encode(</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"index"</span>, <span class="bu">bin</span><span class="op">=</span><span class="va">False</span>, title<span class="op">=</span><span class="st">"Fold"</span>, axis<span class="op">=</span>alt.Axis(tickCount<span class="op">=</span><span class="dv">5</span>)),</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>        alt.repeat(<span class="st">"layer"</span>), aggregate<span class="op">=</span><span class="st">"mean"</span>, title<span class="op">=</span><span class="st">"Mean squared error (MSE)"</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.datum(alt.repeat(<span class="st">"layer"</span>)),</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>).repeat(layer<span class="op">=</span>[<span class="st">"lr"</span>, <span class="st">"knn"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\ji_so\anaconda3\envs\stats\lib\site-packages\altair\utils\core.py:317: FutureWarning: iteritems is deprecated and will be removed in a future version. Use .items instead.
  for col_name, dtype in df.dtypes.iteritems():</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="109">

<div id="altair-viz-10a46daa946246ffafd2d5d709e68cdf"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-10a46daa946246ffafd2d5d709e68cdf") {
      outputDiv = document.getElementById("altair-viz-10a46daa946246ffafd2d5d709e68cdf");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "repeat": {"layer": ["lr", "knn"]}, "spec": {"data": {"name": "data-1c27c121a3133c19e6d77453a7db9962"}, "mark": {"type": "line", "point": {}}, "encoding": {"color": {"datum": {"repeat": "layer"}}, "x": {"axis": {"tickCount": 5}, "bin": false, "field": "index", "title": "Fold", "type": "quantitative"}, "y": {"aggregate": "mean", "field": {"repeat": "layer"}, "title": "Mean squared error (MSE)"}}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-1c27c121a3133c19e6d77453a7db9962": [{"index": 1, "lr": 624.2270396487905, "knn": 734.5926597782453}, {"index": 2, "lr": 456.5523604066042, "knn": 593.3153063171004}, {"index": 3, "lr": 77.59773380991487, "knn": 111.45693655375158}, {"index": 4, "lr": 136.65129628731574, "knn": 75.9169278993184}, {"index": 5, "lr": 126.54445402563303, "knn": 385.32285482572604}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<div class="cell" data-execution_count="110">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df_scores_H1.describe().T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="110">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>lr</th>
      <td>5.0</td>
      <td>284.314577</td>
      <td>242.195193</td>
      <td>77.597734</td>
      <td>126.544454</td>
      <td>136.651296</td>
      <td>456.552360</td>
      <td>624.22704</td>
    </tr>
    <tr>
      <th>knn</th>
      <td>5.0</td>
      <td>380.120937</td>
      <td>289.762629</td>
      <td>75.916928</td>
      <td>111.456937</td>
      <td>385.322855</td>
      <td>593.315306</td>
      <td>734.59266</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>The difference in performance between the two models is relatively small. -&gt; Choose linear regression</p>
</section>
<section id="final-training" class="level3">
<h3 class="anchored" data-anchor-id="final-training">Final Training</h3>
<div class="cell" data-execution_count="111">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>reg_H1.fit(X_train_H1, y_train_H1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="111">
<style>#sk-container-id-6 {color: black;background-color: white;}#sk-container-id-6 pre{padding: 0;}#sk-container-id-6 div.sk-toggleable {background-color: white;}#sk-container-id-6 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-6 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-6 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-6 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-6 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-6 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-6 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-6 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-6 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-6 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-6 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-6 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-6 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-6 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-6 div.sk-item {position: relative;z-index: 1;}#sk-container-id-6 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-6 div.sk-item::before, #sk-container-id-6 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-6 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-6 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-6 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-6 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-6 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-6 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-6 div.sk-label-container {text-align: center;}#sk-container-id-6 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-6 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-6" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>LinearRegression()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-6" type="checkbox" checked=""><label for="sk-estimator-id-6" class="sk-toggleable__label sk-toggleable__label-arrow">LinearRegression</label><div class="sk-toggleable__content"><pre>LinearRegression()</pre></div></div></div></div></div>
</div>
</div>
<div class="cell" data-execution_count="112">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f' Intercept: </span><span class="sc">{</span>reg_H1<span class="sc">.</span>intercept_<span class="sc">:.3}</span><span class="ss"> </span><span class="ch">\n</span><span class="ss"> Slope: </span><span class="sc">{</span>reg_H1<span class="sc">.</span>coef_[<span class="dv">0</span>]<span class="sc">:.5f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> Intercept: 1.63e+02 
 Slope: -0.06613</code></pre>
</div>
</div>
<div class="cell" data-execution_count="113">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>reg_H1.intercept_</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="113">
<pre><code>163.0166542171038</code></pre>
</div>
</div>
<p><em>Regression equation</em> - The intercept, 163,02, is the average predicted labor productivity that we assume if the average working hours per worker is 0. To find the average labor productivity with average working hours per worker, we simply plug in average working hours per worker=1 to obtain 163,02 - 0,06613 * 1 = 162,95.</p>
<p>Prediction for our test data</p>
<div class="cell" data-execution_count="114">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>y_pred_H1 <span class="op">=</span> reg_H1.predict(X_test_H1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Mean squared error:</p>
<div class="cell" data-execution_count="115">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>mean_squared_error(y_test_H1, y_pred_H1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="115">
<pre><code>195.77492181833955</code></pre>
</div>
</div>
<p>Root mean squared error:</p>
<div class="cell" data-execution_count="116">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>mean_squared_error(y_test_H1, y_pred_H1, squared<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="116">
<pre><code>13.991959184415153</code></pre>
</div>
</div>
<p>Absolute mean squared error:</p>
<div class="cell" data-execution_count="117">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>mean_absolute_error(y_test_H1, y_pred_H1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="117">
<pre><code>11.179910542914111</code></pre>
</div>
</div>
<p>Model diagnostics:</p>
<div class="cell" data-execution_count="118">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Additional function for OLS &lt;- this function will be rolled back after using the OLS function</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>df.columns <span class="op">=</span> [c.replace(<span class="st">' '</span>,<span class="st">'_'</span>) <span class="cf">for</span> c <span class="kw">in</span> df.columns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="119">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>Singlie_RM <span class="op">=</span> ols(<span class="st">"Productivity ~ Average_annual_working_hours_per_worker"</span>, data<span class="op">=</span>df).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="120">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># print regression results</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(Singlie_RM.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:           Productivity   R-squared:                       0.526
Model:                            OLS   Adj. R-squared:                  0.519
Method:                 Least Squares   F-statistic:                     71.03
Date:                Sun, 15 Jan 2023   Prob (F-statistic):           5.69e-12
Time:                        21:03:02   Log-Likelihood:                -277.66
No. Observations:                  66   AIC:                             559.3
Df Residuals:                      64   BIC:                             563.7
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
===========================================================================================================
                                              coef    std err          t      P&gt;|t|      [0.025      0.975]
-----------------------------------------------------------------------------------------------------------
Intercept                                 162.6904     14.801     10.992      0.000     133.122     192.258
Average_annual_working_hours_per_worker    -0.0664      0.008     -8.428      0.000      -0.082      -0.051
==============================================================================
Omnibus:                       15.301   Durbin-Watson:                   1.974
Prob(Omnibus):                  0.000   Jarque-Bera (JB):               23.925
Skew:                           0.828   Prob(JB):                     6.38e-06
Kurtosis:                       5.440   Cond. No.                     1.37e+04
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 1.37e+04. This might indicate that there are
strong multicollinearity or other numerical problems.</code></pre>
</div>
</div>
<p>Here, the p-value is statistically significant. It shows strong proof against the null hypothesis because since the probability is less than 5%. Based on this, we accept the alternative hypothesis and dismiss the null hypothesis. - Accepted hypothsis: There is a correlation between working hours and labor productivity.</p>
<ul>
<li>However, from this result we can also see that there is strong multicollinearity or other numerical problems in this model. In the case of multicollinearity, this reduces the accuracy of the estimated coefficients, which weakens the statistical power of your regression model. Therefore we might not be able to trust the p-values to identify independent variables that are statistically significant.</li>
</ul>
<div class="cell" data-execution_count="121">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>df.columns <span class="op">=</span> [c.replace(<span class="st">'_'</span>,<span class="st">' '</span>) <span class="cf">for</span> c <span class="kw">in</span> df.columns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="evaluation-of-our-second-hypothese-with-using-various-models" class="level2">
<h2 class="anchored" data-anchor-id="evaluation-of-our-second-hypothese-with-using-various-models">Evaluation of our second hypothese with using various models</h2>
<p>Our second hypothesis relates to more than one independent variable. Therefore, we will use two different models to evaluate this hypothesis: <strong>Multiple linear regression &amp; Lasso regression</strong></p>
<ul>
<li>Life satisfaction level of country is the most related factor (regarding all existing factors) in improving labor productivity.</li>
</ul>
<section id="multiple-linear-regression" class="level3">
<h3 class="anchored" data-anchor-id="multiple-linear-regression"><strong>Multiple linear regression</strong></h3>
<p>We extend the simple linear regression with additional predictor variables and stick to one response variable. We want to investigate the relationship between those predictor variables and the response variable. The selection of the variables for the model will be done by evaluating the adjusted r2, as it describes the variation of outcome explained by a predictor.</p>
</section>
<section id="variable-lists" class="level3">
<h3 class="anchored" data-anchor-id="variable-lists">Variable lists</h3>
<p>We define X and y variables: - X = “Average annual working hours per worker”, “GDP per capita”, “Population”, “Gini coefficient”, “Life satisfaction”, “Current health expenditure per capita” - y = “Productivity”</p>
<div class="cell" data-execution_count="122">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define outcome variable as y_label</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>y_label <span class="op">=</span> <span class="st">'Productivity'</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co"># select features</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>features <span class="op">=</span> [<span class="st">"Average annual working hours per worker"</span>, </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"GDP per capita"</span>,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Population"</span>,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Gini coefficient"</span>,</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Life satisfaction"</span>,</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Current health expenditure per capita"</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>            ]</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a><span class="co"># create feature data</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df[features]</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a><span class="co"># create response</span></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df[y_label]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-splitting-1" class="level3">
<h3 class="anchored" data-anchor-id="data-splitting-1">Data splitting</h3>
<p>We split our data into train and test data:</p>
<div class="cell" data-execution_count="123">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>                                                    test_size<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>                                                    random_state<span class="op">=</span><span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="124">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># data exploration set</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>df_train <span class="op">=</span> pd.DataFrame(X_train.copy())</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>df_train <span class="op">=</span> df_train.join(pd.DataFrame(y_train))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="analysis-1" class="level2">
<h2 class="anchored" data-anchor-id="analysis-1">Analysis</h2>
<section id="descriptive-statistics-1" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics-1">Descriptive statistics</h3>
<p>Descriptive statistics of our training data:</p>
<div class="cell" data-execution_count="125">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>df_train.describe().T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="125">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Average annual working hours per worker</th>
      <td>52.0</td>
      <td>1.861424e+03</td>
      <td>2.693280e+02</td>
      <td>1353.886800</td>
      <td>1.658233e+03</td>
      <td>1.844341e+03</td>
      <td>2.031379e+03</td>
      <td>2.455551e+03</td>
    </tr>
    <tr>
      <th>GDP per capita</th>
      <td>52.0</td>
      <td>3.399115e+04</td>
      <td>2.126770e+04</td>
      <td>3950.930000</td>
      <td>1.837127e+04</td>
      <td>3.070581e+04</td>
      <td>4.625722e+04</td>
      <td>9.059755e+04</td>
    </tr>
    <tr>
      <th>Population</th>
      <td>52.0</td>
      <td>9.095150e+07</td>
      <td>2.667830e+08</td>
      <td>343641.000000</td>
      <td>5.700403e+06</td>
      <td>1.626382e+07</td>
      <td>5.337656e+07</td>
      <td>1.410276e+09</td>
    </tr>
    <tr>
      <th>Gini coefficient</th>
      <td>52.0</td>
      <td>3.358921e-01</td>
      <td>5.104864e-02</td>
      <td>0.232378</td>
      <td>3.052685e-01</td>
      <td>3.407793e-01</td>
      <td>3.566471e-01</td>
      <td>4.971548e-01</td>
    </tr>
    <tr>
      <th>Life satisfaction</th>
      <td>52.0</td>
      <td>6.190933e+00</td>
      <td>9.956634e-01</td>
      <td>3.248770</td>
      <td>5.604619e+00</td>
      <td>6.242094e+00</td>
      <td>7.053873e+00</td>
      <td>7.780348e+00</td>
    </tr>
    <tr>
      <th>Current health expenditure per capita</th>
      <td>52.0</td>
      <td>2.806152e+03</td>
      <td>2.066024e+03</td>
      <td>101.180000</td>
      <td>1.085205e+03</td>
      <td>2.236172e+03</td>
      <td>4.477472e+03</td>
      <td>7.989640e+03</td>
    </tr>
    <tr>
      <th>Productivity</th>
      <td>52.0</td>
      <td>3.992967e+01</td>
      <td>2.461746e+01</td>
      <td>3.022650</td>
      <td>2.027895e+01</td>
      <td>3.719092e+01</td>
      <td>5.691295e+01</td>
      <td>1.094883e+02</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="exploratory-data-analysis-1" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-data-analysis-1">Exploratory data analysis</h3>
<p>We can see the relationship between variables by using pairplot and correlation table.</p>
<div class="cell" data-execution_count="126">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>sns.pairplot(df_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="126">
<pre><code>&lt;seaborn.axisgrid.PairGrid at 0x255474eb760&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-42-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>Findings:</p>
<ul>
<li>Positive association between GDP per Capita and Productivity, between Life satisfaction and Productivity as well as between Current health expenditure per capita and Productivity.</li>
<li>Negative association between Average annual working hours per worker and Productivity as well as between gini-coefficient and Productivity.</li>
<li>Relationships seem to be linear in all cases.</li>
</ul>
</section>
<section id="relationships" class="level3">
<h3 class="anchored" data-anchor-id="relationships">Relationships</h3>
<p>We can inspect correlation between outcome and possible predictors:</p>
<div class="cell" data-execution_count="127">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>corr <span class="op">=</span> df_train.corr()</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>corr[y_label].sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="127">
<pre><code>Productivity                               1.000000
GDP per capita                             0.933883
Current health expenditure per capita      0.932841
Life satisfaction                          0.779188
Population                                -0.323232
Gini coefficient                          -0.459000
Average annual working hours per worker   -0.723444
Name: Productivity, dtype: float64</code></pre>
</div>
</div>
<p>We can take a look at all correlations:</p>
<div class="cell" data-execution_count="128">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>corr.style.background_gradient(cmap<span class="op">=</span><span class="st">'Blues'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="128">

<style type="text/css">
#T_bb614_row0_col0, #T_bb614_row1_col1, #T_bb614_row2_col2, #T_bb614_row3_col3, #T_bb614_row4_col4, #T_bb614_row5_col5, #T_bb614_row6_col6 {
  background-color: #08306b;
  color: #f1f1f1;
}
#T_bb614_row0_col1, #T_bb614_row0_col4, #T_bb614_row0_col5, #T_bb614_row0_col6, #T_bb614_row4_col2, #T_bb614_row5_col0, #T_bb614_row5_col3 {
  background-color: #f7fbff;
  color: #000000;
}
#T_bb614_row0_col2 {
  background-color: #69add5;
  color: #f1f1f1;
}
#T_bb614_row0_col3 {
  background-color: #66abd4;
  color: #f1f1f1;
}
#T_bb614_row1_col0, #T_bb614_row6_col2 {
  background-color: #e3eef8;
  color: #000000;
}
#T_bb614_row1_col2, #T_bb614_row5_col2 {
  background-color: #e0ecf8;
  color: #000000;
}
#T_bb614_row1_col3 {
  background-color: #ebf3fb;
  color: #000000;
}
#T_bb614_row1_col4 {
  background-color: #0d57a1;
  color: #f1f1f1;
}
#T_bb614_row1_col5 {
  background-color: #084184;
  color: #f1f1f1;
}
#T_bb614_row1_col6, #T_bb614_row5_col6, #T_bb614_row6_col5 {
  background-color: #083979;
  color: #f1f1f1;
}
#T_bb614_row2_col0 {
  background-color: #4f9bcb;
  color: #f1f1f1;
}
#T_bb614_row2_col1 {
  background-color: #d7e6f5;
  color: #000000;
}
#T_bb614_row2_col3, #T_bb614_row3_col2 {
  background-color: #7ab6d9;
  color: #000000;
}
#T_bb614_row2_col4, #T_bb614_row3_col1 {
  background-color: #e1edf8;
  color: #000000;
}
#T_bb614_row2_col5 {
  background-color: #c6dbef;
  color: #000000;
}
#T_bb614_row2_col6 {
  background-color: #caddf0;
  color: #000000;
}
#T_bb614_row3_col0 {
  background-color: #4e9acb;
  color: #f1f1f1;
}
#T_bb614_row3_col4 {
  background-color: #d3e4f3;
  color: #000000;
}
#T_bb614_row3_col5, #T_bb614_row3_col6 {
  background-color: #d9e7f5;
  color: #000000;
}
#T_bb614_row4_col0 {
  background-color: #eef5fc;
  color: #000000;
}
#T_bb614_row4_col1 {
  background-color: #0e59a2;
  color: #f1f1f1;
}
#T_bb614_row4_col3 {
  background-color: #e7f1fa;
  color: #000000;
}
#T_bb614_row4_col5 {
  background-color: #084a91;
  color: #f1f1f1;
}
#T_bb614_row4_col6 {
  background-color: #08519c;
  color: #f1f1f1;
}
#T_bb614_row5_col1 {
  background-color: #084387;
  color: #f1f1f1;
}
#T_bb614_row5_col4 {
  background-color: #084b93;
  color: #f1f1f1;
}
#T_bb614_row6_col0, #T_bb614_row6_col3 {
  background-color: #f5fafe;
  color: #000000;
}
#T_bb614_row6_col1 {
  background-color: #083a7a;
  color: #f1f1f1;
}
#T_bb614_row6_col4 {
  background-color: #0a539e;
  color: #f1f1f1;
}
</style>
<table id="T_bb614">
  <thead>
    <tr>
      <th class="blank level0">&nbsp;</th>
      <th id="T_bb614_level0_col0" class="col_heading level0 col0">Average annual working hours per worker</th>
      <th id="T_bb614_level0_col1" class="col_heading level0 col1">GDP per capita</th>
      <th id="T_bb614_level0_col2" class="col_heading level0 col2">Population</th>
      <th id="T_bb614_level0_col3" class="col_heading level0 col3">Gini coefficient</th>
      <th id="T_bb614_level0_col4" class="col_heading level0 col4">Life satisfaction</th>
      <th id="T_bb614_level0_col5" class="col_heading level0 col5">Current health expenditure per capita</th>
      <th id="T_bb614_level0_col6" class="col_heading level0 col6">Productivity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_bb614_level0_row0" class="row_heading level0 row0">Average annual working hours per worker</th>
      <td id="T_bb614_row0_col0" class="data row0 col0">1.000000</td>
      <td id="T_bb614_row0_col1" class="data row0 col1">-0.560226</td>
      <td id="T_bb614_row0_col2" class="data row0 col2">0.271971</td>
      <td id="T_bb614_row0_col3" class="data row0 col3">0.282679</td>
      <td id="T_bb614_row0_col4" class="data row0 col4">-0.660058</td>
      <td id="T_bb614_row0_col5" class="data row0 col5">-0.743732</td>
      <td id="T_bb614_row0_col6" class="data row0 col6">-0.723444</td>
    </tr>
    <tr>
      <th id="T_bb614_level0_row1" class="row_heading level0 row1">GDP per capita</th>
      <td id="T_bb614_row1_col0" class="data row1 col0">-0.560226</td>
      <td id="T_bb614_row1_col1" class="data row1 col1">1.000000</td>
      <td id="T_bb614_row1_col2" class="data row1 col2">-0.306050</td>
      <td id="T_bb614_row1_col3" class="data row1 col3">-0.384522</td>
      <td id="T_bb614_row1_col4" class="data row1 col4">0.751129</td>
      <td id="T_bb614_row1_col5" class="data row1 col5">0.885845</td>
      <td id="T_bb614_row1_col6" class="data row1 col6">0.933883</td>
    </tr>
    <tr>
      <th id="T_bb614_level0_row2" class="row_heading level0 row2">Population</th>
      <td id="T_bb614_row2_col0" class="data row2 col0">0.271971</td>
      <td id="T_bb614_row2_col1" class="data row2 col1">-0.306050</td>
      <td id="T_bb614_row2_col2" class="data row2 col2">1.000000</td>
      <td id="T_bb614_row2_col3" class="data row2 col3">0.207679</td>
      <td id="T_bb614_row2_col4" class="data row2 col4">-0.476370</td>
      <td id="T_bb614_row2_col5" class="data row2 col5">-0.304074</td>
      <td id="T_bb614_row2_col6" class="data row2 col6">-0.323232</td>
    </tr>
    <tr>
      <th id="T_bb614_level0_row3" class="row_heading level0 row3">Gini coefficient</th>
      <td id="T_bb614_row3_col0" class="data row3 col0">0.282679</td>
      <td id="T_bb614_row3_col1" class="data row3 col1">-0.384522</td>
      <td id="T_bb614_row3_col2" class="data row3 col2">0.207679</td>
      <td id="T_bb614_row3_col3" class="data row3 col3">1.000000</td>
      <td id="T_bb614_row3_col4" class="data row3 col4">-0.356457</td>
      <td id="T_bb614_row3_col5" class="data row3 col5">-0.475925</td>
      <td id="T_bb614_row3_col6" class="data row3 col6">-0.459000</td>
    </tr>
    <tr>
      <th id="T_bb614_level0_row4" class="row_heading level0 row4">Life satisfaction</th>
      <td id="T_bb614_row4_col0" class="data row4 col0">-0.660058</td>
      <td id="T_bb614_row4_col1" class="data row4 col1">0.751129</td>
      <td id="T_bb614_row4_col2" class="data row4 col2">-0.476370</td>
      <td id="T_bb614_row4_col3" class="data row4 col3">-0.356457</td>
      <td id="T_bb614_row4_col4" class="data row4 col4">1.000000</td>
      <td id="T_bb614_row4_col5" class="data row4 col5">0.826173</td>
      <td id="T_bb614_row4_col6" class="data row4 col6">0.779188</td>
    </tr>
    <tr>
      <th id="T_bb614_level0_row5" class="row_heading level0 row5">Current health expenditure per capita</th>
      <td id="T_bb614_row5_col0" class="data row5 col0">-0.743732</td>
      <td id="T_bb614_row5_col1" class="data row5 col1">0.885845</td>
      <td id="T_bb614_row5_col2" class="data row5 col2">-0.304074</td>
      <td id="T_bb614_row5_col3" class="data row5 col3">-0.475925</td>
      <td id="T_bb614_row5_col4" class="data row5 col4">0.826173</td>
      <td id="T_bb614_row5_col5" class="data row5 col5">1.000000</td>
      <td id="T_bb614_row5_col6" class="data row5 col6">0.932841</td>
    </tr>
    <tr>
      <th id="T_bb614_level0_row6" class="row_heading level0 row6">Productivity</th>
      <td id="T_bb614_row6_col0" class="data row6 col0">-0.723444</td>
      <td id="T_bb614_row6_col1" class="data row6 col1">0.933883</td>
      <td id="T_bb614_row6_col2" class="data row6 col2">-0.323232</td>
      <td id="T_bb614_row6_col3" class="data row6 col3">-0.459000</td>
      <td id="T_bb614_row6_col4" class="data row6 col4">0.779188</td>
      <td id="T_bb614_row6_col5" class="data row6 col5">0.932841</td>
      <td id="T_bb614_row6_col6" class="data row6 col6">1.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</section>
</section>
<section id="multiple-linear-regression-1" class="level2">
<h2 class="anchored" data-anchor-id="multiple-linear-regression-1">Multiple linear regression</h2>
<section id="select-model" class="level3">
<h3 class="anchored" data-anchor-id="select-model">Select model</h3>
<p>Select the linear regression model:</p>
<div class="cell" data-execution_count="129">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> LinearRegression()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="fit-model" class="level3">
<h3 class="anchored" data-anchor-id="fit-model">Fit model</h3>
<p>Fit the model to the complete training data:</p>
<div class="cell" data-execution_count="130">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>reg.fit(X_train, y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="130">
<style>#sk-container-id-7 {color: black;background-color: white;}#sk-container-id-7 pre{padding: 0;}#sk-container-id-7 div.sk-toggleable {background-color: white;}#sk-container-id-7 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-7 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-7 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-7 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-7 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-7 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-7 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-7 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-7 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-7 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-7 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-7 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-7 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-7 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-7 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-7 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-7 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-7 div.sk-item {position: relative;z-index: 1;}#sk-container-id-7 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-7 div.sk-item::before, #sk-container-id-7 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-7 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-7 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-7 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-7 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-7 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-7 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-7 div.sk-label-container {text-align: center;}#sk-container-id-7 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-7 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-7" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>LinearRegression()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-7" type="checkbox" checked=""><label for="sk-estimator-id-7" class="sk-toggleable__label sk-toggleable__label-arrow">LinearRegression</label><div class="sk-toggleable__content"><pre>LinearRegression()</pre></div></div></div></div></div>
</div>
</div>
<p>Intercept and slope coefficients:</p>
<div class="cell" data-execution_count="131">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>intercept <span class="op">=</span> pd.DataFrame({</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Name"</span>: [<span class="st">"Intercept"</span>],</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Coefficient"</span>:[reg.intercept_]}</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>slope <span class="op">=</span> pd.DataFrame({</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Name"</span>: features,</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Coefficient"</span>: reg.coef_}</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> pd.concat([intercept, slope], ignore_index<span class="op">=</span><span class="va">True</span>, sort<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a><span class="bu">round</span>(table, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="131">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Name</th>
      <th>Coefficient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Intercept</td>
      <td>61.98351</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Average annual working hours per worker</td>
      <td>-0.01960</td>
    </tr>
    <tr>
      <th>2</th>
      <td>GDP per capita</td>
      <td>0.00071</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Population</td>
      <td>-0.00000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Gini coefficient</td>
      <td>-31.44424</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Life satisfaction</td>
      <td>-1.08263</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Current health expenditure per capita</td>
      <td>0.00278</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>We assumed that life satisfaction level of country is the most related factor (regarding all existing factors) in improving labor productivity. We found that there is a correlation between life satisfaction and productivity. However, we cannot explain that this variable is the most related factor, since the absolute value of the coefficient of the variable “gini_coefficient” is much larger than the life satisfaction coefficient.</p>
</section>
<section id="evaluation-on-data-set" class="level3">
<h3 class="anchored" data-anchor-id="evaluation-on-data-set">Evaluation on data set</h3>
<p>Make predictions on the data:</p>
<div class="cell" data-execution_count="132">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>y_pred_data <span class="op">=</span> reg.predict(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Summary of evaluation on data set:</p>
<div class="cell" data-execution_count="133">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>results_MLR <span class="op">=</span> pd.DataFrame({<span class="st">''</span>: [<span class="st">'R²'</span>,<span class="st">'Adjusted R²'</span>,<span class="st">'MSE'</span>,<span class="st">'RMSE'</span>,<span class="st">'MAE'</span>],</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Multiple Linear Regression'</span>: [(r2_score(y, y_pred_data).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>                        ((<span class="dv">1</span><span class="op">-</span>(<span class="dv">1</span><span class="op">-</span>r2_score(y, y_pred_data))<span class="op">*</span>((<span class="bu">len</span>(X)<span class="op">-</span><span class="dv">1</span>)<span class="op">/</span>(<span class="bu">len</span>(X)<span class="op">-</span><span class="bu">len</span>(X.columns)<span class="op">-</span><span class="dv">1</span>))).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y, y_pred_data).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y, y_pred_data, squared<span class="op">=</span><span class="va">False</span>).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>                        (mean_absolute_error(y, y_pred_data).<span class="bu">round</span>(<span class="dv">5</span>))]})</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>results_MLR</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="133">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th>Multiple Linear Regression</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>R²</td>
      <td>0.93656</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adjusted R²</td>
      <td>0.93011</td>
    </tr>
    <tr>
      <th>2</th>
      <td>MSE</td>
      <td>35.34075</td>
    </tr>
    <tr>
      <th>3</th>
      <td>RMSE</td>
      <td>5.94481</td>
    </tr>
    <tr>
      <th>4</th>
      <td>MAE</td>
      <td>3.99093</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="evaluation-on-test-set" class="level3">
<h3 class="anchored" data-anchor-id="evaluation-on-test-set">Evaluation on test set</h3>
<p>Make predictions on the test set:</p>
<div class="cell" data-execution_count="134">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># obtain predictions</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>y_pred_test <span class="op">=</span> reg.predict(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="135">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>results_MLR_test <span class="op">=</span> pd.DataFrame({<span class="st">''</span>: [<span class="st">'R²'</span>,<span class="st">'Adjusted R²'</span>,<span class="st">'MSE'</span>,<span class="st">'RMSE'</span>,<span class="st">'MAE'</span>],</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Multiple Linear Regression'</span>: [(r2_score(y_test, y_pred_test).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>                        ((<span class="dv">1</span><span class="op">-</span>(<span class="dv">1</span><span class="op">-</span>r2_score(y_test, y_pred_test))<span class="op">*</span>((<span class="bu">len</span>(X_test)<span class="op">-</span><span class="dv">1</span>)<span class="op">/</span>(<span class="bu">len</span>(X_test)<span class="op">-</span><span class="bu">len</span>(X_test.columns)<span class="op">-</span><span class="dv">1</span>))).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y_test, y_pred_test).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y_test, y_pred_test, squared<span class="op">=</span><span class="va">False</span>).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>                        (mean_absolute_error(y_test, y_pred_test).<span class="bu">round</span>(<span class="dv">5</span>))]})</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>results_MLR_test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="135">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th>Multiple Linear Regression</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>R²</td>
      <td>0.89788</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adjusted R²</td>
      <td>0.81035</td>
    </tr>
    <tr>
      <th>2</th>
      <td>MSE</td>
      <td>41.59040</td>
    </tr>
    <tr>
      <th>3</th>
      <td>RMSE</td>
      <td>6.44906</td>
    </tr>
    <tr>
      <th>4</th>
      <td>MAE</td>
      <td>4.16722</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="model-diagnostics" class="level3">
<h3 class="anchored" data-anchor-id="model-diagnostics">Model diagnostics</h3>
<p>Rename columns using underscores:</p>
<div class="cell" data-execution_count="136">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>df.columns <span class="op">=</span> [c.replace(<span class="st">' '</span>,<span class="st">'_'</span>) <span class="cf">for</span> c <span class="kw">in</span> df.columns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Estimate the model and save it as lm (linear model):</p>
<div class="cell" data-execution_count="137">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>lm <span class="op">=</span> ols(<span class="st">"Productivity ~ Average_annual_working_hours_per_worker + GDP_per_capita + Population + Gini_coefficient + Life_satisfaction + Current_health_expenditure_per_capita"</span>, data<span class="op">=</span>df).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Print regression results:</p>
<div class="cell" data-execution_count="138">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lm.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:           Productivity   R-squared:                       0.938
Model:                            OLS   Adj. R-squared:                  0.932
Method:                 Least Squares   F-statistic:                     149.1
Date:                Sun, 15 Jan 2023   Prob (F-statistic):           9.52e-34
Time:                        21:03:15   Log-Likelihood:                -210.47
No. Observations:                  66   AIC:                             434.9
Df Residuals:                      59   BIC:                             450.3
Df Model:                           6                                         
Covariance Type:            nonrobust                                         
===========================================================================================================
                                              coef    std err          t      P&gt;|t|      [0.025      0.975]
-----------------------------------------------------------------------------------------------------------
Intercept                                  71.2118     13.134      5.422      0.000      44.931      97.492
Average_annual_working_hours_per_worker    -0.0231      0.004     -5.468      0.000      -0.032      -0.015
GDP_per_capita                              0.0007   8.03e-05      8.994      0.000       0.001       0.001
Population                              -1.695e-09   3.73e-09     -0.455      0.651   -9.15e-09    5.76e-09
Gini_coefficient                          -30.2290     14.688     -2.058      0.044     -59.621      -0.837
Life_satisfaction                          -1.3420      1.452     -0.924      0.359      -4.248       1.564
Current_health_expenditure_per_capita       0.0022      0.001      2.475      0.016       0.000       0.004
==============================================================================
Omnibus:                       23.461   Durbin-Watson:                   1.940
Prob(Omnibus):                  0.000   Jarque-Bera (JB):               45.656
Skew:                           1.174   Prob(JB):                     1.22e-10
Kurtosis:                       6.330   Cond. No.                     5.30e+09
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 5.3e+09. This might indicate that there are
strong multicollinearity or other numerical problems.</code></pre>
</div>
</div>
<p>The p-values of most variables are not statistically significant because their p-values are greater than 0.05. This result can be obtained if there are too many variables or if there is multicollinearity among the variables. Therefore, in the above model, we should consider removing variables that are not statistically significant.</p>
<p>Check Alex</p>
<p>Compute regression with only variables which are statistically significant:</p>
<div class="cell" data-execution_count="139">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compute regression with only few variables</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>lm2 <span class="op">=</span> ols(<span class="st">"Productivity ~ Average_annual_working_hours_per_worker + GDP_per_capita + Gini_coefficient + Current_health_expenditure_per_capita"</span>, data<span class="op">=</span>df).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="140">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># print regression results</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lm2.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:           Productivity   R-squared:                       0.937
Model:                            OLS   Adj. R-squared:                  0.933
Method:                 Least Squares   F-statistic:                     227.7
Date:                Sun, 15 Jan 2023   Prob (F-statistic):           6.38e-36
Time:                        21:03:15   Log-Likelihood:                -210.95
No. Observations:                  66   AIC:                             431.9
Df Residuals:                      61   BIC:                             442.9
Df Model:                           4                                         
Covariance Type:            nonrobust                                         
===========================================================================================================
                                              coef    std err          t      P&gt;|t|      [0.025      0.975]
-----------------------------------------------------------------------------------------------------------
Intercept                                  63.4398      9.847      6.443      0.000      43.750      83.130
Average_annual_working_hours_per_worker    -0.0224      0.004     -5.513      0.000      -0.031      -0.014
GDP_per_capita                              0.0007   7.71e-05      9.213      0.000       0.001       0.001
Gini_coefficient                          -32.4247     14.307     -2.266      0.027     -61.034      -3.815
Current_health_expenditure_per_capita       0.0019      0.001      2.327      0.023       0.000       0.004
==============================================================================
Omnibus:                       27.094   Durbin-Watson:                   1.974
Prob(Omnibus):                  0.000   Jarque-Bera (JB):               56.220
Skew:                           1.342   Prob(JB):                     6.19e-13
Kurtosis:                       6.639   Cond. No.                     7.91e+05
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 7.91e+05. This might indicate that there are
strong multicollinearity or other numerical problems.</code></pre>
</div>
</div>
<p>See “<strong>Check for Multicollinearity</strong>” first before performing the next analysis:</p>
<p>The results tell us that even though we removed all statistically insignificant variables, the variables still show strong multicollinearity. This multicollinearity can make these p-values unreliable because it reduces the accuracy of the estimated coefficients and reduces the statistical power of the regression model. Therefore, considering the problem of multicollinearity, we need to test with other variables.</p>
<p>We can select and test variables related to the second hypothesis: - Life_satisfaction: this variable relates to our second hypothesis - Gini_coefficient: this variable has the highest absolute coefficient value</p>
<div class="cell" data-execution_count="141">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compute regression with only few variables related to our second hypothesis</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co"># selected variables contain no multicollinearity problem (VIF)</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>lm3 <span class="op">=</span> ols(<span class="st">"Productivity ~ Gini_coefficient + Life_satisfaction"</span>, data<span class="op">=</span>df).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="142">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># print regression results</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lm3.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:           Productivity   R-squared:                       0.605
Model:                            OLS   Adj. R-squared:                  0.592
Method:                 Least Squares   F-statistic:                     48.24
Date:                Sun, 15 Jan 2023   Prob (F-statistic):           1.97e-13
Time:                        21:03:15   Log-Likelihood:                -271.65
No. Observations:                  66   AIC:                             549.3
Df Residuals:                      63   BIC:                             555.9
Df Model:                           2                                         
Covariance Type:            nonrobust                                         
=====================================================================================
                        coef    std err          t      P&gt;|t|      [0.025      0.975]
-------------------------------------------------------------------------------------
Intercept           -26.9548     18.957     -1.422      0.160     -64.837      10.928
Gini_coefficient   -110.4328     33.779     -3.269      0.002    -177.935     -42.931
Life_satisfaction    16.7845      2.018      8.317      0.000      12.752      20.818
==============================================================================
Omnibus:                        8.014   Durbin-Watson:                   2.050
Prob(Omnibus):                  0.018   Jarque-Bera (JB):                7.332
Skew:                           0.731   Prob(JB):                       0.0256
Kurtosis:                       3.728   Cond. No.                         126.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
<p>If we include only a few variables in our regression model that are directly related to our second hypothesis, we can observe that the p-value of these variables is statistically significant. The coefficient of these variables also explains the positive relationship between life satisfaction and labor productivity.</p>
<p>As we already mention above, we can also notice that the absolute value of the coefficient of the variable “gini_coefficient” is much larger than the life satisfaction coefficient. It indicates that the life satisfaction is not the most related factor in improving labor productivity.</p>
<p>From a model point of view, this result shows us that we need to reduce the number of variables and consider the multicollinearity problem in order to evaluate our hypothesis correctly.</p>
</section>
</section>
<section id="check-for-multicollinearity" class="level2">
<h2 class="anchored" data-anchor-id="check-for-multicollinearity">Check for multicollinearity</h2>
<p>Inspect the correlation by using colormap:</p>
<div class="cell" data-execution_count="143">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect correlation</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate correlation using the default method ( "pearson")</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>corr <span class="op">=</span> df.corr()</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># optimize aesthetics: generate mask for removing duplicate / unnecessary info</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>mask <span class="op">=</span> np.zeros_like(corr, dtype<span class="op">=</span><span class="bu">bool</span>)</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>mask[np.triu_indices_from(mask)] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a custom diverging colormap as indicator for correlations:</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>cmap <span class="op">=</span> sns.diverging_palette(<span class="dv">220</span>, <span class="dv">10</span>, as_cmap<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>sns.heatmap(corr, mask<span class="op">=</span>mask, cmap<span class="op">=</span>cmap, annot<span class="op">=</span><span class="va">True</span>,  square<span class="op">=</span><span class="va">True</span>, annot_kws<span class="op">=</span>{<span class="st">"size"</span>: <span class="dv">12</span>})<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\ji_so\AppData\Local\Temp\ipykernel_33672\1835051848.py:3: FutureWarning: The default value of numeric_only in DataFrame.corr is deprecated. In a future version, it will default to False. Select only valid columns or specify the value of numeric_only to silence this warning.
  corr = df.corr()</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-59-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>As we work with observational data, we expected a correlation among the predictor variables. The matrix shows numerous high values, especially for productivity and GDP per capita or Productivity and Current health expenditure per capita. Hence we have a collinearity problem which could cause a reduction on the precision of our estimated coefficients. It is questionable if we can identify independent variables that are significant as we cannot trust the p-value of our regression model.</p>
<section id="variance-inflation-factor-vif" class="level3">
<h3 class="anchored" data-anchor-id="variance-inflation-factor-vif">Variance inflation factor (VIF)</h3>
<ul>
<li>The smallest possible value for VIF is 1, which indicates the complete absence of collinearity.</li>
<li>VIF value that exceeds 5 indicates a problematic amount of collinearity and the parameter estimates will have large standard errors because of this.</li>
</ul>
<div class="cell" data-execution_count="144">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># choose features and add constant</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>features <span class="op">=</span> add_constant(df[[<span class="st">'Average_annual_working_hours_per_worker'</span>, <span class="st">'GDP_per_capita'</span>, <span class="st">'Population'</span>,<span class="st">'Gini_coefficient'</span>,<span class="st">'Life_satisfaction'</span>,<span class="st">'Current_health_expenditure_per_capita'</span>]])</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create empty DataFrame</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>vif <span class="op">=</span> pd.DataFrame()</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate vif</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>vif[<span class="st">"VIF Factor"</span>] <span class="op">=</span> [variance_inflation_factor(features.values, i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(features.shape[<span class="dv">1</span>])]</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="co"># add feature names</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>vif[<span class="st">"Feature"</span>] <span class="op">=</span> features.columns</span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>vif.<span class="bu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="144">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>VIF Factor</th>
      <th>Feature</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>295.25</td>
      <td>const</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.03</td>
      <td>Average_annual_working_hours_per_worker</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.57</td>
      <td>GDP_per_capita</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.35</td>
      <td>Population</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.19</td>
      <td>Gini_coefficient</td>
    </tr>
    <tr>
      <th>5</th>
      <td>3.25</td>
      <td>Life_satisfaction</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6.28</td>
      <td>Current_health_expenditure_per_capita</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>We have some problematic amount of collinearity in our data. - Current health expenditure per capita - GDP per capita</p>
</section>
</section>
<section id="lasso-regression-model" class="level2">
<h2 class="anchored" data-anchor-id="lasso-regression-model"><strong>Lasso regression model</strong></h2>
<p>Lasso regression is based on the linear regression model, but additionally performs what is known as regularization, where additional information is introduced to prevent overfitting. As a result, we can fit a model containing all possible predictors and use lasso to perform variable selection using a technique that regularizes the coefficient estimates (it shrinks the coefficient estimates to zero). In particular, the minimization objective includes not only the residual sum of squares (RSS) - as in the OLS regression setting - but also the sum of the absolute values of coefficients.</p>
<section id="create-labels-and-features" class="level3">
<h3 class="anchored" data-anchor-id="create-labels-and-features">Create labels and features</h3>
<p>Since we will use the lasso algorithm from scikit learn, we need to encode our categorical features as numeric features (dummy variables):</p>
<div class="cell" data-execution_count="145">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>dummies <span class="op">=</span> pd.get_dummies(df[[<span class="st">'Continent'</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We create our label y:</p>
<div class="cell" data-execution_count="146">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>y_LR <span class="op">=</span> df[<span class="st">'Productivity'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We drop the column with the outcome variable (Productivity), and categorical columns for which we already created dummy variables:</p>
<div class="cell" data-execution_count="147">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>X_numerical <span class="op">=</span> df.drop([<span class="st">'Productivity'</span>, <span class="st">'Continent'</span>, <span class="st">'Country'</span>, <span class="st">'Code'</span>, <span class="st">'Year'</span>], axis<span class="op">=</span><span class="dv">1</span>).astype(<span class="st">'float64'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Make a list of all numerical features (we need them later):</p>
<div class="cell" data-execution_count="148">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a list of all numerical features (we need them later):</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>list_numerical <span class="op">=</span> X_numerical.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Create all features:</p>
<div class="cell" data-execution_count="149">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>X_LR <span class="op">=</span> pd.concat([X_numerical, dummies[[<span class="st">'Continent_Americas'</span>, <span class="st">'Continent_Oceania'</span>, <span class="st">'Continent_Europe'</span>, <span class="st">'Continent_Asia'</span>, <span class="st">'Continent_Africa'</span>]]], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="split-data" class="level3">
<h3 class="anchored" data-anchor-id="split-data">Split data</h3>
<p>Split the data set into train and test set with the first 70% of the data for training and the remaining 30% for testing:</p>
<div class="cell" data-execution_count="150">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>X_train_LR, X_test_LR, y_train_LR, y_test_LR <span class="op">=</span> train_test_split(X_LR, y_LR, test_size<span class="op">=</span><span class="fl">0.3</span>, random_state<span class="op">=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="standardization" class="level3">
<h3 class="anchored" data-anchor-id="standardization">Standardization</h3>
<p>To avoid data leaks, the standardization of numerical features should always be done after data splitting and only from training data. In addition, we obtain all necessary statistics for our features (mean and standard deviation) from training data and use them for test data as well. Note that we do not standardize our dummy variables (which only have values of 0 or 1).</p>
<div class="cell" data-execution_count="151">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler().fit(X_train_LR[list_numerical]) </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>X_train_LR[list_numerical] <span class="op">=</span> scaler.transform(X_train_LR[list_numerical])</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>X_test_LR[list_numerical] <span class="op">=</span> scaler.transform(X_test_LR[list_numerical])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="152">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>X_train_LR.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="152">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Average_annual_working_hours_per_worker</th>
      <th>GDP_per_capita</th>
      <th>Population</th>
      <th>Gini_coefficient</th>
      <th>Life_satisfaction</th>
      <th>Current_health_expenditure_per_capita</th>
      <th>Continent_Americas</th>
      <th>Continent_Oceania</th>
      <th>Continent_Europe</th>
      <th>Continent_Asia</th>
      <th>Continent_Africa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>53</th>
      <td>1.584451</td>
      <td>-1.158539</td>
      <td>-0.115808</td>
      <td>-0.146033</td>
      <td>-1.551031</td>
      <td>-0.856020</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1.427445</td>
      <td>-1.095647</td>
      <td>6.335670</td>
      <td>0.712560</td>
      <td>-1.416942</td>
      <td>-1.044839</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>46</th>
      <td>0.768288</td>
      <td>-0.241857</td>
      <td>-0.202113</td>
      <td>-0.795642</td>
      <td>-0.069422</td>
      <td>-0.449489</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>44</th>
      <td>0.334271</td>
      <td>-1.202281</td>
      <td>-0.235129</td>
      <td>1.437013</td>
      <td>-0.367298</td>
      <td>-1.083565</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>35</th>
      <td>1.716329</td>
      <td>-0.516570</td>
      <td>-0.233364</td>
      <td>-0.146033</td>
      <td>-1.068599</td>
      <td>-0.912597</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="lasso-regression" class="level3">
<h3 class="anchored" data-anchor-id="lasso-regression">Lasso regression</h3>
<p>First, we apply lasso regression on the training set with an arbitrarily regularization parameter <strong>alpha</strong> of 1</p>
<div class="cell" data-execution_count="153">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>reg_LR <span class="op">=</span> Lasso(alpha<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>reg_LR.fit(X_train_LR, y_train_LR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="153">
<style>#sk-container-id-8 {color: black;background-color: white;}#sk-container-id-8 pre{padding: 0;}#sk-container-id-8 div.sk-toggleable {background-color: white;}#sk-container-id-8 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-8 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-8 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-8 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-8 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-8 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-8 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-8 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-8 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-8 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-8 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-8 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-8 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-8 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-8 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-8 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-8 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-8 div.sk-item {position: relative;z-index: 1;}#sk-container-id-8 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-8 div.sk-item::before, #sk-container-id-8 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-8 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-8 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-8 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-8 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-8 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-8 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-8 div.sk-label-container {text-align: center;}#sk-container-id-8 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-8 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-8" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>Lasso(alpha=1)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-8" type="checkbox" checked=""><label for="sk-estimator-id-8" class="sk-toggleable__label sk-toggleable__label-arrow">Lasso</label><div class="sk-toggleable__content"><pre>Lasso(alpha=1)</pre></div></div></div></div></div>
</div>
</div>
</section>
<section id="model-evaluation" class="level3">
<h3 class="anchored" data-anchor-id="model-evaluation">Model evaluation</h3>
<p>We print the R-squared score for the training and test set.</p>
<div class="cell" data-execution_count="154">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'R squared training set'</span>, <span class="bu">round</span>(reg_LR.score(X_train_LR, y_train_LR)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>))</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'R squared test set'</span>, <span class="bu">round</span>(reg_LR.score(X_test_LR, y_test_LR)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>R squared training set 93.49
R squared test set 89.52</code></pre>
</div>
</div>
<p>MSE for the training and test set</p>
<div class="cell" data-execution_count="155">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Training data</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>pred_train_LR <span class="op">=</span> reg_LR.predict(X_train_LR)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>mse_train_LR <span class="op">=</span> mean_squared_error(y_train_LR, pred_train_LR)</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'MSE training set'</span>, <span class="bu">round</span>(mse_train_LR, <span class="dv">2</span>))</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Test data</span></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>pred_LR <span class="op">=</span> reg_LR.predict(X_test_LR)</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>mse_test_LR <span class="op">=</span>mean_squared_error(y_test_LR, pred_LR)</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'MSE test set'</span>, <span class="bu">round</span>(mse_test_LR, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>MSE training set 32.97
MSE test set 68.77</code></pre>
</div>
</div>
</section>
<section id="role-of-alpha" class="level3">
<h3 class="anchored" data-anchor-id="role-of-alpha">Role of alpha</h3>
<p>To better understand the role of alpha, we plot the lasso coefficients as a function of alpha (max_iter are the maximum number of iterations):</p>
<div class="cell" data-execution_count="156">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>alphas <span class="op">=</span> np.linspace(<span class="fl">0.01</span>,<span class="dv">500</span>,<span class="dv">100</span>)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>lasso <span class="op">=</span> Lasso(max_iter<span class="op">=</span><span class="dv">10000</span>)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>coefs <span class="op">=</span> []</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> a <span class="kw">in</span> alphas:</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>    lasso.set_params(alpha<span class="op">=</span>a)</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>    lasso.fit(X_train, y_train)</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>    coefs.append(lasso.coef_)</span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.gca()</span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>ax.plot(alphas, coefs)</span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>ax.set_xscale(<span class="st">'log'</span>)</span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>plt.axis(<span class="st">'tight'</span>)</span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'alpha'</span>)</span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Standardized Coefficients'</span>)</span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Lasso coefficients as a function of alpha'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="report_files/figure-html/cell-72-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Moving from left to right in our plot, we notice that the lasso models initially contain many predictors with high magnitudes of coefficient estimates. As the alpha increases, the coefficient estimates approach zero.</p>
</section>
<section id="lasso-with-optimal-alpha" class="level3">
<h3 class="anchored" data-anchor-id="lasso-with-optimal-alpha">Lasso with optimal alpha</h3>
<p>To find the optimal value of alpha, we use scikit learns lasso linear model with iterative fitting along a regularization path (LassoCV). The best model is selected by cross-validation.</p>
</section>
<section id="k-fold-cross-validation" class="level3">
<h3 class="anchored" data-anchor-id="k-fold-cross-validation">K-fold cross validation</h3>
<div class="cell" data-execution_count="157">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LassoCV</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Lasso with 5 fold cross-validation</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>model_LR <span class="op">=</span> LassoCV(cv<span class="op">=</span><span class="dv">5</span>, random_state<span class="op">=</span><span class="dv">0</span>, max_iter<span class="op">=</span><span class="dv">10000</span>)</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit model</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>model_LR.fit(X_train_LR, y_train_LR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="157">
<style>#sk-container-id-9 {color: black;background-color: white;}#sk-container-id-9 pre{padding: 0;}#sk-container-id-9 div.sk-toggleable {background-color: white;}#sk-container-id-9 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-9 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-9 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-9 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-9 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-9 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-9 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-9 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-9 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-9 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-9 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-9 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-9 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-9 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-9 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-9 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-9 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-9 div.sk-item {position: relative;z-index: 1;}#sk-container-id-9 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-9 div.sk-item::before, #sk-container-id-9 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-9 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-9 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-9 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-9 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-9 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-9 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-9 div.sk-label-container {text-align: center;}#sk-container-id-9 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-9 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-9" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>LassoCV(cv=5, max_iter=10000, random_state=0)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-9" type="checkbox" checked=""><label for="sk-estimator-id-9" class="sk-toggleable__label sk-toggleable__label-arrow">LassoCV</label><div class="sk-toggleable__content"><pre>LassoCV(cv=5, max_iter=10000, random_state=0)</pre></div></div></div></div></div>
</div>
</div>
<p>Show best value of penalization chosen by cross validation:</p>
<div class="cell" data-execution_count="158">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>model_LR.alpha_</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="158">
<pre><code>0.05302299651985887</code></pre>
</div>
</div>
</section>
<section id="best-model" class="level3">
<h3 class="anchored" data-anchor-id="best-model">Best model</h3>
<p>Use best value for our final model:</p>
<div class="cell" data-execution_count="159">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set best alpha</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>lasso_best <span class="op">=</span> Lasso(alpha<span class="op">=</span>model_LR.alpha_)</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>lasso_best.fit(X_train_LR, y_train_LR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="159">
<style>#sk-container-id-10 {color: black;background-color: white;}#sk-container-id-10 pre{padding: 0;}#sk-container-id-10 div.sk-toggleable {background-color: white;}#sk-container-id-10 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-10 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-10 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-10 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-10 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-10 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-10 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-10 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-10 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-10 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-10 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-10 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-10 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-10 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-10 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-10 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-10 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-10 div.sk-item {position: relative;z-index: 1;}#sk-container-id-10 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-10 div.sk-item::before, #sk-container-id-10 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-10 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-10 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-10 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-10 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-10 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-10 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-10 div.sk-label-container {text-align: center;}#sk-container-id-10 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-10 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-10" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>Lasso(alpha=0.05302299651985887)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-10" type="checkbox" checked=""><label for="sk-estimator-id-10" class="sk-toggleable__label sk-toggleable__label-arrow">Lasso</label><div class="sk-toggleable__content"><pre>Lasso(alpha=0.05302299651985887)</pre></div></div></div></div></div>
</div>
</div>
<p>Show model coefficients and names:</p>
<div class="cell" data-execution_count="160">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(<span class="bu">zip</span>(lasso_best.coef_, X_LR)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[(-5.1707983351093425, 'Average_annual_working_hours_per_worker'), (20.404293391789217, 'GDP_per_capita'), (-0.015056279851140886, 'Population'), (-0.06024924401874356, 'Gini_coefficient'), (-2.0974041686009084, 'Life_satisfaction'), (-0.287226526281524, 'Current_health_expenditure_per_capita'), (0.0, 'Continent_Americas'), (-2.7300299924454716, 'Continent_Oceania'), (0.0, 'Continent_Europe'), (-1.4666440133963161, 'Continent_Asia'), (11.800962509499083, 'Continent_Africa')]</code></pre>
</div>
</div>
</section>
<section id="model-evaluation-1" class="level3">
<h3 class="anchored" data-anchor-id="model-evaluation-1">Model evaluation</h3>
<p>R² for lasso regression model:</p>
<div class="cell" data-execution_count="161">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'R squared training set'</span>, <span class="bu">round</span>(lasso_best.score(X_train_LR, y_train_LR)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>))</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'R squared test set'</span>, <span class="bu">round</span>(lasso_best.score(X_test_LR, y_test_LR)<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>R squared training set 96.08
R squared test set 83.27</code></pre>
</div>
</div>
<p>MSE for lasso regression model:</p>
<div class="cell" data-execution_count="162">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>mean_squared_error(y_test_LR, lasso_best.predict(X_test_LR))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="162">
<pre><code>109.71381501276998</code></pre>
</div>
</div>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<p>Result of our <strong>first research question</strong> - Result table of simple linear regression:</p>
<div class="cell" data-execution_count="163">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>results_RQ1 <span class="op">=</span> pd.DataFrame({<span class="st">''</span>: [<span class="st">'Intercept'</span>,<span class="st">'Coefficient'</span>],</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Simple Linear Regression'</span>: [reg_H1.intercept_, reg_H1.coef_.<span class="bu">round</span>(<span class="dv">5</span>)]})</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>results_RQ1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="163">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th>Simple Linear Regression</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Intercept</td>
      <td>163.016654</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Coefficient</td>
      <td>[-0.06613]</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="164">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>results_RQ1_1 <span class="op">=</span> pd.DataFrame({<span class="st">''</span>: [<span class="st">'R²'</span>,<span class="st">'Adjusted R²'</span>,<span class="st">'MSE'</span>,<span class="st">'RMSE'</span>,<span class="st">'MAE'</span>],</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Simple Linear Regression'</span>: [(r2_score(y_test_H1, y_pred_H1).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>                        ((<span class="dv">1</span><span class="op">-</span>(<span class="dv">1</span><span class="op">-</span>r2_score(y_test_H1, y_pred_H1))<span class="op">*</span>((<span class="bu">len</span>(X_test_H1)<span class="op">-</span><span class="dv">1</span>)<span class="op">/</span>(<span class="bu">len</span>(X_test_H1)<span class="op">-</span><span class="bu">len</span>(X_test_H1.columns)<span class="op">-</span><span class="dv">1</span>))).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y_test_H1, y_pred_H1).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y_test_H1, y_pred_H1, squared<span class="op">=</span><span class="va">False</span>).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>                        (mean_absolute_error(y_test_H1, y_pred_H1).<span class="bu">round</span>(<span class="dv">5</span>))]})</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>results_RQ1_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="164">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th>Simple Linear Regression</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>R²</td>
      <td>0.51931</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adjusted R²</td>
      <td>0.47926</td>
    </tr>
    <tr>
      <th>2</th>
      <td>MSE</td>
      <td>195.77492</td>
    </tr>
    <tr>
      <th>3</th>
      <td>RMSE</td>
      <td>13.99196</td>
    </tr>
    <tr>
      <th>4</th>
      <td>MAE</td>
      <td>11.17991</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>As we mentioned during the analysis above, the p-value is statistically significant. It shows strong evidence against the null hypothesis as the probability is less than 5%. We can therefore reject our null hypothesis and accept the following hypothesis: - There is a correlation between working hours and labor productivity.</p>
<ul>
<li><p>However, from this result we can also see that there is strong multicollinearity or other numerical problems in this model. In the case of multicollinearity, this reduces the accuracy of the estimated coefficients, which weakens the statistical power of your regression model. Therefore we might not be able to trust the p-values to identify independent variables that are statistically significant.</p></li>
<li><p>Also, we see a small R² of our model, which means that the quality of the model is low.</p></li>
</ul>
<p>Result of our <strong>second research question</strong> - Result table of multiple linear regression and lasso regression:</p>
<div class="cell" data-execution_count="165">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>results_RQ2_1 <span class="op">=</span> pd.DataFrame({<span class="st">''</span>: [<span class="st">'R²'</span>,<span class="st">'Adjusted R²'</span>,<span class="st">'MSE'</span>,<span class="st">'RMSE'</span>,<span class="st">'MAE'</span>],</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Multiple Linear Regression'</span>: [(r2_score(y_test, y_pred_test).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>                        ((<span class="dv">1</span><span class="op">-</span>(<span class="dv">1</span><span class="op">-</span>r2_score(y_test, y_pred_test))<span class="op">*</span>((<span class="bu">len</span>(X_test)<span class="op">-</span><span class="dv">1</span>)<span class="op">/</span>(<span class="bu">len</span>(X_test)<span class="op">-</span><span class="bu">len</span>(X_test.columns)<span class="op">-</span><span class="dv">1</span>))).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y_test, y_pred_test).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y_test, y_pred_test, squared<span class="op">=</span><span class="va">False</span>).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>                        (mean_absolute_error(y_test, y_pred_test).<span class="bu">round</span>(<span class="dv">5</span>))], </span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'Lasso Regression'</span>: [(r2_score(y_test_LR, lasso_best.predict(X_test_LR)).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>                        ((<span class="dv">1</span><span class="op">-</span>(<span class="dv">1</span><span class="op">-</span>r2_score(y_test_LR, lasso_best.predict(X_test_LR)))<span class="op">*</span>((<span class="bu">len</span>(X_test_LR)<span class="op">-</span><span class="dv">1</span>)<span class="op">/</span>(<span class="bu">len</span>(X_test_LR)<span class="op">-</span><span class="bu">len</span>(X_test_LR.columns)<span class="op">-</span><span class="dv">1</span>))).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y_test_LR, lasso_best.predict(X_test_LR)).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a>                        (mean_squared_error(y_test_LR, lasso_best.predict(X_test_LR), squared<span class="op">=</span><span class="va">False</span>).<span class="bu">round</span>(<span class="dv">5</span>)),</span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a>                        (mean_absolute_error(y_test_LR, lasso_best.predict(X_test_LR)).<span class="bu">round</span>(<span class="dv">5</span>))]})</span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a>results_RQ2_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="165">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th>Multiple Linear Regression</th>
      <th>Lasso Regression</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>R²</td>
      <td>0.89788</td>
      <td>0.83274</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adjusted R²</td>
      <td>0.81035</td>
      <td>0.60276</td>
    </tr>
    <tr>
      <th>2</th>
      <td>MSE</td>
      <td>41.59040</td>
      <td>109.71382</td>
    </tr>
    <tr>
      <th>3</th>
      <td>RMSE</td>
      <td>6.44906</td>
      <td>10.47444</td>
    </tr>
    <tr>
      <th>4</th>
      <td>MAE</td>
      <td>4.16722</td>
      <td>6.65880</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>By comparing the statistics of those models, it can be seen that the lasso regression model has a lower model quality than the multiple regression model. - R² of the lasso regression model is smaller than that of the multiple regression model. - Adjusted R² of the lasso regression model is also smaller then that of the multiple regression model. - The mean squared error, root mean squared error and mean absolute error of lasso regression model are also higher than that of the multiple regression model.</p>
<p>Hence, this indicates that the multiple linear regression model is preferable to the lasso regression model.</p>
</section>
<section id="discussion-conclusion" class="level2">
<h2 class="anchored" data-anchor-id="discussion-conclusion">Discussion + Conclusion</h2>
<p>In this analysis, we used various models to test the two hypotheses mentioned in the introduction. By using models such as simple regression analysis, multiple regression analysis, and Lasso regression, we could observe the problems regarding to number of explanatory variables as well as multicollinearity between those variables, which could cause a reduction on the precision of our estimated coefficients. For future analyses, we should reduce the number of the predictors are choose alternative predictor variables in order to correctly evaluate our hypothesis.</p>
<p>Despite these problems, we were able to explain two things about our hypothese: - Labor productivity decreases with increasing average annual working hours, but the negative relationship is not as strong as expected. - While we can say that a country’s life satisfaction is strongly correlated with labor productivity growth, we cannot say that it is the most relevant factor. This is because, contrary to expectations, the Gini coefficient has a large correlation with labor productivity.</p>
<p><em>What happens in real world?</em> Our models are just an example statistic that does not 100 % reflect the real world. The real world is more complicated than we think and there are different variables, so we have to keep in mind that there are unexpected variables that can affect our response variable. Therefore, we must be careful with this interpretation. Although there are real associations, these data are observational data and cannot accurately interpret the causal relationship between variables in real world.</p>
<section id="open-topics" class="level3">
<h3 class="anchored" data-anchor-id="open-topics">open topics</h3>
<ul>
<li><p>We feel that the quantity of observations will not suffice (at least 500 Obsevations required) to train the model properly -&gt; conclusion (Ji Soo)</p></li>
<li><p>Add the null hypothesises for your questions? (Ji Soo) - Null hypothesis for first research question was added <em>done</em></p></li>
<li><p>Reflect on how good models are performing and give possible solutions (Ji Soo)</p></li>
<li><p>Be carefull when using productivity, explain why the GDP matters as a productivty indicator to be set in relation with hours. (Alex)</p></li>
<li><p>Code Notiz als Markdown (Alex)</p></li>
<li><p>Quellangabe (alex)</p></li>
<li><p>Results in conclusion (Ji Soo) <em>done</em></p></li>
</ul>
</section>
<section id="look" class="level3">
<h3 class="anchored" data-anchor-id="look">look</h3>
<p>Informative title and axis labels</p>
<p>Flipped coordinates to make names readable</p>
<p>Arranged bars based on count</p>
<p>Capitalized names</p>
<p>Optional: Added color - Use a coordinated color scheme throughout paper / presentation</p>
<p>Optional: Applied a theme - Use same theme throughout paper / presentation</p>
</section>
</section>
</section>
<section id="sources" class="level1">
<h1>Sources</h1>
<p>Research Question: - OECD (2022), Labour productivity and utilisation (indicator). doi: 10.1787/02c02f63-en (Accessed on 11 December 2022) https://www.oecd-ilibrary.org/sites/3d9f648d-en/index.html?itemId=/content/component/3d9f648d-en - Pencavel, J. (2016), Recovery from Work and the Productivity of Working Hours. Economica, 83: 545-563. https://doi.org/10.1111/ecca.12206 - Messenger, J. “Working time and the future of work.” ILO future of work research paper series 6.8 (2018): 33-37. http://www.ilo.int/wcmsp5/groups/public/—dgreports/—cabinet/documents/publication/wcms_649907.pdf</p>
<p>Explorative data analysis: - Shelke, Mayuri S., Prashant R. Deshmukh, and Vijaya K. Shandilya. “A review on imbalanced data handling using undersampling and oversampling technique.” Int. J. Recent Trends Eng. Res 3.4 (2017): 444-449.</p>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<section id="source-description" class="level3">
<h3 class="anchored" data-anchor-id="source-description">Source description</h3>
<p>The original source of this data is the website https://ourworldindata.org/ which does specific analysis based on data gathered from various books and sources. The website has made it possible to observe each important indicator through various data visualizations based on different countries and on time scales. All data required for the purpose of our research was obtained from four main analyzes of original sources, all data provided in these analyzes are data from various published books and scholarly sources. - Four main analzyes of original website: - Working hours - Income Inequality - Life Expectancy - Happiness and Life Satisfaction Since we collected the necessary data after selecting the research topic first, we searched for analysis data with indicators suitable for the research purpose.</p>
<p>At each of the links below, we collected various csv files for research purposes, and further integrated and organized the data for analysis through scripting in <strong>MySQL</strong>.</p>
<ul>
<li><p>Annual working hours per worker (https://ourworldindata.org/grapher/annual-working-hours-per-worker): The measure is labeled “Average annual hours worked by persons engaged” (PWT label) and “Average annual hours worked per worker” (TED label). It refers to actual hours worked and is calculated as total annual hours worked divided by persons employed. Annual hours are based on estimates of weekly working hours and weeks worked. The original sources are National Accounts data when available; when unavailable, other databases (e.g., the Asian Productivity Organization’s Asian Productivity Database) and academic publications are used.</p></li>
<li><p>Annual working hours vs.&nbsp;GDP per capita (https://ourworldindata.org/grapher/annual-working-hours-vs-gdp-per-capita-pwt?time=2019..latest): GDP per capita was extracted from Penn World Table (PWT), a standard source on real GDP across countries. Making use of prices collected across countries in benchmark years by the International Comparisons Program, and using these prices to construct purchasing-power-parity exchange rates, PWT converts GDP at national prices to a common currency – U.S. dollars – making them comparable across countries.</p></li>
<li><p>Productivity (https://ourworldindata.org/grapher/labor-productivity-per-hour-pennworldtable?country=AUS<sub>BEL</sub>BRA<sub>KHM</sub>CHL<sub>CHN</sub>DEU<sub>IND</sub>ZAF<sub>KOR</sub>TWN<sub>GBR</sub>USA~CHE): Productivity is measured as GDP per hour of work. Again PWT was used as a source.</p></li>
<li><p>Life expectancy vs.&nbsp;healthcare expenditure (https://ourworldindata.org/grapher/life-expectancy-vs-healthcare-expenditure): The health expenditure estimates have been prepared by the World Health Organization (WHO) under the framework of the System of Health Accounts 2011 (SHA 2011). The Health SHA 2011 tracks all health spending in a given country over a defined period of time regardless of the entity or institution that financed and managed that spending. It generates consistent and comprehensive data on health spending in a country, which in turn can contribute to evidence-based policy-making.</p></li>
<li><p>Income inequality: Gini coefficient (https://ourworldindata.org/grapher/economic-inequality-gini-index): This data explorer is collated and adapted from the World Bank’s Poverty and Inequality Platform (PIP). The World Bank’s PIP data is a large collection of household surveys where steps have been taken by the World Bank to harmonize definitions and methods across countries and over time.</p></li>
<li><p>Self-reported life satisfaction (https://ourworldindata.org/grapher/happiness-cantril-ladder): The data is puplished by the World Happiness Report. Life evaluation was measured by the individual answers to the Cantril ladder question: “Please imagine a ladder, with steps numbered from 0 at the bottom to 10 at the top. The top of the ladder represents the best possible life for you and the bottom of the ladder represents the worst possible life for you. On which step of the ladder would you say you personally feel you stand at this time?” The value shown in a given year is the average of that year and the previous and following year. For example, the value given for 2020 is an average of the values for 2019-2021.</p></li>
</ul>
</section>
<section id="data-dictionary" class="level3">
<h3 class="anchored" data-anchor-id="data-dictionary">Data dictionary</h3>
<div class="cell" data-execution_count="166">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>data_dictionary <span class="op">=</span> {<span class="st">'Name'</span>: <span class="bu">list</span>(df.columns.values),</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Description'</span>: [<span class="st">'Continent name'</span>,<span class="st">'Country name'</span>,<span class="st">'Country codes by alpha-3'</span>,<span class="st">'Year: Only 2017 data was considered in this analysis to satisfy the independence condition'</span>,<span class="st">'Working hours are the annual average per worker.'</span>,<span class="st">'The GDP per capita by country in 2017 is listed.'</span>,<span class="st">'The number of population by country in 2017 is listed.'</span>,<span class="st">'The 2017 Gini coefficient for each country is listed, so the level of income inequality can be determined.'</span>,<span class="st">'The level of life satisfaction for each country has been measured by survey: “Please imagine a ladder, with steps numbered from 0 at the bottom to 10 at the top. The top of the ladder represents the best possible life for you and the bottom of the ladder represents the worst possible life for you. On which step of the ladder would you say you personally feel you stand at this time?”'</span>,<span class="st">'Productivity is measured as gross domestic product (GDP) per hour of work. This data is adjusted for inflation and for differences in the cost of living between countries.'</span>,<span class="st">'Healthcare expenditure per capita is measured in current international-$, which adjusts for price differences between countries.'</span>],</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Role'</span>: [<span class="st">'ID'</span>,<span class="st">'ID'</span>,<span class="st">'ID'</span>,<span class="st">'ID'</span>,<span class="st">'Predictor'</span>,<span class="st">'Predictor'</span>,<span class="st">'Predictor'</span>,<span class="st">'Predictor'</span>,<span class="st">'Predictor'</span>,<span class="st">'Response'</span>,<span class="st">'Predictor'</span>],</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Type'</span>: [<span class="st">'nominal'</span>,<span class="st">'nominal'</span>,<span class="st">'nominal'</span>,<span class="st">'numeric'</span>,<span class="st">'numeric'</span>,<span class="st">'numeric'</span>,<span class="st">'numeric'</span>,<span class="st">'numeric'</span>,<span class="st">'numeric'</span>,<span class="st">'numeric'</span>,<span class="st">'numeric'</span>],</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Format'</span>: <span class="bu">list</span>(df.dtypes)}</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>df_dictionary <span class="op">=</span> pd.DataFrame(data_dictionary)</span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>df_dictionary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="166">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Name</th>
      <th>Description</th>
      <th>Role</th>
      <th>Type</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Continent</td>
      <td>Continent name</td>
      <td>ID</td>
      <td>nominal</td>
      <td>category</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Country</td>
      <td>Country name</td>
      <td>ID</td>
      <td>nominal</td>
      <td>object</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Code</td>
      <td>Country codes by alpha-3</td>
      <td>ID</td>
      <td>nominal</td>
      <td>object</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Year</td>
      <td>Year: Only 2017 data was considered in this an...</td>
      <td>ID</td>
      <td>numeric</td>
      <td>int64</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Average_annual_working_hours_per_worker</td>
      <td>Working hours are the annual average per worker.</td>
      <td>Predictor</td>
      <td>numeric</td>
      <td>float64</td>
    </tr>
    <tr>
      <th>5</th>
      <td>GDP_per_capita</td>
      <td>The GDP per capita by country in 2017 is listed.</td>
      <td>Predictor</td>
      <td>numeric</td>
      <td>float64</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Population</td>
      <td>The number of population by country in 2017 is...</td>
      <td>Predictor</td>
      <td>numeric</td>
      <td>int64</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Gini_coefficient</td>
      <td>The 2017 Gini coefficient for each country is ...</td>
      <td>Predictor</td>
      <td>numeric</td>
      <td>float64</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Life_satisfaction</td>
      <td>The level of life satisfaction for each countr...</td>
      <td>Predictor</td>
      <td>numeric</td>
      <td>float64</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Productivity</td>
      <td>Productivity is measured as gross domestic pro...</td>
      <td>Response</td>
      <td>numeric</td>
      <td>float64</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Current_health_expenditure_per_capita</td>
      <td>Healthcare expenditure per capita is measured ...</td>
      <td>Predictor</td>
      <td>numeric</td>
      <td>float64</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Introduction - Motivation - Research Question / Hypothesis - Data description - EDA Methodology / Results - SLR - MLR - Lasso Conclusion</p>
<ul>
<li>what comes first: data correction or data explaration?</li>
</ul>
</section>
<section id="chart-1-gini-coefficient---distribution-plot-and-boxplot" class="level3">
<h3 class="anchored" data-anchor-id="chart-1-gini-coefficient---distribution-plot-and-boxplot">Chart 1: Gini coefficient - distribution plot and boxplot</h3>
<div class="cell" data-execution_count="168">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># By using distribution plot we can decide which technique we will use for dealing with missing values.</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable = Gini coefficient</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram</span></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>hist <span class="op">=</span> alt.Chart(df).mark_bar().encode(</span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"Gini_coefficient"</span>, </span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>            <span class="bu">bin</span><span class="op">=</span>alt.BinParams(maxbins<span class="op">=</span><span class="dv">20</span>), </span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a>            scale<span class="op">=</span>alt.Scale(zero<span class="op">=</span><span class="va">True</span>)),</span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'count()'</span>,</span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot </span></span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a>box <span class="op">=</span> alt.Chart(df).mark_boxplot().encode(</span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'Gini_coefficient'</span>,</span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb109-16"><a href="#cb109-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-17"><a href="#cb109-17" aria-hidden="true" tabindex="-1"></a>alt.vconcat(hist, box)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="168">

<div id="altair-viz-a64bee9c7d3849b0a7da6c0b89d8fbd1"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-a64bee9c7d3849b0a7da6c0b89d8fbd1") {
      outputDiv = document.getElementById("altair-viz-a64bee9c7d3849b0a7da6c0b89d8fbd1");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"mark": "bar", "encoding": {"x": {"bin": {"maxbins": 20}, "field": "Gini_coefficient", "scale": {"zero": true}, "type": "quantitative"}, "y": {"aggregate": "count", "type": "quantitative"}}}, {"mark": "boxplot", "encoding": {"x": {"field": "Gini_coefficient", "type": "quantitative"}}}], "data": {"name": "data-c3297d6357a70fd006d032d7ddce8fe8"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-c3297d6357a70fd006d032d7ddce8fe8": [{"Continent": "Americas", "Country": "Argentina", "Code": "ARG", "Year": 2017, "Average_annual_working_hours_per_worker": 1691.5363, "GDP_per_capita": 23272.18, "Population": 44054616, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 6.085560799, "Productivity": 30.95546039, "Current_health_expenditure_per_capita": 2470.11}, {"Continent": "Oceania", "Country": "Australia", "Code": "AUS", "Year": 2017, "Average_annual_working_hours_per_worker": 1731.4943, "GDP_per_capita": 52536.19, "Population": 24590336, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 7.233994961, "Productivity": 60.3416786, "Current_health_expenditure_per_capita": 4715.83}, {"Continent": "Europe", "Country": "Austria", "Code": "AUT", "Year": 2017, "Average_annual_working_hours_per_worker": 1613.0519, "GDP_per_capita": 51954.28, "Population": 8797497, "Gini_coefficient": 0.29737585, "Life_satisfaction": 7.195361137, "Productivity": 64.7801697, "Current_health_expenditure_per_capita": 5641.18}, {"Continent": "Asia", "Country": "Bangladesh", "Code": "BGD", "Year": 2017, "Average_annual_working_hours_per_worker": 2232.3542, "GDP_per_capita": 4112.7, "Population": 161793968, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 5.114216805, "Productivity": 4.307636988, "Current_health_expenditure_per_capita": 101.18}, {"Continent": "Europe", "Country": "Belgium", "Code": "BEL", "Year": 2017, "Average_annual_working_hours_per_worker": 1544.269, "GDP_per_capita": 45150.2, "Population": 11384491, "Gini_coefficient": 0.273879678, "Life_satisfaction": 6.772138119, "Productivity": 68.51652068, "Current_health_expenditure_per_capita": 5450.48}, {"Continent": "Americas", "Country": "Brazil", "Code": "BRA", "Year": 2017, "Average_annual_working_hours_per_worker": 1709.4856, "GDP_per_capita": 14284.61, "Population": 208504960, "Gini_coefficient": 0.5333405, "Life_satisfaction": 6.451148987, "Productivity": 19.18829359, "Current_health_expenditure_per_capita": 1375.66}, {"Continent": "Europe", "Country": "Bulgaria", "Code": "BGR", "Year": 2017, "Average_annual_working_hours_per_worker": 1643.5475, "GDP_per_capita": 19579.83, "Population": 7182430, "Gini_coefficient": 0.403790468, "Life_satisfaction": 5.108438015, "Productivity": 25.39212178, "Current_health_expenditure_per_capita": 1607.71}, {"Continent": "Asia", "Country": "Cambodia", "Code": "KHM", "Year": 2017, "Average_annual_working_hours_per_worker": 2455.5508, "GDP_per_capita": 3950.93, "Population": 15830694, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 4.998284817, "Productivity": 3.022649989, "Current_health_expenditure_per_capita": 224.81}, {"Continent": "Americas", "Country": "Canada", "Code": "CAN", "Year": 2017, "Average_annual_working_hours_per_worker": 1696.4624, "GDP_per_capita": 48902.64, "Population": 36554344, "Gini_coefficient": 0.333082063, "Life_satisfaction": 7.1090765, "Productivity": 56.25571848, "Current_health_expenditure_per_capita": 5208.72}, {"Continent": "Americas", "Country": "Chile", "Code": "CHL", "Year": 2017, "Average_annual_working_hours_per_worker": 1974.0, "GDP_per_capita": 22864.05, "Population": 18368582, "Gini_coefficient": 0.444410284, "Life_satisfaction": 5.942250252, "Productivity": 27.26079146, "Current_health_expenditure_per_capita": 2219.14}, {"Continent": "Asia", "Country": "China", "Code": "CHN", "Year": 2017, "Average_annual_working_hours_per_worker": 2174.3501, "GDP_per_capita": 13854.23, "Population": 1410275968, "Gini_coefficient": 0.390757759, "Life_satisfaction": 5.144120216, "Productivity": 11.35773921, "Current_health_expenditure_per_capita": 706.37}, {"Continent": "Americas", "Country": "Colombia", "Code": "COL", "Year": 2017, "Average_annual_working_hours_per_worker": 1997.748, "GDP_per_capita": 13426.76, "Population": 48351668, "Gini_coefficient": 0.497154848, "Life_satisfaction": 6.350297928, "Productivity": 15.63291474, "Current_health_expenditure_per_capita": 1088.17}, {"Continent": "Americas", "Country": "Costa Rica", "Code": "CRI", "Year": 2017, "Average_annual_working_hours_per_worker": 2212.3835, "GDP_per_capita": 18127.81, "Population": 4993849, "Gini_coefficient": 0.483465406, "Life_satisfaction": 6.997618675, "Productivity": 18.72804079, "Current_health_expenditure_per_capita": 1439.77}, {"Continent": "Europe", "Country": "Croatia", "Code": "HRV", "Year": 2017, "Average_annual_working_hours_per_worker": 1834.9327, "GDP_per_capita": 25359.7, "Population": 4192468, "Gini_coefficient": 0.303545759, "Life_satisfaction": 5.625743866, "Productivity": 33.15712673, "Current_health_expenditure_per_capita": 1804.07}, {"Continent": "Asia", "Country": "Cyprus", "Code": "CYP", "Year": 2017, "Average_annual_working_hours_per_worker": 1783.5206, "GDP_per_capita": 31253.99, "Population": 1208527, "Gini_coefficient": 0.31416234, "Life_satisfaction": 6.136832714, "Productivity": 42.59221773, "Current_health_expenditure_per_capita": 2532.87}, {"Continent": "Europe", "Country": "Czechia", "Code": "CZE", "Year": 2017, "Average_annual_working_hours_per_worker": 1776.162, "GDP_per_capita": 35579.26, "Population": 10531315, "Gini_coefficient": 0.248522097, "Life_satisfaction": 6.24209404, "Productivity": 39.42304869, "Current_health_expenditure_per_capita": 2785.65}, {"Continent": "Europe", "Country": "Denmark", "Code": "DNK", "Year": 2017, "Average_annual_working_hours_per_worker": 1400.3815, "GDP_per_capita": 51671.6, "Population": 5737286, "Gini_coefficient": 0.287466614, "Life_satisfaction": 7.693003178, "Productivity": 72.54114087, "Current_health_expenditure_per_capita": 5573.28}, {"Continent": "Americas", "Country": "Ecuador", "Code": "ECU", "Year": 2017, "Average_annual_working_hours_per_worker": 1701.3558, "GDP_per_capita": 11413.08, "Population": 16696947, "Gini_coefficient": 0.446730295, "Life_satisfaction": 5.809131145, "Productivity": 15.32391947, "Current_health_expenditure_per_capita": 863.05}, {"Continent": "Europe", "Country": "Estonia", "Code": "EST", "Year": 2017, "Average_annual_working_hours_per_worker": 1856.6827, "GDP_per_capita": 30981.6, "Population": 1317550, "Gini_coefficient": 0.303550262, "Life_satisfaction": 6.034641266, "Productivity": 33.48799406, "Current_health_expenditure_per_capita": 2241.85}, {"Continent": "Europe", "Country": "Finland", "Code": "FIN", "Year": 2017, "Average_annual_working_hours_per_worker": 1659.2806, "GDP_per_capita": 43827.15, "Population": 5508146, "Gini_coefficient": 0.273830854, "Life_satisfaction": 7.780347824, "Productivity": 58.88463786, "Current_health_expenditure_per_capita": 4339.1}, {"Continent": "Europe", "Country": "France", "Code": "FRA", "Year": 2017, "Average_annual_working_hours_per_worker": 1514.1371, "GDP_per_capita": 42818.76, "Population": 64144092, "Gini_coefficient": 0.316320654, "Life_satisfaction": 6.689644337, "Productivity": 68.37434064, "Current_health_expenditure_per_capita": 5059.99}, {"Continent": "Europe", "Country": "Germany", "Code": "DEU", "Year": 2017, "Average_annual_working_hours_per_worker": 1353.8868, "GDP_per_capita": 51253.33, "Population": 82624368, "Gini_coefficient": 0.312019051, "Life_satisfaction": 7.035472393, "Productivity": 69.84848268, "Current_health_expenditure_per_capita": 6028.25}, {"Continent": "Europe", "Country": "Greece", "Code": "GRC", "Year": 2017, "Average_annual_working_hours_per_worker": 2016.8954, "GDP_per_capita": 26477.58, "Population": 10692230, "Gini_coefficient": 0.343520211, "Life_satisfaction": 5.952157497, "Productivity": 33.35995335, "Current_health_expenditure_per_capita": 2325.62}, {"Continent": "Asia", "Country": "Hong Kong", "Code": "HKG", "Year": 2017, "Average_annual_working_hours_per_worker": 2185.5789, "GDP_per_capita": 49927.07, "Population": 7461508, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 5.659317017, "Productivity": 44.37298407, "Current_health_expenditure_per_capita": 2230.495}, {"Continent": "Europe", "Country": "Hungary", "Code": "HUN", "Year": 2017, "Average_annual_working_hours_per_worker": 1937.3325, "GDP_per_capita": 26908.97, "Population": 9788940, "Gini_coefficient": 0.305841235, "Life_satisfaction": 6.000259876, "Productivity": 33.0558028, "Current_health_expenditure_per_capita": 1988.7}, {"Continent": "Europe", "Country": "Iceland", "Code": "ISL", "Year": 2017, "Average_annual_working_hours_per_worker": 1493.3651, "GDP_per_capita": 49844.32, "Population": 343641, "Gini_coefficient": 0.261315802, "Life_satisfaction": 7.532504559, "Productivity": 59.12501586, "Current_health_expenditure_per_capita": 4762.73}, {"Continent": "Asia", "Country": "India", "Code": "IND", "Year": 2017, "Average_annual_working_hours_per_worker": 2117.0117, "GDP_per_capita": 6188.46, "Population": 1354195712, "Gini_coefficient": 0.359430473, "Life_satisfaction": 3.24876976, "Productivity": 8.009787126, "Current_health_expenditure_per_capita": 181.53}, {"Continent": "Asia", "Country": "Indonesia", "Code": "IDN", "Year": 2017, "Average_annual_working_hours_per_worker": 2024.287, "GDP_per_capita": 10640.7, "Population": 264498848, "Gini_coefficient": 0.38785263, "Life_satisfaction": 5.346512794, "Productivity": 11.35478727, "Current_health_expenditure_per_capita": 317.59}, {"Continent": "Europe", "Country": "Ireland", "Code": "IRL", "Year": 2017, "Average_annual_working_hours_per_worker": 1745.6843, "GDP_per_capita": 86808.65, "Population": 4771860, "Gini_coefficient": 0.313598037, "Life_satisfaction": 7.254841328, "Productivity": 109.488306, "Current_health_expenditure_per_capita": 5582.93}, {"Continent": "Asia", "Country": "Israel", "Code": "ISR", "Year": 2017, "Average_annual_working_hours_per_worker": 1920.6106, "GDP_per_capita": 38979.03, "Population": 8309256, "Gini_coefficient": 0.382020644, "Life_satisfaction": 7.331779957, "Productivity": 41.0201119, "Current_health_expenditure_per_capita": 2992.02}, {"Continent": "Europe", "Country": "Italy", "Code": "ITA", "Year": 2017, "Average_annual_working_hours_per_worker": 1722.6113, "GDP_per_capita": 40155.51, "Population": 60004024, "Gini_coefficient": 0.359280009, "Life_satisfaction": 6.445416927, "Productivity": 56.27207136, "Current_health_expenditure_per_capita": 3616.67}, {"Continent": "Asia", "Country": "Japan", "Code": "JPN", "Year": 2017, "Average_annual_working_hours_per_worker": 1738.3633, "GDP_per_capita": 39598.29, "Population": 126662464, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 5.908039093, "Productivity": 42.4229346, "Current_health_expenditure_per_capita": 4398.02}, {"Continent": "Europe", "Country": "Latvia", "Code": "LVA", "Year": 2017, "Average_annual_working_hours_per_worker": 1874.5979, "GDP_per_capita": 27162.37, "Population": 1954861, "Gini_coefficient": 0.355719346, "Life_satisfaction": 5.969753742, "Productivity": 31.56864146, "Current_health_expenditure_per_capita": 1703.6}, {"Continent": "Europe", "Country": "Lithuania", "Code": "LTU", "Year": 2017, "Average_annual_working_hours_per_worker": 1844.0171, "GDP_per_capita": 29832.8, "Population": 2904452, "Gini_coefficient": 0.372896992, "Life_satisfaction": 6.064097881, "Productivity": 32.99194736, "Current_health_expenditure_per_capita": 2178.09}, {"Continent": "Europe", "Country": "Luxembourg", "Code": "LUX", "Year": 2017, "Average_annual_working_hours_per_worker": 1518.8575, "GDP_per_capita": 90597.55, "Population": 596290, "Gini_coefficient": 0.345157399, "Life_satisfaction": 7.404015541, "Productivity": 83.16536059, "Current_health_expenditure_per_capita": 5980.64}, {"Continent": "Asia", "Country": "Malaysia", "Code": "MYS", "Year": 2017, "Average_annual_working_hours_per_worker": 2238.2729, "GDP_per_capita": 24159.17, "Population": 31975812, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 5.427954197, "Productivity": 23.65407513, "Current_health_expenditure_per_capita": 987.58}, {"Continent": "Europe", "Country": "Malta", "Code": "MLT", "Year": 2017, "Average_annual_working_hours_per_worker": 2040.0317, "GDP_per_capita": 35154.08, "Population": 479507, "Gini_coefficient": 0.292322386, "Life_satisfaction": 6.73297739, "Productivity": 39.21617358, "Current_health_expenditure_per_capita": 3873.25}, {"Continent": "Americas", "Country": "Mexico", "Code": "MEX", "Year": 2017, "Average_annual_working_hours_per_worker": 2255.0, "GDP_per_capita": 18939.9, "Population": 122839256, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 6.431945324, "Productivity": 21.02031412, "Current_health_expenditure_per_capita": 1076.31}, {"Continent": "Asia", "Country": "Myanmar", "Code": "MMR", "Year": 2017, "Average_annual_working_hours_per_worker": 2437.8633, "GDP_per_capita": 4762.93, "Population": 52288344, "Gini_coefficient": 0.306968695, "Life_satisfaction": 4.43423748, "Productivity": 4.735483675, "Current_health_expenditure_per_capita": 214.63}, {"Continent": "Europe", "Country": "Netherlands", "Code": "NLD", "Year": 2017, "Average_annual_working_hours_per_worker": 1430.0229, "GDP_per_capita": 54233.45, "Population": 17207204, "Gini_coefficient": 0.285358194, "Life_satisfaction": 7.42526865, "Productivity": 70.61846134, "Current_health_expenditure_per_capita": 5602.59}, {"Continent": "Oceania", "Country": "New Zealand", "Code": "NZL", "Year": 2017, "Average_annual_working_hours_per_worker": 1752.0, "GDP_per_capita": 39728.86, "Population": 4746253, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 7.205174446, "Productivity": 42.73759913, "Current_health_expenditure_per_capita": 3875.54}, {"Continent": "Africa", "Country": "Nigeria", "Code": "NGA", "Year": 2017, "Average_annual_working_hours_per_worker": 1827.2401, "GDP_per_capita": 5060.98, "Population": 193495904, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 4.356419086, "Productivity": 34.62209549, "Current_health_expenditure_per_capita": 194.81}, {"Continent": "Europe", "Country": "Norway", "Code": "NOR", "Year": 2017, "Average_annual_working_hours_per_worker": 1417.4723, "GDP_per_capita": 69604.79, "Population": 5277396, "Gini_coefficient": 0.269873302, "Life_satisfaction": 7.442139626, "Productivity": 96.84903378, "Current_health_expenditure_per_capita": 6630.84}, {"Continent": "Asia", "Country": "Pakistan", "Code": "PAK", "Year": 2017, "Average_annual_working_hours_per_worker": 2096.1443, "GDP_per_capita": 4743.69, "Population": 216379648, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 4.442717552, "Productivity": 8.322207396, "Current_health_expenditure_per_capita": 132.67}, {"Continent": "Americas", "Country": "Peru", "Code": "PER", "Year": 2017, "Average_annual_working_hours_per_worker": 1932.4581, "GDP_per_capita": 11956.63, "Population": 31605488, "Gini_coefficient": 0.4329279, "Life_satisfaction": 5.999381542, "Productivity": 10.7489986, "Current_health_expenditure_per_capita": 624.02}, {"Continent": "Asia", "Country": "Philippines", "Code": "PHL", "Year": 2017, "Average_annual_working_hours_per_worker": 2148.5645, "GDP_per_capita": 7858.48, "Population": 106738496, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 6.267745018, "Productivity": 9.450449282, "Current_health_expenditure_per_capita": 321.62}, {"Continent": "Europe", "Country": "Poland", "Code": "POL", "Year": 2017, "Average_annual_working_hours_per_worker": 2028.4952, "GDP_per_capita": 29047.82, "Population": 38532816, "Gini_coefficient": 0.302965813, "Life_satisfaction": 6.24209404, "Productivity": 33.66429154, "Current_health_expenditure_per_capita": 1972.37}, {"Continent": "Europe", "Country": "Portugal", "Code": "PRT", "Year": 2017, "Average_annual_working_hours_per_worker": 1863.1744, "GDP_per_capita": 30430.03, "Population": 10307528, "Gini_coefficient": 0.338038412, "Life_satisfaction": 6.095473289, "Productivity": 34.62209549, "Current_health_expenditure_per_capita": 3072.32}, {"Continent": "Europe", "Country": "Romania", "Code": "ROU", "Year": 2017, "Average_annual_working_hours_per_worker": 1805.9998, "GDP_per_capita": 25424.06, "Population": 19698852, "Gini_coefficient": 0.360168279, "Life_satisfaction": 6.129942417, "Productivity": 32.2711146, "Current_health_expenditure_per_capita": 1398.55}, {"Continent": "Europe", "Country": "Russia", "Code": "RUS", "Year": 2017, "Average_annual_working_hours_per_worker": 1974.0, "GDP_per_capita": 26797.82, "Population": 145452544, "Gini_coefficient": 0.37239071, "Life_satisfaction": 5.440523624, "Productivity": 27.44623652, "Current_health_expenditure_per_capita": 1406.2}, {"Continent": "Asia", "Country": "Singapore", "Code": "SGP", "Year": 2017, "Average_annual_working_hours_per_worker": 2237.7263, "GDP_per_capita": 81444.79, "Population": 5764489, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 6.378359795, "Productivity": 54.29877798, "Current_health_expenditure_per_capita": 4091.44}, {"Continent": "Europe", "Country": "Slovakia", "Code": "SVK", "Year": 2017, "Average_annual_working_hours_per_worker": 1745.2307, "GDP_per_capita": 26467.1, "Population": 5439418, "Gini_coefficient": 0.23237751, "Life_satisfaction": 6.243428707, "Productivity": 35.16566573, "Current_health_expenditure_per_capita": 2038.16}, {"Continent": "Europe", "Country": "Slovenia", "Code": "SVN", "Year": 2017, "Average_annual_working_hours_per_worker": 1655.089, "GDP_per_capita": 31594.71, "Population": 2098396, "Gini_coefficient": 0.242193073, "Life_satisfaction": 6.665273666, "Productivity": 40.55475278, "Current_health_expenditure_per_capita": 2998.32}, {"Continent": "Africa", "Country": "South Africa", "Code": "ZAF", "Year": 2017, "Average_annual_working_hours_per_worker": 2209.0916, "GDP_per_capita": 12735.03, "Population": 56641208, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 5.034863472, "Productivity": 18.05485455, "Current_health_expenditure_per_capita": 1107.89}, {"Continent": "Asia", "Country": "South Korea", "Code": "KOR", "Year": 2017, "Average_annual_working_hours_per_worker": 2063.3315, "GDP_per_capita": 40875.21, "Population": 51511640, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 5.902816772, "Productivity": 39.08392755, "Current_health_expenditure_per_capita": 2925.95}, {"Continent": "Europe", "Country": "Spain", "Code": "ESP", "Year": 2017, "Average_annual_working_hours_per_worker": 1686.4973, "GDP_per_capita": 38928.51, "Population": 46584168, "Gini_coefficient": 0.346545469, "Life_satisfaction": 6.457449436, "Productivity": 56.06301345, "Current_health_expenditure_per_capita": 3556.87}, {"Continent": "Asia", "Country": "Sri Lanka", "Code": "LKA", "Year": 2017, "Average_annual_working_hours_per_worker": 1923.9354, "GDP_per_capita": 12733.1, "Population": 21506816, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 4.213299274, "Productivity": 17.04851325, "Current_health_expenditure_per_capita": 459.25}, {"Continent": "Europe", "Country": "Sweden", "Code": "SWE", "Year": 2017, "Average_annual_working_hours_per_worker": 1609.2896, "GDP_per_capita": 52032.67, "Population": 10058191, "Gini_coefficient": 0.287746034, "Life_satisfaction": 7.398092747, "Productivity": 64.3374695, "Current_health_expenditure_per_capita": 5655.7}, {"Continent": "Europe", "Country": "Switzerland", "Code": "CHE", "Year": 2017, "Average_annual_working_hours_per_worker": 1589.6758, "GDP_per_capita": 73624.98, "Population": 8451688, "Gini_coefficient": 0.32676334, "Life_satisfaction": 7.69422102, "Productivity": 80.58822762, "Current_health_expenditure_per_capita": 7989.64}, {"Continent": "Asia", "Country": "Taiwan", "Code": "TWN", "Year": 2017, "Average_annual_working_hours_per_worker": 1990.3212, "GDP_per_capita": 45375.41, "Population": 23665028, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 6.537089825, "Productivity": 44.99929907, "Current_health_expenditure_per_capita": 2230.495}, {"Continent": "Asia", "Country": "Thailand", "Code": "THA", "Year": 2017, "Average_annual_working_hours_per_worker": 2185.4456, "GDP_per_capita": 16665.38, "Population": 70898208, "Gini_coefficient": 0.36528755, "Life_satisfaction": 6.02215147, "Productivity": 14.74583813, "Current_health_expenditure_per_capita": 669.58}, {"Continent": "Asia", "Country": "Turkey", "Code": "TUR", "Year": 2017, "Average_annual_working_hours_per_worker": 1832.0, "GDP_per_capita": 26611.18, "Population": 82089824, "Gini_coefficient": 0.414056667, "Life_satisfaction": 4.87207365, "Productivity": 41.79920311, "Current_health_expenditure_per_capita": 1166.73}, {"Continent": "Europe", "Country": "United Kingdom", "Code": "GBR", "Year": 2017, "Average_annual_working_hours_per_worker": 1670.2728, "GDP_per_capita": 44093.93, "Population": 66064808, "Gini_coefficient": 0.351488307, "Life_satisfaction": 7.157151222, "Productivity": 54.67692069, "Current_health_expenditure_per_capita": 4515.59}, {"Continent": "Americas", "Country": "United States", "Code": "USA", "Year": 2017, "Average_annual_working_hours_per_worker": 1757.2255, "GDP_per_capita": 60116.57, "Population": 329791232, "Gini_coefficient": 0.411805587, "Life_satisfaction": 6.943701267, "Productivity": 71.63857051, "Current_health_expenditure_per_capita": 10103.09}, {"Continent": "Americas", "Country": "Uruguay", "Code": "URY", "Year": 2017, "Average_annual_working_hours_per_worker": 1552.347, "GDP_per_capita": 20615.56, "Population": 3422205, "Gini_coefficient": 0.394645312, "Life_satisfaction": 6.600337029, "Productivity": 28.29584596, "Current_health_expenditure_per_capita": 2029.89}, {"Continent": "Asia", "Country": "Vietnam", "Code": "VNM", "Year": 2017, "Average_annual_working_hours_per_worker": 2169.5916, "GDP_per_capita": 6841.65, "Population": 94033048, "Gini_coefficient": 0.3407793115, "Life_satisfaction": 5.467451096, "Productivity": 5.652919029, "Current_health_expenditure_per_capita": 423.98}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>
<section id="chart-2-life-satisfaction---distribution-plot-and-boxplot" class="level3">
<h3 class="anchored" data-anchor-id="chart-2-life-satisfaction---distribution-plot-and-boxplot">Chart 2: Life satisfaction - distribution plot and boxplot</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># By using distribution plot we can decide which technique we will use for dealing with missing values.</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable = Life satisfaction</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>hist1 <span class="op">=</span> alt.Chart(df).mark_bar().encode(</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"Life satisfaction"</span>, </span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>            <span class="bu">bin</span><span class="op">=</span>alt.BinParams(maxbins<span class="op">=</span><span class="dv">20</span>), </span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>            scale<span class="op">=</span>alt.Scale(zero<span class="op">=</span><span class="va">True</span>)),</span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'count()'</span>,</span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a>box1 <span class="op">=</span> alt.Chart(df).mark_boxplot().encode(</span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'Life satisfaction'</span>,</span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-15"><a href="#cb110-15" aria-hidden="true" tabindex="-1"></a>alt.vconcat(hist1, box1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\ji_so\anaconda3\envs\stats\lib\site-packages\altair\utils\core.py:317: FutureWarning: iteritems is deprecated and will be removed in a future version. Use .items instead.
  for col_name, dtype in df.dtypes.iteritems():</code></pre>
</div>
<div class="cell-output cell-output-display">

<div id="altair-viz-ee97dd25a4cc4dfbb4a1f0e32dff9861"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-ee97dd25a4cc4dfbb4a1f0e32dff9861") {
      outputDiv = document.getElementById("altair-viz-ee97dd25a4cc4dfbb4a1f0e32dff9861");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"mark": "bar", "encoding": {"x": {"bin": {"maxbins": 20}, "field": "Life satisfaction", "scale": {"zero": true}, "type": "quantitative"}, "y": {"aggregate": "count", "type": "quantitative"}}}, {"mark": "boxplot", "encoding": {"x": {"field": "Life satisfaction", "type": "quantitative"}}}], "data": {"name": "data-32f419c0023e22038f109ef2bb26f313"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-32f419c0023e22038f109ef2bb26f313": [{"Continent": "Americas", "Country": "Argentina", "Code": "ARG", "Year": 2017, "Average annual working hours per worker": 1691.5363, "GDP per capita": 23272.18, "Population": 44054616, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.085560799, "Productivity": 30.95546039, "Current health expenditure per capita": 2470.11}, {"Continent": "Oceania", "Country": "Australia", "Code": "AUS", "Year": 2017, "Average annual working hours per worker": 1731.4943, "GDP per capita": 52536.19, "Population": 24590336, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.233994961, "Productivity": 60.3416786, "Current health expenditure per capita": 4715.83}, {"Continent": "Europe", "Country": "Austria", "Code": "AUT", "Year": 2017, "Average annual working hours per worker": 1613.0519, "GDP per capita": 51954.28, "Population": 8797497, "Gini coefficient": 0.29737585, "Life satisfaction": 7.195361137, "Productivity": 64.7801697, "Current health expenditure per capita": 5641.18}, {"Continent": "Asia", "Country": "Bangladesh", "Code": "BGD", "Year": 2017, "Average annual working hours per worker": 2232.3542, "GDP per capita": 4112.7, "Population": 161793968, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.114216805, "Productivity": 4.307636988, "Current health expenditure per capita": 101.18}, {"Continent": "Europe", "Country": "Belgium", "Code": "BEL", "Year": 2017, "Average annual working hours per worker": 1544.269, "GDP per capita": 45150.2, "Population": 11384491, "Gini coefficient": 0.273879678, "Life satisfaction": 6.772138119, "Productivity": 68.51652068, "Current health expenditure per capita": 5450.48}, {"Continent": "Americas", "Country": "Brazil", "Code": "BRA", "Year": 2017, "Average annual working hours per worker": 1709.4856, "GDP per capita": 14284.61, "Population": 208504960, "Gini coefficient": 0.5333405, "Life satisfaction": 6.451148987, "Productivity": 19.18829359, "Current health expenditure per capita": 1375.66}, {"Continent": "Europe", "Country": "Bulgaria", "Code": "BGR", "Year": 2017, "Average annual working hours per worker": 1643.5475, "GDP per capita": 19579.83, "Population": 7182430, "Gini coefficient": 0.403790468, "Life satisfaction": 5.108438015, "Productivity": 25.39212178, "Current health expenditure per capita": 1607.71}, {"Continent": "Asia", "Country": "Cambodia", "Code": "KHM", "Year": 2017, "Average annual working hours per worker": 2455.5508, "GDP per capita": 3950.93, "Population": 15830694, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.998284817, "Productivity": 3.022649989, "Current health expenditure per capita": 224.81}, {"Continent": "Americas", "Country": "Canada", "Code": "CAN", "Year": 2017, "Average annual working hours per worker": 1696.4624, "GDP per capita": 48902.64, "Population": 36554344, "Gini coefficient": 0.333082063, "Life satisfaction": 7.1090765, "Productivity": 56.25571848, "Current health expenditure per capita": 5208.72}, {"Continent": "Americas", "Country": "Chile", "Code": "CHL", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 22864.05, "Population": 18368582, "Gini coefficient": 0.444410284, "Life satisfaction": 5.942250252, "Productivity": 27.26079146, "Current health expenditure per capita": 2219.14}, {"Continent": "Asia", "Country": "China", "Code": "CHN", "Year": 2017, "Average annual working hours per worker": 2174.3501, "GDP per capita": 13854.23, "Population": 1410275968, "Gini coefficient": 0.390757759, "Life satisfaction": 5.144120216, "Productivity": 11.35773921, "Current health expenditure per capita": 706.37}, {"Continent": "Americas", "Country": "Colombia", "Code": "COL", "Year": 2017, "Average annual working hours per worker": 1997.748, "GDP per capita": 13426.76, "Population": 48351668, "Gini coefficient": 0.497154848, "Life satisfaction": 6.350297928, "Productivity": 15.63291474, "Current health expenditure per capita": 1088.17}, {"Continent": "Americas", "Country": "Costa Rica", "Code": "CRI", "Year": 2017, "Average annual working hours per worker": 2212.3835, "GDP per capita": 18127.81, "Population": 4993849, "Gini coefficient": 0.483465406, "Life satisfaction": 6.997618675, "Productivity": 18.72804079, "Current health expenditure per capita": 1439.77}, {"Continent": "Europe", "Country": "Croatia", "Code": "HRV", "Year": 2017, "Average annual working hours per worker": 1834.9327, "GDP per capita": 25359.7, "Population": 4192468, "Gini coefficient": 0.303545759, "Life satisfaction": 5.625743866, "Productivity": 33.15712673, "Current health expenditure per capita": 1804.07}, {"Continent": "Asia", "Country": "Cyprus", "Code": "CYP", "Year": 2017, "Average annual working hours per worker": 1783.5206, "GDP per capita": 31253.99, "Population": 1208527, "Gini coefficient": 0.31416234, "Life satisfaction": 6.136832714, "Productivity": 42.59221773, "Current health expenditure per capita": 2532.87}, {"Continent": "Europe", "Country": "Czechia", "Code": "CZE", "Year": 2017, "Average annual working hours per worker": 1776.162, "GDP per capita": 35579.26, "Population": 10531315, "Gini coefficient": 0.248522097, "Life satisfaction": null, "Productivity": 39.42304869, "Current health expenditure per capita": 2785.65}, {"Continent": "Europe", "Country": "Denmark", "Code": "DNK", "Year": 2017, "Average annual working hours per worker": 1400.3815, "GDP per capita": 51671.6, "Population": 5737286, "Gini coefficient": 0.287466614, "Life satisfaction": 7.693003178, "Productivity": 72.54114087, "Current health expenditure per capita": 5573.28}, {"Continent": "Americas", "Country": "Ecuador", "Code": "ECU", "Year": 2017, "Average annual working hours per worker": 1701.3558, "GDP per capita": 11413.08, "Population": 16696947, "Gini coefficient": 0.446730295, "Life satisfaction": 5.809131145, "Productivity": 15.32391947, "Current health expenditure per capita": 863.05}, {"Continent": "Europe", "Country": "Estonia", "Code": "EST", "Year": 2017, "Average annual working hours per worker": 1856.6827, "GDP per capita": 30981.6, "Population": 1317550, "Gini coefficient": 0.303550262, "Life satisfaction": 6.034641266, "Productivity": 33.48799406, "Current health expenditure per capita": 2241.85}, {"Continent": "Europe", "Country": "Finland", "Code": "FIN", "Year": 2017, "Average annual working hours per worker": 1659.2806, "GDP per capita": 43827.15, "Population": 5508146, "Gini coefficient": 0.273830854, "Life satisfaction": 7.780347824, "Productivity": 58.88463786, "Current health expenditure per capita": 4339.1}, {"Continent": "Europe", "Country": "France", "Code": "FRA", "Year": 2017, "Average annual working hours per worker": 1514.1371, "GDP per capita": 42818.76, "Population": 64144092, "Gini coefficient": 0.316320654, "Life satisfaction": 6.689644337, "Productivity": 68.37434064, "Current health expenditure per capita": 5059.99}, {"Continent": "Europe", "Country": "Germany", "Code": "DEU", "Year": 2017, "Average annual working hours per worker": 1353.8868, "GDP per capita": 51253.33, "Population": 82624368, "Gini coefficient": 0.312019051, "Life satisfaction": 7.035472393, "Productivity": 69.84848268, "Current health expenditure per capita": 6028.25}, {"Continent": "Europe", "Country": "Greece", "Code": "GRC", "Year": 2017, "Average annual working hours per worker": 2016.8954, "GDP per capita": 26477.58, "Population": 10692230, "Gini coefficient": 0.343520211, "Life satisfaction": 5.952157497, "Productivity": 33.35995335, "Current health expenditure per capita": 2325.62}, {"Continent": "Asia", "Country": "Hong Kong", "Code": "HKG", "Year": 2017, "Average annual working hours per worker": 2185.5789, "GDP per capita": 49927.07, "Population": 7461508, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.659317017, "Productivity": 44.37298407, "Current health expenditure per capita": null}, {"Continent": "Europe", "Country": "Hungary", "Code": "HUN", "Year": 2017, "Average annual working hours per worker": 1937.3325, "GDP per capita": 26908.97, "Population": 9788940, "Gini coefficient": 0.305841235, "Life satisfaction": 6.000259876, "Productivity": 33.0558028, "Current health expenditure per capita": 1988.7}, {"Continent": "Europe", "Country": "Iceland", "Code": "ISL", "Year": 2017, "Average annual working hours per worker": 1493.3651, "GDP per capita": 49844.32, "Population": 343641, "Gini coefficient": 0.261315802, "Life satisfaction": 7.532504559, "Productivity": 59.12501586, "Current health expenditure per capita": 4762.73}, {"Continent": "Asia", "Country": "India", "Code": "IND", "Year": 2017, "Average annual working hours per worker": 2117.0117, "GDP per capita": 6188.46, "Population": 1354195712, "Gini coefficient": 0.359430473, "Life satisfaction": 3.24876976, "Productivity": 8.009787126, "Current health expenditure per capita": 181.53}, {"Continent": "Asia", "Country": "Indonesia", "Code": "IDN", "Year": 2017, "Average annual working hours per worker": 2024.287, "GDP per capita": 10640.7, "Population": 264498848, "Gini coefficient": 0.38785263, "Life satisfaction": 5.346512794, "Productivity": 11.35478727, "Current health expenditure per capita": 317.59}, {"Continent": "Europe", "Country": "Ireland", "Code": "IRL", "Year": 2017, "Average annual working hours per worker": 1745.6843, "GDP per capita": 86808.65, "Population": 4771860, "Gini coefficient": 0.313598037, "Life satisfaction": 7.254841328, "Productivity": 109.488306, "Current health expenditure per capita": 5582.93}, {"Continent": "Asia", "Country": "Israel", "Code": "ISR", "Year": 2017, "Average annual working hours per worker": 1920.6106, "GDP per capita": 38979.03, "Population": 8309256, "Gini coefficient": 0.382020644, "Life satisfaction": 7.331779957, "Productivity": 41.0201119, "Current health expenditure per capita": 2992.02}, {"Continent": "Europe", "Country": "Italy", "Code": "ITA", "Year": 2017, "Average annual working hours per worker": 1722.6113, "GDP per capita": 40155.51, "Population": 60004024, "Gini coefficient": 0.359280009, "Life satisfaction": 6.445416927, "Productivity": 56.27207136, "Current health expenditure per capita": 3616.67}, {"Continent": "Asia", "Country": "Japan", "Code": "JPN", "Year": 2017, "Average annual working hours per worker": 1738.3633, "GDP per capita": 39598.29, "Population": 126662464, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.908039093, "Productivity": 42.4229346, "Current health expenditure per capita": 4398.02}, {"Continent": "Europe", "Country": "Latvia", "Code": "LVA", "Year": 2017, "Average annual working hours per worker": 1874.5979, "GDP per capita": 27162.37, "Population": 1954861, "Gini coefficient": 0.355719346, "Life satisfaction": 5.969753742, "Productivity": 31.56864146, "Current health expenditure per capita": 1703.6}, {"Continent": "Europe", "Country": "Lithuania", "Code": "LTU", "Year": 2017, "Average annual working hours per worker": 1844.0171, "GDP per capita": 29832.8, "Population": 2904452, "Gini coefficient": 0.372896992, "Life satisfaction": 6.064097881, "Productivity": 32.99194736, "Current health expenditure per capita": 2178.09}, {"Continent": "Europe", "Country": "Luxembourg", "Code": "LUX", "Year": 2017, "Average annual working hours per worker": 1518.8575, "GDP per capita": 90597.55, "Population": 596290, "Gini coefficient": 0.345157399, "Life satisfaction": 7.404015541, "Productivity": 83.16536059, "Current health expenditure per capita": 5980.64}, {"Continent": "Asia", "Country": "Malaysia", "Code": "MYS", "Year": 2017, "Average annual working hours per worker": 2238.2729, "GDP per capita": 24159.17, "Population": 31975812, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.427954197, "Productivity": 23.65407513, "Current health expenditure per capita": 987.58}, {"Continent": "Europe", "Country": "Malta", "Code": "MLT", "Year": 2017, "Average annual working hours per worker": 2040.0317, "GDP per capita": 35154.08, "Population": 479507, "Gini coefficient": 0.292322386, "Life satisfaction": 6.73297739, "Productivity": 39.21617358, "Current health expenditure per capita": 3873.25}, {"Continent": "Americas", "Country": "Mexico", "Code": "MEX", "Year": 2017, "Average annual working hours per worker": 2255.0, "GDP per capita": 18939.9, "Population": 122839256, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.431945324, "Productivity": 21.02031412, "Current health expenditure per capita": 1076.31}, {"Continent": "Asia", "Country": "Myanmar", "Code": "MMR", "Year": 2017, "Average annual working hours per worker": 2437.8633, "GDP per capita": 4762.93, "Population": 52288344, "Gini coefficient": 0.306968695, "Life satisfaction": 4.43423748, "Productivity": 4.735483675, "Current health expenditure per capita": 214.63}, {"Continent": "Europe", "Country": "Netherlands", "Code": "NLD", "Year": 2017, "Average annual working hours per worker": 1430.0229, "GDP per capita": 54233.45, "Population": 17207204, "Gini coefficient": 0.285358194, "Life satisfaction": 7.42526865, "Productivity": 70.61846134, "Current health expenditure per capita": 5602.59}, {"Continent": "Oceania", "Country": "New Zealand", "Code": "NZL", "Year": 2017, "Average annual working hours per worker": 1752.0, "GDP per capita": 39728.86, "Population": 4746253, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.205174446, "Productivity": 42.73759913, "Current health expenditure per capita": 3875.54}, {"Continent": "Africa", "Country": "Nigeria", "Code": "NGA", "Year": 2017, "Average annual working hours per worker": 1827.2401, "GDP per capita": 5060.98, "Population": 193495904, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.356419086, "Productivity": null, "Current health expenditure per capita": 194.81}, {"Continent": "Europe", "Country": "Norway", "Code": "NOR", "Year": 2017, "Average annual working hours per worker": 1417.4723, "GDP per capita": 69604.79, "Population": 5277396, "Gini coefficient": 0.269873302, "Life satisfaction": 7.442139626, "Productivity": 96.84903378, "Current health expenditure per capita": 6630.84}, {"Continent": "Asia", "Country": "Pakistan", "Code": "PAK", "Year": 2017, "Average annual working hours per worker": 2096.1443, "GDP per capita": 4743.69, "Population": 216379648, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.442717552, "Productivity": 8.322207396, "Current health expenditure per capita": 132.67}, {"Continent": "Americas", "Country": "Peru", "Code": "PER", "Year": 2017, "Average annual working hours per worker": 1932.4581, "GDP per capita": 11956.63, "Population": 31605488, "Gini coefficient": 0.4329279, "Life satisfaction": 5.999381542, "Productivity": 10.7489986, "Current health expenditure per capita": 624.02}, {"Continent": "Asia", "Country": "Philippines", "Code": "PHL", "Year": 2017, "Average annual working hours per worker": 2148.5645, "GDP per capita": 7858.48, "Population": 106738496, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.267745018, "Productivity": 9.450449282, "Current health expenditure per capita": 321.62}, {"Continent": "Europe", "Country": "Poland", "Code": "POL", "Year": 2017, "Average annual working hours per worker": 2028.4952, "GDP per capita": 29047.82, "Population": 38532816, "Gini coefficient": 0.302965813, "Life satisfaction": 6.24209404, "Productivity": 33.66429154, "Current health expenditure per capita": 1972.37}, {"Continent": "Europe", "Country": "Portugal", "Code": "PRT", "Year": 2017, "Average annual working hours per worker": 1863.1744, "GDP per capita": 30430.03, "Population": 10307528, "Gini coefficient": 0.338038412, "Life satisfaction": 6.095473289, "Productivity": 34.62209549, "Current health expenditure per capita": 3072.32}, {"Continent": "Europe", "Country": "Romania", "Code": "ROU", "Year": 2017, "Average annual working hours per worker": 1805.9998, "GDP per capita": 25424.06, "Population": 19698852, "Gini coefficient": 0.360168279, "Life satisfaction": 6.129942417, "Productivity": 32.2711146, "Current health expenditure per capita": 1398.55}, {"Continent": "Europe", "Country": "Russia", "Code": "RUS", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 26797.82, "Population": 145452544, "Gini coefficient": 0.37239071, "Life satisfaction": 5.440523624, "Productivity": 27.44623652, "Current health expenditure per capita": 1406.2}, {"Continent": "Asia", "Country": "Singapore", "Code": "SGP", "Year": 2017, "Average annual working hours per worker": 2237.7263, "GDP per capita": 81444.79, "Population": 5764489, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.378359795, "Productivity": 54.29877798, "Current health expenditure per capita": 4091.44}, {"Continent": "Europe", "Country": "Slovakia", "Code": "SVK", "Year": 2017, "Average annual working hours per worker": 1745.2307, "GDP per capita": 26467.1, "Population": 5439418, "Gini coefficient": 0.23237751, "Life satisfaction": 6.243428707, "Productivity": 35.16566573, "Current health expenditure per capita": 2038.16}, {"Continent": "Europe", "Country": "Slovenia", "Code": "SVN", "Year": 2017, "Average annual working hours per worker": 1655.089, "GDP per capita": 31594.71, "Population": 2098396, "Gini coefficient": 0.242193073, "Life satisfaction": 6.665273666, "Productivity": 40.55475278, "Current health expenditure per capita": 2998.32}, {"Continent": "Africa", "Country": "South Africa", "Code": "ZAF", "Year": 2017, "Average annual working hours per worker": 2209.0916, "GDP per capita": 12735.03, "Population": 56641208, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.034863472, "Productivity": 18.05485455, "Current health expenditure per capita": 1107.89}, {"Continent": "Asia", "Country": "South Korea", "Code": "KOR", "Year": 2017, "Average annual working hours per worker": 2063.3315, "GDP per capita": 40875.21, "Population": 51511640, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.902816772, "Productivity": 39.08392755, "Current health expenditure per capita": 2925.95}, {"Continent": "Europe", "Country": "Spain", "Code": "ESP", "Year": 2017, "Average annual working hours per worker": 1686.4973, "GDP per capita": 38928.51, "Population": 46584168, "Gini coefficient": 0.346545469, "Life satisfaction": 6.457449436, "Productivity": 56.06301345, "Current health expenditure per capita": 3556.87}, {"Continent": "Asia", "Country": "Sri Lanka", "Code": "LKA", "Year": 2017, "Average annual working hours per worker": 1923.9354, "GDP per capita": 12733.1, "Population": 21506816, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.213299274, "Productivity": 17.04851325, "Current health expenditure per capita": 459.25}, {"Continent": "Europe", "Country": "Sweden", "Code": "SWE", "Year": 2017, "Average annual working hours per worker": 1609.2896, "GDP per capita": 52032.67, "Population": 10058191, "Gini coefficient": 0.287746034, "Life satisfaction": 7.398092747, "Productivity": 64.3374695, "Current health expenditure per capita": 5655.7}, {"Continent": "Europe", "Country": "Switzerland", "Code": "CHE", "Year": 2017, "Average annual working hours per worker": 1589.6758, "GDP per capita": 73624.98, "Population": 8451688, "Gini coefficient": 0.32676334, "Life satisfaction": 7.69422102, "Productivity": 80.58822762, "Current health expenditure per capita": 7989.64}, {"Continent": "Asia", "Country": "Taiwan", "Code": "TWN", "Year": 2017, "Average annual working hours per worker": 1990.3212, "GDP per capita": 45375.41, "Population": 23665028, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.537089825, "Productivity": 44.99929907, "Current health expenditure per capita": null}, {"Continent": "Asia", "Country": "Thailand", "Code": "THA", "Year": 2017, "Average annual working hours per worker": 2185.4456, "GDP per capita": 16665.38, "Population": 70898208, "Gini coefficient": 0.36528755, "Life satisfaction": 6.02215147, "Productivity": 14.74583813, "Current health expenditure per capita": 669.58}, {"Continent": "Asia", "Country": "Turkey", "Code": "TUR", "Year": 2017, "Average annual working hours per worker": 1832.0, "GDP per capita": 26611.18, "Population": 82089824, "Gini coefficient": 0.414056667, "Life satisfaction": 4.87207365, "Productivity": 41.79920311, "Current health expenditure per capita": 1166.73}, {"Continent": "Europe", "Country": "United Kingdom", "Code": "GBR", "Year": 2017, "Average annual working hours per worker": 1670.2728, "GDP per capita": 44093.93, "Population": 66064808, "Gini coefficient": 0.351488307, "Life satisfaction": 7.157151222, "Productivity": 54.67692069, "Current health expenditure per capita": 4515.59}, {"Continent": "Americas", "Country": "United States", "Code": "USA", "Year": 2017, "Average annual working hours per worker": 1757.2255, "GDP per capita": 60116.57, "Population": 329791232, "Gini coefficient": 0.411805587, "Life satisfaction": 6.943701267, "Productivity": 71.63857051, "Current health expenditure per capita": 10103.09}, {"Continent": "Americas", "Country": "Uruguay", "Code": "URY", "Year": 2017, "Average annual working hours per worker": 1552.347, "GDP per capita": 20615.56, "Population": 3422205, "Gini coefficient": 0.394645312, "Life satisfaction": 6.600337029, "Productivity": 28.29584596, "Current health expenditure per capita": 2029.89}, {"Continent": "Asia", "Country": "Vietnam", "Code": "VNM", "Year": 2017, "Average annual working hours per worker": 2169.5916, "GDP per capita": 6841.65, "Population": 94033048, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.467451096, "Productivity": 5.652919029, "Current health expenditure per capita": 423.98}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>
<section id="chart-3-productivity---distribution-plot-and-boxplot" class="level3">
<h3 class="anchored" data-anchor-id="chart-3-productivity---distribution-plot-and-boxplot">Chart 3: Productivity - distribution plot and boxplot</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># By using distribution plot we can decide which technique we will use for dealing with missing values.</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable = Productivity</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>hist2 <span class="op">=</span> alt.Chart(df).mark_bar().encode(</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"Productivity"</span>, </span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>            <span class="bu">bin</span><span class="op">=</span>alt.BinParams(maxbins<span class="op">=</span><span class="dv">20</span>), </span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>            scale<span class="op">=</span>alt.Scale(zero<span class="op">=</span><span class="va">True</span>)),</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'count()'</span>,</span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>box2 <span class="op">=</span> alt.Chart(df).mark_boxplot().encode(</span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'Productivity'</span>,</span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-15"><a href="#cb112-15" aria-hidden="true" tabindex="-1"></a>alt.vconcat(hist2, box2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\ji_so\anaconda3\envs\stats\lib\site-packages\altair\utils\core.py:317: FutureWarning: iteritems is deprecated and will be removed in a future version. Use .items instead.
  for col_name, dtype in df.dtypes.iteritems():</code></pre>
</div>
<div class="cell-output cell-output-display">

<div id="altair-viz-80617bea3220411bacb3fc65e0ecfe8b"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-80617bea3220411bacb3fc65e0ecfe8b") {
      outputDiv = document.getElementById("altair-viz-80617bea3220411bacb3fc65e0ecfe8b");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"mark": "bar", "encoding": {"x": {"bin": {"maxbins": 20}, "field": "Productivity", "scale": {"zero": true}, "type": "quantitative"}, "y": {"aggregate": "count", "type": "quantitative"}}}, {"mark": "boxplot", "encoding": {"x": {"field": "Productivity", "type": "quantitative"}}}], "data": {"name": "data-e44491e3fd77612b4cda1224ed1e3329"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-e44491e3fd77612b4cda1224ed1e3329": [{"Continent": "Americas", "Country": "Argentina", "Code": "ARG", "Year": 2017, "Average annual working hours per worker": 1691.5363, "GDP per capita": 23272.18, "Population": 44054616, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.085560799, "Productivity": 30.95546039, "Current health expenditure per capita": 2470.11}, {"Continent": "Oceania", "Country": "Australia", "Code": "AUS", "Year": 2017, "Average annual working hours per worker": 1731.4943, "GDP per capita": 52536.19, "Population": 24590336, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.233994961, "Productivity": 60.3416786, "Current health expenditure per capita": 4715.83}, {"Continent": "Europe", "Country": "Austria", "Code": "AUT", "Year": 2017, "Average annual working hours per worker": 1613.0519, "GDP per capita": 51954.28, "Population": 8797497, "Gini coefficient": 0.29737585, "Life satisfaction": 7.195361137, "Productivity": 64.7801697, "Current health expenditure per capita": 5641.18}, {"Continent": "Asia", "Country": "Bangladesh", "Code": "BGD", "Year": 2017, "Average annual working hours per worker": 2232.3542, "GDP per capita": 4112.7, "Population": 161793968, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.114216805, "Productivity": 4.307636988, "Current health expenditure per capita": 101.18}, {"Continent": "Europe", "Country": "Belgium", "Code": "BEL", "Year": 2017, "Average annual working hours per worker": 1544.269, "GDP per capita": 45150.2, "Population": 11384491, "Gini coefficient": 0.273879678, "Life satisfaction": 6.772138119, "Productivity": 68.51652068, "Current health expenditure per capita": 5450.48}, {"Continent": "Americas", "Country": "Brazil", "Code": "BRA", "Year": 2017, "Average annual working hours per worker": 1709.4856, "GDP per capita": 14284.61, "Population": 208504960, "Gini coefficient": 0.5333405, "Life satisfaction": 6.451148987, "Productivity": 19.18829359, "Current health expenditure per capita": 1375.66}, {"Continent": "Europe", "Country": "Bulgaria", "Code": "BGR", "Year": 2017, "Average annual working hours per worker": 1643.5475, "GDP per capita": 19579.83, "Population": 7182430, "Gini coefficient": 0.403790468, "Life satisfaction": 5.108438015, "Productivity": 25.39212178, "Current health expenditure per capita": 1607.71}, {"Continent": "Asia", "Country": "Cambodia", "Code": "KHM", "Year": 2017, "Average annual working hours per worker": 2455.5508, "GDP per capita": 3950.93, "Population": 15830694, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.998284817, "Productivity": 3.022649989, "Current health expenditure per capita": 224.81}, {"Continent": "Americas", "Country": "Canada", "Code": "CAN", "Year": 2017, "Average annual working hours per worker": 1696.4624, "GDP per capita": 48902.64, "Population": 36554344, "Gini coefficient": 0.333082063, "Life satisfaction": 7.1090765, "Productivity": 56.25571848, "Current health expenditure per capita": 5208.72}, {"Continent": "Americas", "Country": "Chile", "Code": "CHL", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 22864.05, "Population": 18368582, "Gini coefficient": 0.444410284, "Life satisfaction": 5.942250252, "Productivity": 27.26079146, "Current health expenditure per capita": 2219.14}, {"Continent": "Asia", "Country": "China", "Code": "CHN", "Year": 2017, "Average annual working hours per worker": 2174.3501, "GDP per capita": 13854.23, "Population": 1410275968, "Gini coefficient": 0.390757759, "Life satisfaction": 5.144120216, "Productivity": 11.35773921, "Current health expenditure per capita": 706.37}, {"Continent": "Americas", "Country": "Colombia", "Code": "COL", "Year": 2017, "Average annual working hours per worker": 1997.748, "GDP per capita": 13426.76, "Population": 48351668, "Gini coefficient": 0.497154848, "Life satisfaction": 6.350297928, "Productivity": 15.63291474, "Current health expenditure per capita": 1088.17}, {"Continent": "Americas", "Country": "Costa Rica", "Code": "CRI", "Year": 2017, "Average annual working hours per worker": 2212.3835, "GDP per capita": 18127.81, "Population": 4993849, "Gini coefficient": 0.483465406, "Life satisfaction": 6.997618675, "Productivity": 18.72804079, "Current health expenditure per capita": 1439.77}, {"Continent": "Europe", "Country": "Croatia", "Code": "HRV", "Year": 2017, "Average annual working hours per worker": 1834.9327, "GDP per capita": 25359.7, "Population": 4192468, "Gini coefficient": 0.303545759, "Life satisfaction": 5.625743866, "Productivity": 33.15712673, "Current health expenditure per capita": 1804.07}, {"Continent": "Asia", "Country": "Cyprus", "Code": "CYP", "Year": 2017, "Average annual working hours per worker": 1783.5206, "GDP per capita": 31253.99, "Population": 1208527, "Gini coefficient": 0.31416234, "Life satisfaction": 6.136832714, "Productivity": 42.59221773, "Current health expenditure per capita": 2532.87}, {"Continent": "Europe", "Country": "Czechia", "Code": "CZE", "Year": 2017, "Average annual working hours per worker": 1776.162, "GDP per capita": 35579.26, "Population": 10531315, "Gini coefficient": 0.248522097, "Life satisfaction": 6.24209404, "Productivity": 39.42304869, "Current health expenditure per capita": 2785.65}, {"Continent": "Europe", "Country": "Denmark", "Code": "DNK", "Year": 2017, "Average annual working hours per worker": 1400.3815, "GDP per capita": 51671.6, "Population": 5737286, "Gini coefficient": 0.287466614, "Life satisfaction": 7.693003178, "Productivity": 72.54114087, "Current health expenditure per capita": 5573.28}, {"Continent": "Americas", "Country": "Ecuador", "Code": "ECU", "Year": 2017, "Average annual working hours per worker": 1701.3558, "GDP per capita": 11413.08, "Population": 16696947, "Gini coefficient": 0.446730295, "Life satisfaction": 5.809131145, "Productivity": 15.32391947, "Current health expenditure per capita": 863.05}, {"Continent": "Europe", "Country": "Estonia", "Code": "EST", "Year": 2017, "Average annual working hours per worker": 1856.6827, "GDP per capita": 30981.6, "Population": 1317550, "Gini coefficient": 0.303550262, "Life satisfaction": 6.034641266, "Productivity": 33.48799406, "Current health expenditure per capita": 2241.85}, {"Continent": "Europe", "Country": "Finland", "Code": "FIN", "Year": 2017, "Average annual working hours per worker": 1659.2806, "GDP per capita": 43827.15, "Population": 5508146, "Gini coefficient": 0.273830854, "Life satisfaction": 7.780347824, "Productivity": 58.88463786, "Current health expenditure per capita": 4339.1}, {"Continent": "Europe", "Country": "France", "Code": "FRA", "Year": 2017, "Average annual working hours per worker": 1514.1371, "GDP per capita": 42818.76, "Population": 64144092, "Gini coefficient": 0.316320654, "Life satisfaction": 6.689644337, "Productivity": 68.37434064, "Current health expenditure per capita": 5059.99}, {"Continent": "Europe", "Country": "Germany", "Code": "DEU", "Year": 2017, "Average annual working hours per worker": 1353.8868, "GDP per capita": 51253.33, "Population": 82624368, "Gini coefficient": 0.312019051, "Life satisfaction": 7.035472393, "Productivity": 69.84848268, "Current health expenditure per capita": 6028.25}, {"Continent": "Europe", "Country": "Greece", "Code": "GRC", "Year": 2017, "Average annual working hours per worker": 2016.8954, "GDP per capita": 26477.58, "Population": 10692230, "Gini coefficient": 0.343520211, "Life satisfaction": 5.952157497, "Productivity": 33.35995335, "Current health expenditure per capita": 2325.62}, {"Continent": "Asia", "Country": "Hong Kong", "Code": "HKG", "Year": 2017, "Average annual working hours per worker": 2185.5789, "GDP per capita": 49927.07, "Population": 7461508, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.659317017, "Productivity": 44.37298407, "Current health expenditure per capita": null}, {"Continent": "Europe", "Country": "Hungary", "Code": "HUN", "Year": 2017, "Average annual working hours per worker": 1937.3325, "GDP per capita": 26908.97, "Population": 9788940, "Gini coefficient": 0.305841235, "Life satisfaction": 6.000259876, "Productivity": 33.0558028, "Current health expenditure per capita": 1988.7}, {"Continent": "Europe", "Country": "Iceland", "Code": "ISL", "Year": 2017, "Average annual working hours per worker": 1493.3651, "GDP per capita": 49844.32, "Population": 343641, "Gini coefficient": 0.261315802, "Life satisfaction": 7.532504559, "Productivity": 59.12501586, "Current health expenditure per capita": 4762.73}, {"Continent": "Asia", "Country": "India", "Code": "IND", "Year": 2017, "Average annual working hours per worker": 2117.0117, "GDP per capita": 6188.46, "Population": 1354195712, "Gini coefficient": 0.359430473, "Life satisfaction": 3.24876976, "Productivity": 8.009787126, "Current health expenditure per capita": 181.53}, {"Continent": "Asia", "Country": "Indonesia", "Code": "IDN", "Year": 2017, "Average annual working hours per worker": 2024.287, "GDP per capita": 10640.7, "Population": 264498848, "Gini coefficient": 0.38785263, "Life satisfaction": 5.346512794, "Productivity": 11.35478727, "Current health expenditure per capita": 317.59}, {"Continent": "Europe", "Country": "Ireland", "Code": "IRL", "Year": 2017, "Average annual working hours per worker": 1745.6843, "GDP per capita": 86808.65, "Population": 4771860, "Gini coefficient": 0.313598037, "Life satisfaction": 7.254841328, "Productivity": 109.488306, "Current health expenditure per capita": 5582.93}, {"Continent": "Asia", "Country": "Israel", "Code": "ISR", "Year": 2017, "Average annual working hours per worker": 1920.6106, "GDP per capita": 38979.03, "Population": 8309256, "Gini coefficient": 0.382020644, "Life satisfaction": 7.331779957, "Productivity": 41.0201119, "Current health expenditure per capita": 2992.02}, {"Continent": "Europe", "Country": "Italy", "Code": "ITA", "Year": 2017, "Average annual working hours per worker": 1722.6113, "GDP per capita": 40155.51, "Population": 60004024, "Gini coefficient": 0.359280009, "Life satisfaction": 6.445416927, "Productivity": 56.27207136, "Current health expenditure per capita": 3616.67}, {"Continent": "Asia", "Country": "Japan", "Code": "JPN", "Year": 2017, "Average annual working hours per worker": 1738.3633, "GDP per capita": 39598.29, "Population": 126662464, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.908039093, "Productivity": 42.4229346, "Current health expenditure per capita": 4398.02}, {"Continent": "Europe", "Country": "Latvia", "Code": "LVA", "Year": 2017, "Average annual working hours per worker": 1874.5979, "GDP per capita": 27162.37, "Population": 1954861, "Gini coefficient": 0.355719346, "Life satisfaction": 5.969753742, "Productivity": 31.56864146, "Current health expenditure per capita": 1703.6}, {"Continent": "Europe", "Country": "Lithuania", "Code": "LTU", "Year": 2017, "Average annual working hours per worker": 1844.0171, "GDP per capita": 29832.8, "Population": 2904452, "Gini coefficient": 0.372896992, "Life satisfaction": 6.064097881, "Productivity": 32.99194736, "Current health expenditure per capita": 2178.09}, {"Continent": "Europe", "Country": "Luxembourg", "Code": "LUX", "Year": 2017, "Average annual working hours per worker": 1518.8575, "GDP per capita": 90597.55, "Population": 596290, "Gini coefficient": 0.345157399, "Life satisfaction": 7.404015541, "Productivity": 83.16536059, "Current health expenditure per capita": 5980.64}, {"Continent": "Asia", "Country": "Malaysia", "Code": "MYS", "Year": 2017, "Average annual working hours per worker": 2238.2729, "GDP per capita": 24159.17, "Population": 31975812, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.427954197, "Productivity": 23.65407513, "Current health expenditure per capita": 987.58}, {"Continent": "Europe", "Country": "Malta", "Code": "MLT", "Year": 2017, "Average annual working hours per worker": 2040.0317, "GDP per capita": 35154.08, "Population": 479507, "Gini coefficient": 0.292322386, "Life satisfaction": 6.73297739, "Productivity": 39.21617358, "Current health expenditure per capita": 3873.25}, {"Continent": "Americas", "Country": "Mexico", "Code": "MEX", "Year": 2017, "Average annual working hours per worker": 2255.0, "GDP per capita": 18939.9, "Population": 122839256, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.431945324, "Productivity": 21.02031412, "Current health expenditure per capita": 1076.31}, {"Continent": "Asia", "Country": "Myanmar", "Code": "MMR", "Year": 2017, "Average annual working hours per worker": 2437.8633, "GDP per capita": 4762.93, "Population": 52288344, "Gini coefficient": 0.306968695, "Life satisfaction": 4.43423748, "Productivity": 4.735483675, "Current health expenditure per capita": 214.63}, {"Continent": "Europe", "Country": "Netherlands", "Code": "NLD", "Year": 2017, "Average annual working hours per worker": 1430.0229, "GDP per capita": 54233.45, "Population": 17207204, "Gini coefficient": 0.285358194, "Life satisfaction": 7.42526865, "Productivity": 70.61846134, "Current health expenditure per capita": 5602.59}, {"Continent": "Oceania", "Country": "New Zealand", "Code": "NZL", "Year": 2017, "Average annual working hours per worker": 1752.0, "GDP per capita": 39728.86, "Population": 4746253, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.205174446, "Productivity": 42.73759913, "Current health expenditure per capita": 3875.54}, {"Continent": "Africa", "Country": "Nigeria", "Code": "NGA", "Year": 2017, "Average annual working hours per worker": 1827.2401, "GDP per capita": 5060.98, "Population": 193495904, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.356419086, "Productivity": null, "Current health expenditure per capita": 194.81}, {"Continent": "Europe", "Country": "Norway", "Code": "NOR", "Year": 2017, "Average annual working hours per worker": 1417.4723, "GDP per capita": 69604.79, "Population": 5277396, "Gini coefficient": 0.269873302, "Life satisfaction": 7.442139626, "Productivity": 96.84903378, "Current health expenditure per capita": 6630.84}, {"Continent": "Asia", "Country": "Pakistan", "Code": "PAK", "Year": 2017, "Average annual working hours per worker": 2096.1443, "GDP per capita": 4743.69, "Population": 216379648, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.442717552, "Productivity": 8.322207396, "Current health expenditure per capita": 132.67}, {"Continent": "Americas", "Country": "Peru", "Code": "PER", "Year": 2017, "Average annual working hours per worker": 1932.4581, "GDP per capita": 11956.63, "Population": 31605488, "Gini coefficient": 0.4329279, "Life satisfaction": 5.999381542, "Productivity": 10.7489986, "Current health expenditure per capita": 624.02}, {"Continent": "Asia", "Country": "Philippines", "Code": "PHL", "Year": 2017, "Average annual working hours per worker": 2148.5645, "GDP per capita": 7858.48, "Population": 106738496, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.267745018, "Productivity": 9.450449282, "Current health expenditure per capita": 321.62}, {"Continent": "Europe", "Country": "Poland", "Code": "POL", "Year": 2017, "Average annual working hours per worker": 2028.4952, "GDP per capita": 29047.82, "Population": 38532816, "Gini coefficient": 0.302965813, "Life satisfaction": 6.24209404, "Productivity": 33.66429154, "Current health expenditure per capita": 1972.37}, {"Continent": "Europe", "Country": "Portugal", "Code": "PRT", "Year": 2017, "Average annual working hours per worker": 1863.1744, "GDP per capita": 30430.03, "Population": 10307528, "Gini coefficient": 0.338038412, "Life satisfaction": 6.095473289, "Productivity": 34.62209549, "Current health expenditure per capita": 3072.32}, {"Continent": "Europe", "Country": "Romania", "Code": "ROU", "Year": 2017, "Average annual working hours per worker": 1805.9998, "GDP per capita": 25424.06, "Population": 19698852, "Gini coefficient": 0.360168279, "Life satisfaction": 6.129942417, "Productivity": 32.2711146, "Current health expenditure per capita": 1398.55}, {"Continent": "Europe", "Country": "Russia", "Code": "RUS", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 26797.82, "Population": 145452544, "Gini coefficient": 0.37239071, "Life satisfaction": 5.440523624, "Productivity": 27.44623652, "Current health expenditure per capita": 1406.2}, {"Continent": "Asia", "Country": "Singapore", "Code": "SGP", "Year": 2017, "Average annual working hours per worker": 2237.7263, "GDP per capita": 81444.79, "Population": 5764489, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.378359795, "Productivity": 54.29877798, "Current health expenditure per capita": 4091.44}, {"Continent": "Europe", "Country": "Slovakia", "Code": "SVK", "Year": 2017, "Average annual working hours per worker": 1745.2307, "GDP per capita": 26467.1, "Population": 5439418, "Gini coefficient": 0.23237751, "Life satisfaction": 6.243428707, "Productivity": 35.16566573, "Current health expenditure per capita": 2038.16}, {"Continent": "Europe", "Country": "Slovenia", "Code": "SVN", "Year": 2017, "Average annual working hours per worker": 1655.089, "GDP per capita": 31594.71, "Population": 2098396, "Gini coefficient": 0.242193073, "Life satisfaction": 6.665273666, "Productivity": 40.55475278, "Current health expenditure per capita": 2998.32}, {"Continent": "Africa", "Country": "South Africa", "Code": "ZAF", "Year": 2017, "Average annual working hours per worker": 2209.0916, "GDP per capita": 12735.03, "Population": 56641208, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.034863472, "Productivity": 18.05485455, "Current health expenditure per capita": 1107.89}, {"Continent": "Asia", "Country": "South Korea", "Code": "KOR", "Year": 2017, "Average annual working hours per worker": 2063.3315, "GDP per capita": 40875.21, "Population": 51511640, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.902816772, "Productivity": 39.08392755, "Current health expenditure per capita": 2925.95}, {"Continent": "Europe", "Country": "Spain", "Code": "ESP", "Year": 2017, "Average annual working hours per worker": 1686.4973, "GDP per capita": 38928.51, "Population": 46584168, "Gini coefficient": 0.346545469, "Life satisfaction": 6.457449436, "Productivity": 56.06301345, "Current health expenditure per capita": 3556.87}, {"Continent": "Asia", "Country": "Sri Lanka", "Code": "LKA", "Year": 2017, "Average annual working hours per worker": 1923.9354, "GDP per capita": 12733.1, "Population": 21506816, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.213299274, "Productivity": 17.04851325, "Current health expenditure per capita": 459.25}, {"Continent": "Europe", "Country": "Sweden", "Code": "SWE", "Year": 2017, "Average annual working hours per worker": 1609.2896, "GDP per capita": 52032.67, "Population": 10058191, "Gini coefficient": 0.287746034, "Life satisfaction": 7.398092747, "Productivity": 64.3374695, "Current health expenditure per capita": 5655.7}, {"Continent": "Europe", "Country": "Switzerland", "Code": "CHE", "Year": 2017, "Average annual working hours per worker": 1589.6758, "GDP per capita": 73624.98, "Population": 8451688, "Gini coefficient": 0.32676334, "Life satisfaction": 7.69422102, "Productivity": 80.58822762, "Current health expenditure per capita": 7989.64}, {"Continent": "Asia", "Country": "Taiwan", "Code": "TWN", "Year": 2017, "Average annual working hours per worker": 1990.3212, "GDP per capita": 45375.41, "Population": 23665028, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.537089825, "Productivity": 44.99929907, "Current health expenditure per capita": null}, {"Continent": "Asia", "Country": "Thailand", "Code": "THA", "Year": 2017, "Average annual working hours per worker": 2185.4456, "GDP per capita": 16665.38, "Population": 70898208, "Gini coefficient": 0.36528755, "Life satisfaction": 6.02215147, "Productivity": 14.74583813, "Current health expenditure per capita": 669.58}, {"Continent": "Asia", "Country": "Turkey", "Code": "TUR", "Year": 2017, "Average annual working hours per worker": 1832.0, "GDP per capita": 26611.18, "Population": 82089824, "Gini coefficient": 0.414056667, "Life satisfaction": 4.87207365, "Productivity": 41.79920311, "Current health expenditure per capita": 1166.73}, {"Continent": "Europe", "Country": "United Kingdom", "Code": "GBR", "Year": 2017, "Average annual working hours per worker": 1670.2728, "GDP per capita": 44093.93, "Population": 66064808, "Gini coefficient": 0.351488307, "Life satisfaction": 7.157151222, "Productivity": 54.67692069, "Current health expenditure per capita": 4515.59}, {"Continent": "Americas", "Country": "United States", "Code": "USA", "Year": 2017, "Average annual working hours per worker": 1757.2255, "GDP per capita": 60116.57, "Population": 329791232, "Gini coefficient": 0.411805587, "Life satisfaction": 6.943701267, "Productivity": 71.63857051, "Current health expenditure per capita": 10103.09}, {"Continent": "Americas", "Country": "Uruguay", "Code": "URY", "Year": 2017, "Average annual working hours per worker": 1552.347, "GDP per capita": 20615.56, "Population": 3422205, "Gini coefficient": 0.394645312, "Life satisfaction": 6.600337029, "Productivity": 28.29584596, "Current health expenditure per capita": 2029.89}, {"Continent": "Asia", "Country": "Vietnam", "Code": "VNM", "Year": 2017, "Average annual working hours per worker": 2169.5916, "GDP per capita": 6841.65, "Population": 94033048, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.467451096, "Productivity": 5.652919029, "Current health expenditure per capita": 423.98}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>
<section id="chart-4-current-health-expenditure-per-capita---distribution-plot-and-boxplot" class="level3">
<h3 class="anchored" data-anchor-id="chart-4-current-health-expenditure-per-capita---distribution-plot-and-boxplot">Chart 4: Current health expenditure per capita - distribution plot and boxplot</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># By using distribution plot we can decide which technique we will use for dealing with missing values.</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Variable = Current health expenditure per capita</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>hist3 <span class="op">=</span> alt.Chart(df).mark_bar().encode(</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"Current health expenditure per capita"</span>, </span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>            <span class="bu">bin</span><span class="op">=</span>alt.BinParams(maxbins<span class="op">=</span><span class="dv">20</span>), </span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>            scale<span class="op">=</span>alt.Scale(zero<span class="op">=</span><span class="va">True</span>)),</span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'count()'</span>,</span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a>box3 <span class="op">=</span> alt.Chart(df).mark_boxplot().encode(</span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'Current health expenditure per capita'</span>,</span>
<span id="cb114-13"><a href="#cb114-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb114-14"><a href="#cb114-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-15"><a href="#cb114-15" aria-hidden="true" tabindex="-1"></a>alt.vconcat(hist3, box3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\ji_so\anaconda3\envs\stats\lib\site-packages\altair\utils\core.py:317: FutureWarning: iteritems is deprecated and will be removed in a future version. Use .items instead.
  for col_name, dtype in df.dtypes.iteritems():</code></pre>
</div>
<div class="cell-output cell-output-display">

<div id="altair-viz-3bfd569d1ee8428092b23ef9f20daed2"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-3bfd569d1ee8428092b23ef9f20daed2") {
      outputDiv = document.getElementById("altair-viz-3bfd569d1ee8428092b23ef9f20daed2");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"mark": "bar", "encoding": {"x": {"bin": {"maxbins": 20}, "field": "Current health expenditure per capita", "scale": {"zero": true}, "type": "quantitative"}, "y": {"aggregate": "count", "type": "quantitative"}}}, {"mark": "boxplot", "encoding": {"x": {"field": "Current health expenditure per capita", "type": "quantitative"}}}], "data": {"name": "data-ba6e791371eedc97a6113d74b77f3086"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-ba6e791371eedc97a6113d74b77f3086": [{"Continent": "Americas", "Country": "Argentina", "Code": "ARG", "Year": 2017, "Average annual working hours per worker": 1691.5363, "GDP per capita": 23272.18, "Population": 44054616, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.085560799, "Productivity": 30.95546039, "Current health expenditure per capita": 2470.11}, {"Continent": "Oceania", "Country": "Australia", "Code": "AUS", "Year": 2017, "Average annual working hours per worker": 1731.4943, "GDP per capita": 52536.19, "Population": 24590336, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.233994961, "Productivity": 60.3416786, "Current health expenditure per capita": 4715.83}, {"Continent": "Europe", "Country": "Austria", "Code": "AUT", "Year": 2017, "Average annual working hours per worker": 1613.0519, "GDP per capita": 51954.28, "Population": 8797497, "Gini coefficient": 0.29737585, "Life satisfaction": 7.195361137, "Productivity": 64.7801697, "Current health expenditure per capita": 5641.18}, {"Continent": "Asia", "Country": "Bangladesh", "Code": "BGD", "Year": 2017, "Average annual working hours per worker": 2232.3542, "GDP per capita": 4112.7, "Population": 161793968, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.114216805, "Productivity": 4.307636988, "Current health expenditure per capita": 101.18}, {"Continent": "Europe", "Country": "Belgium", "Code": "BEL", "Year": 2017, "Average annual working hours per worker": 1544.269, "GDP per capita": 45150.2, "Population": 11384491, "Gini coefficient": 0.273879678, "Life satisfaction": 6.772138119, "Productivity": 68.51652068, "Current health expenditure per capita": 5450.48}, {"Continent": "Americas", "Country": "Brazil", "Code": "BRA", "Year": 2017, "Average annual working hours per worker": 1709.4856, "GDP per capita": 14284.61, "Population": 208504960, "Gini coefficient": 0.5333405, "Life satisfaction": 6.451148987, "Productivity": 19.18829359, "Current health expenditure per capita": 1375.66}, {"Continent": "Europe", "Country": "Bulgaria", "Code": "BGR", "Year": 2017, "Average annual working hours per worker": 1643.5475, "GDP per capita": 19579.83, "Population": 7182430, "Gini coefficient": 0.403790468, "Life satisfaction": 5.108438015, "Productivity": 25.39212178, "Current health expenditure per capita": 1607.71}, {"Continent": "Asia", "Country": "Cambodia", "Code": "KHM", "Year": 2017, "Average annual working hours per worker": 2455.5508, "GDP per capita": 3950.93, "Population": 15830694, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.998284817, "Productivity": 3.022649989, "Current health expenditure per capita": 224.81}, {"Continent": "Americas", "Country": "Canada", "Code": "CAN", "Year": 2017, "Average annual working hours per worker": 1696.4624, "GDP per capita": 48902.64, "Population": 36554344, "Gini coefficient": 0.333082063, "Life satisfaction": 7.1090765, "Productivity": 56.25571848, "Current health expenditure per capita": 5208.72}, {"Continent": "Americas", "Country": "Chile", "Code": "CHL", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 22864.05, "Population": 18368582, "Gini coefficient": 0.444410284, "Life satisfaction": 5.942250252, "Productivity": 27.26079146, "Current health expenditure per capita": 2219.14}, {"Continent": "Asia", "Country": "China", "Code": "CHN", "Year": 2017, "Average annual working hours per worker": 2174.3501, "GDP per capita": 13854.23, "Population": 1410275968, "Gini coefficient": 0.390757759, "Life satisfaction": 5.144120216, "Productivity": 11.35773921, "Current health expenditure per capita": 706.37}, {"Continent": "Americas", "Country": "Colombia", "Code": "COL", "Year": 2017, "Average annual working hours per worker": 1997.748, "GDP per capita": 13426.76, "Population": 48351668, "Gini coefficient": 0.497154848, "Life satisfaction": 6.350297928, "Productivity": 15.63291474, "Current health expenditure per capita": 1088.17}, {"Continent": "Americas", "Country": "Costa Rica", "Code": "CRI", "Year": 2017, "Average annual working hours per worker": 2212.3835, "GDP per capita": 18127.81, "Population": 4993849, "Gini coefficient": 0.483465406, "Life satisfaction": 6.997618675, "Productivity": 18.72804079, "Current health expenditure per capita": 1439.77}, {"Continent": "Europe", "Country": "Croatia", "Code": "HRV", "Year": 2017, "Average annual working hours per worker": 1834.9327, "GDP per capita": 25359.7, "Population": 4192468, "Gini coefficient": 0.303545759, "Life satisfaction": 5.625743866, "Productivity": 33.15712673, "Current health expenditure per capita": 1804.07}, {"Continent": "Asia", "Country": "Cyprus", "Code": "CYP", "Year": 2017, "Average annual working hours per worker": 1783.5206, "GDP per capita": 31253.99, "Population": 1208527, "Gini coefficient": 0.31416234, "Life satisfaction": 6.136832714, "Productivity": 42.59221773, "Current health expenditure per capita": 2532.87}, {"Continent": "Europe", "Country": "Czechia", "Code": "CZE", "Year": 2017, "Average annual working hours per worker": 1776.162, "GDP per capita": 35579.26, "Population": 10531315, "Gini coefficient": 0.248522097, "Life satisfaction": 6.24209404, "Productivity": 39.42304869, "Current health expenditure per capita": 2785.65}, {"Continent": "Europe", "Country": "Denmark", "Code": "DNK", "Year": 2017, "Average annual working hours per worker": 1400.3815, "GDP per capita": 51671.6, "Population": 5737286, "Gini coefficient": 0.287466614, "Life satisfaction": 7.693003178, "Productivity": 72.54114087, "Current health expenditure per capita": 5573.28}, {"Continent": "Americas", "Country": "Ecuador", "Code": "ECU", "Year": 2017, "Average annual working hours per worker": 1701.3558, "GDP per capita": 11413.08, "Population": 16696947, "Gini coefficient": 0.446730295, "Life satisfaction": 5.809131145, "Productivity": 15.32391947, "Current health expenditure per capita": 863.05}, {"Continent": "Europe", "Country": "Estonia", "Code": "EST", "Year": 2017, "Average annual working hours per worker": 1856.6827, "GDP per capita": 30981.6, "Population": 1317550, "Gini coefficient": 0.303550262, "Life satisfaction": 6.034641266, "Productivity": 33.48799406, "Current health expenditure per capita": 2241.85}, {"Continent": "Europe", "Country": "Finland", "Code": "FIN", "Year": 2017, "Average annual working hours per worker": 1659.2806, "GDP per capita": 43827.15, "Population": 5508146, "Gini coefficient": 0.273830854, "Life satisfaction": 7.780347824, "Productivity": 58.88463786, "Current health expenditure per capita": 4339.1}, {"Continent": "Europe", "Country": "France", "Code": "FRA", "Year": 2017, "Average annual working hours per worker": 1514.1371, "GDP per capita": 42818.76, "Population": 64144092, "Gini coefficient": 0.316320654, "Life satisfaction": 6.689644337, "Productivity": 68.37434064, "Current health expenditure per capita": 5059.99}, {"Continent": "Europe", "Country": "Germany", "Code": "DEU", "Year": 2017, "Average annual working hours per worker": 1353.8868, "GDP per capita": 51253.33, "Population": 82624368, "Gini coefficient": 0.312019051, "Life satisfaction": 7.035472393, "Productivity": 69.84848268, "Current health expenditure per capita": 6028.25}, {"Continent": "Europe", "Country": "Greece", "Code": "GRC", "Year": 2017, "Average annual working hours per worker": 2016.8954, "GDP per capita": 26477.58, "Population": 10692230, "Gini coefficient": 0.343520211, "Life satisfaction": 5.952157497, "Productivity": 33.35995335, "Current health expenditure per capita": 2325.62}, {"Continent": "Asia", "Country": "Hong Kong", "Code": "HKG", "Year": 2017, "Average annual working hours per worker": 2185.5789, "GDP per capita": 49927.07, "Population": 7461508, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.659317017, "Productivity": 44.37298407, "Current health expenditure per capita": null}, {"Continent": "Europe", "Country": "Hungary", "Code": "HUN", "Year": 2017, "Average annual working hours per worker": 1937.3325, "GDP per capita": 26908.97, "Population": 9788940, "Gini coefficient": 0.305841235, "Life satisfaction": 6.000259876, "Productivity": 33.0558028, "Current health expenditure per capita": 1988.7}, {"Continent": "Europe", "Country": "Iceland", "Code": "ISL", "Year": 2017, "Average annual working hours per worker": 1493.3651, "GDP per capita": 49844.32, "Population": 343641, "Gini coefficient": 0.261315802, "Life satisfaction": 7.532504559, "Productivity": 59.12501586, "Current health expenditure per capita": 4762.73}, {"Continent": "Asia", "Country": "India", "Code": "IND", "Year": 2017, "Average annual working hours per worker": 2117.0117, "GDP per capita": 6188.46, "Population": 1354195712, "Gini coefficient": 0.359430473, "Life satisfaction": 3.24876976, "Productivity": 8.009787126, "Current health expenditure per capita": 181.53}, {"Continent": "Asia", "Country": "Indonesia", "Code": "IDN", "Year": 2017, "Average annual working hours per worker": 2024.287, "GDP per capita": 10640.7, "Population": 264498848, "Gini coefficient": 0.38785263, "Life satisfaction": 5.346512794, "Productivity": 11.35478727, "Current health expenditure per capita": 317.59}, {"Continent": "Europe", "Country": "Ireland", "Code": "IRL", "Year": 2017, "Average annual working hours per worker": 1745.6843, "GDP per capita": 86808.65, "Population": 4771860, "Gini coefficient": 0.313598037, "Life satisfaction": 7.254841328, "Productivity": 109.488306, "Current health expenditure per capita": 5582.93}, {"Continent": "Asia", "Country": "Israel", "Code": "ISR", "Year": 2017, "Average annual working hours per worker": 1920.6106, "GDP per capita": 38979.03, "Population": 8309256, "Gini coefficient": 0.382020644, "Life satisfaction": 7.331779957, "Productivity": 41.0201119, "Current health expenditure per capita": 2992.02}, {"Continent": "Europe", "Country": "Italy", "Code": "ITA", "Year": 2017, "Average annual working hours per worker": 1722.6113, "GDP per capita": 40155.51, "Population": 60004024, "Gini coefficient": 0.359280009, "Life satisfaction": 6.445416927, "Productivity": 56.27207136, "Current health expenditure per capita": 3616.67}, {"Continent": "Asia", "Country": "Japan", "Code": "JPN", "Year": 2017, "Average annual working hours per worker": 1738.3633, "GDP per capita": 39598.29, "Population": 126662464, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.908039093, "Productivity": 42.4229346, "Current health expenditure per capita": 4398.02}, {"Continent": "Europe", "Country": "Latvia", "Code": "LVA", "Year": 2017, "Average annual working hours per worker": 1874.5979, "GDP per capita": 27162.37, "Population": 1954861, "Gini coefficient": 0.355719346, "Life satisfaction": 5.969753742, "Productivity": 31.56864146, "Current health expenditure per capita": 1703.6}, {"Continent": "Europe", "Country": "Lithuania", "Code": "LTU", "Year": 2017, "Average annual working hours per worker": 1844.0171, "GDP per capita": 29832.8, "Population": 2904452, "Gini coefficient": 0.372896992, "Life satisfaction": 6.064097881, "Productivity": 32.99194736, "Current health expenditure per capita": 2178.09}, {"Continent": "Europe", "Country": "Luxembourg", "Code": "LUX", "Year": 2017, "Average annual working hours per worker": 1518.8575, "GDP per capita": 90597.55, "Population": 596290, "Gini coefficient": 0.345157399, "Life satisfaction": 7.404015541, "Productivity": 83.16536059, "Current health expenditure per capita": 5980.64}, {"Continent": "Asia", "Country": "Malaysia", "Code": "MYS", "Year": 2017, "Average annual working hours per worker": 2238.2729, "GDP per capita": 24159.17, "Population": 31975812, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.427954197, "Productivity": 23.65407513, "Current health expenditure per capita": 987.58}, {"Continent": "Europe", "Country": "Malta", "Code": "MLT", "Year": 2017, "Average annual working hours per worker": 2040.0317, "GDP per capita": 35154.08, "Population": 479507, "Gini coefficient": 0.292322386, "Life satisfaction": 6.73297739, "Productivity": 39.21617358, "Current health expenditure per capita": 3873.25}, {"Continent": "Americas", "Country": "Mexico", "Code": "MEX", "Year": 2017, "Average annual working hours per worker": 2255.0, "GDP per capita": 18939.9, "Population": 122839256, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.431945324, "Productivity": 21.02031412, "Current health expenditure per capita": 1076.31}, {"Continent": "Asia", "Country": "Myanmar", "Code": "MMR", "Year": 2017, "Average annual working hours per worker": 2437.8633, "GDP per capita": 4762.93, "Population": 52288344, "Gini coefficient": 0.306968695, "Life satisfaction": 4.43423748, "Productivity": 4.735483675, "Current health expenditure per capita": 214.63}, {"Continent": "Europe", "Country": "Netherlands", "Code": "NLD", "Year": 2017, "Average annual working hours per worker": 1430.0229, "GDP per capita": 54233.45, "Population": 17207204, "Gini coefficient": 0.285358194, "Life satisfaction": 7.42526865, "Productivity": 70.61846134, "Current health expenditure per capita": 5602.59}, {"Continent": "Oceania", "Country": "New Zealand", "Code": "NZL", "Year": 2017, "Average annual working hours per worker": 1752.0, "GDP per capita": 39728.86, "Population": 4746253, "Gini coefficient": 0.3407793115, "Life satisfaction": 7.205174446, "Productivity": 42.73759913, "Current health expenditure per capita": 3875.54}, {"Continent": "Africa", "Country": "Nigeria", "Code": "NGA", "Year": 2017, "Average annual working hours per worker": 1827.2401, "GDP per capita": 5060.98, "Population": 193495904, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.356419086, "Productivity": 34.62209549, "Current health expenditure per capita": 194.81}, {"Continent": "Europe", "Country": "Norway", "Code": "NOR", "Year": 2017, "Average annual working hours per worker": 1417.4723, "GDP per capita": 69604.79, "Population": 5277396, "Gini coefficient": 0.269873302, "Life satisfaction": 7.442139626, "Productivity": 96.84903378, "Current health expenditure per capita": 6630.84}, {"Continent": "Asia", "Country": "Pakistan", "Code": "PAK", "Year": 2017, "Average annual working hours per worker": 2096.1443, "GDP per capita": 4743.69, "Population": 216379648, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.442717552, "Productivity": 8.322207396, "Current health expenditure per capita": 132.67}, {"Continent": "Americas", "Country": "Peru", "Code": "PER", "Year": 2017, "Average annual working hours per worker": 1932.4581, "GDP per capita": 11956.63, "Population": 31605488, "Gini coefficient": 0.4329279, "Life satisfaction": 5.999381542, "Productivity": 10.7489986, "Current health expenditure per capita": 624.02}, {"Continent": "Asia", "Country": "Philippines", "Code": "PHL", "Year": 2017, "Average annual working hours per worker": 2148.5645, "GDP per capita": 7858.48, "Population": 106738496, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.267745018, "Productivity": 9.450449282, "Current health expenditure per capita": 321.62}, {"Continent": "Europe", "Country": "Poland", "Code": "POL", "Year": 2017, "Average annual working hours per worker": 2028.4952, "GDP per capita": 29047.82, "Population": 38532816, "Gini coefficient": 0.302965813, "Life satisfaction": 6.24209404, "Productivity": 33.66429154, "Current health expenditure per capita": 1972.37}, {"Continent": "Europe", "Country": "Portugal", "Code": "PRT", "Year": 2017, "Average annual working hours per worker": 1863.1744, "GDP per capita": 30430.03, "Population": 10307528, "Gini coefficient": 0.338038412, "Life satisfaction": 6.095473289, "Productivity": 34.62209549, "Current health expenditure per capita": 3072.32}, {"Continent": "Europe", "Country": "Romania", "Code": "ROU", "Year": 2017, "Average annual working hours per worker": 1805.9998, "GDP per capita": 25424.06, "Population": 19698852, "Gini coefficient": 0.360168279, "Life satisfaction": 6.129942417, "Productivity": 32.2711146, "Current health expenditure per capita": 1398.55}, {"Continent": "Europe", "Country": "Russia", "Code": "RUS", "Year": 2017, "Average annual working hours per worker": 1974.0, "GDP per capita": 26797.82, "Population": 145452544, "Gini coefficient": 0.37239071, "Life satisfaction": 5.440523624, "Productivity": 27.44623652, "Current health expenditure per capita": 1406.2}, {"Continent": "Asia", "Country": "Singapore", "Code": "SGP", "Year": 2017, "Average annual working hours per worker": 2237.7263, "GDP per capita": 81444.79, "Population": 5764489, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.378359795, "Productivity": 54.29877798, "Current health expenditure per capita": 4091.44}, {"Continent": "Europe", "Country": "Slovakia", "Code": "SVK", "Year": 2017, "Average annual working hours per worker": 1745.2307, "GDP per capita": 26467.1, "Population": 5439418, "Gini coefficient": 0.23237751, "Life satisfaction": 6.243428707, "Productivity": 35.16566573, "Current health expenditure per capita": 2038.16}, {"Continent": "Europe", "Country": "Slovenia", "Code": "SVN", "Year": 2017, "Average annual working hours per worker": 1655.089, "GDP per capita": 31594.71, "Population": 2098396, "Gini coefficient": 0.242193073, "Life satisfaction": 6.665273666, "Productivity": 40.55475278, "Current health expenditure per capita": 2998.32}, {"Continent": "Africa", "Country": "South Africa", "Code": "ZAF", "Year": 2017, "Average annual working hours per worker": 2209.0916, "GDP per capita": 12735.03, "Population": 56641208, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.034863472, "Productivity": 18.05485455, "Current health expenditure per capita": 1107.89}, {"Continent": "Asia", "Country": "South Korea", "Code": "KOR", "Year": 2017, "Average annual working hours per worker": 2063.3315, "GDP per capita": 40875.21, "Population": 51511640, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.902816772, "Productivity": 39.08392755, "Current health expenditure per capita": 2925.95}, {"Continent": "Europe", "Country": "Spain", "Code": "ESP", "Year": 2017, "Average annual working hours per worker": 1686.4973, "GDP per capita": 38928.51, "Population": 46584168, "Gini coefficient": 0.346545469, "Life satisfaction": 6.457449436, "Productivity": 56.06301345, "Current health expenditure per capita": 3556.87}, {"Continent": "Asia", "Country": "Sri Lanka", "Code": "LKA", "Year": 2017, "Average annual working hours per worker": 1923.9354, "GDP per capita": 12733.1, "Population": 21506816, "Gini coefficient": 0.3407793115, "Life satisfaction": 4.213299274, "Productivity": 17.04851325, "Current health expenditure per capita": 459.25}, {"Continent": "Europe", "Country": "Sweden", "Code": "SWE", "Year": 2017, "Average annual working hours per worker": 1609.2896, "GDP per capita": 52032.67, "Population": 10058191, "Gini coefficient": 0.287746034, "Life satisfaction": 7.398092747, "Productivity": 64.3374695, "Current health expenditure per capita": 5655.7}, {"Continent": "Europe", "Country": "Switzerland", "Code": "CHE", "Year": 2017, "Average annual working hours per worker": 1589.6758, "GDP per capita": 73624.98, "Population": 8451688, "Gini coefficient": 0.32676334, "Life satisfaction": 7.69422102, "Productivity": 80.58822762, "Current health expenditure per capita": 7989.64}, {"Continent": "Asia", "Country": "Taiwan", "Code": "TWN", "Year": 2017, "Average annual working hours per worker": 1990.3212, "GDP per capita": 45375.41, "Population": 23665028, "Gini coefficient": 0.3407793115, "Life satisfaction": 6.537089825, "Productivity": 44.99929907, "Current health expenditure per capita": null}, {"Continent": "Asia", "Country": "Thailand", "Code": "THA", "Year": 2017, "Average annual working hours per worker": 2185.4456, "GDP per capita": 16665.38, "Population": 70898208, "Gini coefficient": 0.36528755, "Life satisfaction": 6.02215147, "Productivity": 14.74583813, "Current health expenditure per capita": 669.58}, {"Continent": "Asia", "Country": "Turkey", "Code": "TUR", "Year": 2017, "Average annual working hours per worker": 1832.0, "GDP per capita": 26611.18, "Population": 82089824, "Gini coefficient": 0.414056667, "Life satisfaction": 4.87207365, "Productivity": 41.79920311, "Current health expenditure per capita": 1166.73}, {"Continent": "Europe", "Country": "United Kingdom", "Code": "GBR", "Year": 2017, "Average annual working hours per worker": 1670.2728, "GDP per capita": 44093.93, "Population": 66064808, "Gini coefficient": 0.351488307, "Life satisfaction": 7.157151222, "Productivity": 54.67692069, "Current health expenditure per capita": 4515.59}, {"Continent": "Americas", "Country": "United States", "Code": "USA", "Year": 2017, "Average annual working hours per worker": 1757.2255, "GDP per capita": 60116.57, "Population": 329791232, "Gini coefficient": 0.411805587, "Life satisfaction": 6.943701267, "Productivity": 71.63857051, "Current health expenditure per capita": 10103.09}, {"Continent": "Americas", "Country": "Uruguay", "Code": "URY", "Year": 2017, "Average annual working hours per worker": 1552.347, "GDP per capita": 20615.56, "Population": 3422205, "Gini coefficient": 0.394645312, "Life satisfaction": 6.600337029, "Productivity": 28.29584596, "Current health expenditure per capita": 2029.89}, {"Continent": "Asia", "Country": "Vietnam", "Code": "VNM", "Year": 2017, "Average annual working hours per worker": 2169.5916, "GDP per capita": 6841.65, "Population": 94033048, "Gini coefficient": 0.3407793115, "Life satisfaction": 5.467451096, "Productivity": 5.652919029, "Current health expenditure per capita": 423.98}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>